var Am=Object.defineProperty;var dm=(e,t,n)=>t in e?Am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ce=(e,t,n)=>(dm(e,typeof t!="symbol"?t+"":t,n),n);var CL=gm((wt,st)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vm(e){var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var l=[null];l.push.apply(l,arguments);var d=Function.bind.apply(t,l);return new d}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),n}var su={exports:{}},ho={},te={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),mm=Symbol.for("react.portal"),Cm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),Em=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),nf=Symbol.iterator;function _m(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vg=Object.assign,mg={};function mi(e,t,n){this.props=e,this.context=t,this.refs=mg,this.updater=n||pg}mi.prototype.isReactComponent={};mi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cg(){}Cg.prototype=mi.prototype;function ou(e,t,n){this.props=e,this.context=t,this.refs=mg,this.updater=n||pg}var lu=ou.prototype=new Cg;lu.constructor=ou;vg(lu,mi.prototype);lu.isPureReactComponent=!0;var rf=Array.isArray,yg=Object.prototype.hasOwnProperty,cu={current:null},wg={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,n){var r,l={},d=null,m=null;if(t!=null)for(r in t.ref!==void 0&&(m=t.ref),t.key!==void 0&&(d=""+t.key),t)yg.call(t,r)&&!wg.hasOwnProperty(r)&&(l[r]=t[r]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var i=Array(c),h=0;h<c;h++)i[h]=arguments[h+2];l.children=i}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)l[r]===void 0&&(l[r]=c[r]);return{$$typeof:Ta,type:e,key:d,ref:m,props:l,_owner:cu.current}}function Qm(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var af=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?km(""+e.key):t.toString(36)}function ps(e,t,n,r,l){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var m=!1;if(e===null)m=!0;else switch(d){case"string":case"number":m=!0;break;case"object":switch(e.$$typeof){case Ta:case mm:m=!0}}if(m)return m=e,l=l(m),e=r===""?"."+zo(m,0):r,rf(l)?(n="",e!=null&&(n=e.replace(af,"$&/")+"/"),ps(l,t,n,"",function(h){return h})):l!=null&&(uu(l)&&(l=Qm(l,n+(!l.key||m&&m.key===l.key?"":(""+l.key).replace(af,"$&/")+"/")+e)),t.push(l)),1;if(m=0,r=r===""?".":r+":",rf(e))for(var c=0;c<e.length;c++){d=e[c];var i=r+zo(d,c);m+=ps(d,t,n,i,l)}else if(i=_m(e),typeof i=="function")for(e=i.call(e),c=0;!(d=e.next()).done;)d=d.value,i=r+zo(d,c++),m+=ps(d,t,n,i,l);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return m}function Wa(e,t,n){if(e==null)return e;var r=[],l=0;return ps(e,r,"","",function(d){return t.call(n,d,l++)}),r}function Tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},vs={transition:null},Dm={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:vs,ReactCurrentOwner:cu};me.Children={map:Wa,forEach:function(e,t,n){Wa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wa(e,function(){t++}),t},toArray:function(e){return Wa(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=mi;me.Fragment=Cm;me.Profiler=wm;me.PureComponent=ou;me.StrictMode=ym;me.Suspense=xm;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dm;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vg({},e.props),l=e.key,d=e.ref,m=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,m=cu.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(i in t)yg.call(t,i)&&!wg.hasOwnProperty(i)&&(r[i]=t[i]===void 0&&c!==void 0?c[i]:t[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Ta,type:e.type,key:l,ref:d,props:r,_owner:m}};me.createContext=function(e){return e={$$typeof:Bm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Em,_context:e},e.Consumer=e};me.createElement=Eg;me.createFactory=function(e){var t=Eg.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:Im,render:e}};me.isValidElement=uu;me.lazy=function(e){return{$$typeof:Sm,_payload:{_status:-1,_result:e},_init:Tm}};me.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(e,t){return lt.current.useCallback(e,t)};me.useContext=function(e){return lt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};me.useEffect=function(e,t){return lt.current.useEffect(e,t)};me.useId=function(){return lt.current.useId()};me.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return lt.current.useMemo(e,t)};me.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};me.useRef=function(e){return lt.current.useRef(e)};me.useState=function(e){return lt.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return lt.current.useTransition()};me.version="18.2.0";(function(e){e.exports=me})(te);const k=pm(te.exports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=te.exports,Fm=Symbol.for("react.element"),Mm=Symbol.for("react.fragment"),Pm=Object.prototype.hasOwnProperty,Lm=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,n){var r,l={},d=null,m=null;n!==void 0&&(d=""+n),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(m=t.ref);for(r in t)Pm.call(t,r)&&!Rm.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Fm,type:e,key:d,ref:m,props:l,_owner:Lm.current}}ho.Fragment=Mm;ho.jsx=Bg;ho.jsxs=Bg;(function(e){e.exports=ho})(su);const z=su.exports.jsx,pe=su.exports.jsxs;var ks={},hu={exports:{}},xt={},Ig={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,I){var S=L.length;L.push(I);e:for(;0<S;){var Q=S-1>>>1,T=L[Q];if(0<l(T,I))L[Q]=I,L[S]=T,S=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var I=L[0],S=L.pop();if(S!==I){L[0]=S;e:for(var Q=0,T=L.length,M=T>>>1;Q<M;){var _=2*(Q+1)-1,x=L[_],O=_+1,F=L[O];if(0>l(x,S))O<T&&0>l(F,x)?(L[Q]=F,L[O]=S,Q=O):(L[Q]=x,L[_]=S,Q=_);else if(O<T&&0>l(F,S))L[Q]=F,L[O]=S,Q=O;else break e}}return I}function l(L,I){var S=L.sortIndex-I.sortIndex;return S!==0?S:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var m=Date,c=m.now();e.unstable_now=function(){return m.now()-c}}var i=[],h=[],A=1,a=null,o=3,s=!1,u=!1,g=!1,f=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(L){for(var I=n(h);I!==null;){if(I.callback===null)r(h);else if(I.startTime<=L)r(h),I.sortIndex=I.expirationTime,t(i,I);else break;I=n(h)}}function y(L){if(g=!1,C(L),!u)if(n(i)!==null)u=!0,oe(w);else{var I=n(h);I!==null&&U(y,I.startTime-L)}}function w(L,I){u=!1,g&&(g=!1,p(b),b=-1),s=!0;var S=o;try{for(C(I),a=n(i);a!==null&&(!(a.expirationTime>I)||L&&!J());){var Q=a.callback;if(typeof Q=="function"){a.callback=null,o=a.priorityLevel;var T=Q(a.expirationTime<=I);I=e.unstable_now(),typeof T=="function"?a.callback=T:a===n(i)&&r(i),C(I)}else r(i);a=n(i)}if(a!==null)var M=!0;else{var _=n(h);_!==null&&U(y,_.startTime-I),M=!1}return M}finally{a=null,o=S,s=!1}}var E=!1,B=null,b=-1,D=5,R=-1;function J(){return!(e.unstable_now()-R<D)}function Z(){if(B!==null){var L=e.unstable_now();R=L;var I=!0;try{I=B(!0,L)}finally{I?q():(E=!1,B=null)}}else E=!1}var q;if(typeof v=="function")q=function(){v(Z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=Z,q=function(){re.postMessage(null)}}else q=function(){f(Z,0)};function oe(L){B=L,E||(E=!0,q())}function U(L,I){b=f(function(){L(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){u||s||(u=!0,oe(w))},e.unstable_forceFrameRate=function(L){0>L||125<L||(D=0<L?Math.floor(1e3/L):5)},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return n(i)},e.unstable_next=function(L){switch(o){case 1:case 2:case 3:var I=3;break;default:I=o}var S=o;o=I;try{return L()}finally{o=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var S=o;o=L;try{return I()}finally{o=S}},e.unstable_scheduleCallback=function(L,I,S){var Q=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?Q+S:Q):S=Q,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=S+T,L={id:A++,callback:I,priorityLevel:L,startTime:S,expirationTime:T,sortIndex:-1},S>Q?(L.sortIndex=S,t(h,L),n(i)===null&&L===n(h)&&(g?(p(b),b=-1):g=!0,U(y,S-Q))):(L.sortIndex=T,t(i,L),u||s||(u=!0,oe(w))),L},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(L){var I=o;return function(){var S=o;o=I;try{return L.apply(this,arguments)}finally{o=S}}}})(xg);(function(e){e.exports=xg})(Ig);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=te.exports,Bt=Ig.exports;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sg=new Set,ua={};function fr(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(ua[e]=t,e=0;e<t.length;e++)Sg.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Nm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},of={};function Gm(e){return Nl.call(of,e)?!0:Nl.call(sf,e)?!1:Nm.test(e)?of[e]=!0:(sf[e]=!0,!1)}function jm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $m(e,t,n,r){if(t===null||typeof t>"u"||jm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,l,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var fu=/[\-:]([a-z])/g;function Au(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fu,Au);Ke[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fu,Au);Ke[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fu,Au);Ke[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function du(e,t,n,r){var l=Ke.hasOwnProperty(t)?Ke[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($m(t,n,l,r)&&(n=null),r||l===null?Gm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),jr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),gu=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),pu=Symbol.for("react.forward_ref"),jl=Symbol.for("react.suspense"),$l=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),kg=Symbol.for("react.offscreen"),lf=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=lf&&e[lf]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,Wo;function Yi(e){if(Wo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wo=t&&t[1]||""}return`
`+Wo+e}var Xo=!1;function Vo(e,t){if(!e||Xo)return"";Xo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var l=h.stack.split(`
`),d=r.stack.split(`
`),m=l.length-1,c=d.length-1;1<=m&&0<=c&&l[m]!==d[c];)c--;for(;1<=m&&0<=c;m--,c--)if(l[m]!==d[c]){if(m!==1||c!==1)do if(m--,c--,0>c||l[m]!==d[c]){var i=`
`+l[m].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=m&&0<=c);break}}}finally{Xo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yi(e):""}function Um(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $r:return"Fragment";case jr:return"Portal";case Gl:return"Profiler";case gu:return"StrictMode";case jl:return"Suspense";case $l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qg:return(e.displayName||"Context")+".Consumer";case _g:return(e._context.displayName||"Context")+".Provider";case pu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vu:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function Hm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ym(e){var t=Tg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(m){r=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(m){r=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ym(e))}function Dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Og(e,t){t=t.checked,t!=null&&du(e,"checked",t,!1)}function Yl(e,t){Og(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&zl(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zl(e,t,n){(t!=="number"||Ts(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zi=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(zi(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Fg(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ja,Pg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ja.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zm=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(e){zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qi[t]=qi[e]})});function Lg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qi.hasOwnProperty(e)&&qi[e]?(""+t).trim():t+"px"}function Rg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Lg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Wm=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(e,t){if(t){if(Wm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,ri=null,ii=null;function Af(e){if(e=Fa(e)){if(typeof ql!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=vo(t),ql(e.stateNode,e.type,t))}}function Ng(e){ri?ii?ii.push(e):ii=[e]:ri=e}function Gg(){if(ri){var e=ri,t=ii;if(ii=ri=null,Af(e),t)for(e=0;e<t.length;e++)Af(t[e])}}function jg(e,t){return e(t)}function $g(){}var Jo=!1;function Ug(e,t,n){if(Jo)return e(t,n);Jo=!0;try{return jg(e,t,n)}finally{Jo=!1,(ri!==null||ii!==null)&&($g(),Gg())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=vo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Zl=!1;if(pn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Zl=!1}function Xm(e,t,n,r,l,d,m,c,i){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(A){this.onError(A)}}var Zi=!1,Ds=null,Os=!1,ec=null,Vm={onError:function(e){Zi=!0,Ds=e}};function Jm(e,t,n,r,l,d,m,c,i){Zi=!1,Ds=null,Xm.apply(Vm,arguments)}function Km(e,t,n,r,l,d,m,c,i){if(Jm.apply(this,arguments),Zi){if(Zi){var h=Ds;Zi=!1,Ds=null}else throw Error(ne(198));Os||(Os=!0,ec=h)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function df(e){if(Ar(e)!==e)throw Error(ne(188))}function qm(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var d=l.alternate;if(d===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===n)return df(l),e;if(d===r)return df(l),t;d=d.sibling}throw Error(ne(188))}if(n.return!==r.return)n=l,r=d;else{for(var m=!1,c=l.child;c;){if(c===n){m=!0,n=l,r=d;break}if(c===r){m=!0,r=l,n=d;break}c=c.sibling}if(!m){for(c=d.child;c;){if(c===n){m=!0,n=d,r=l;break}if(c===r){m=!0,r=d,n=l;break}c=c.sibling}if(!m)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function Yg(e){return e=qm(e),e!==null?zg(e):null}function zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zg(e);if(t!==null)return t;e=e.sibling}return null}var Wg=Bt.unstable_scheduleCallback,gf=Bt.unstable_cancelCallback,Zm=Bt.unstable_shouldYield,eC=Bt.unstable_requestPaint,$e=Bt.unstable_now,tC=Bt.unstable_getCurrentPriorityLevel,Cu=Bt.unstable_ImmediatePriority,Xg=Bt.unstable_UserBlockingPriority,Fs=Bt.unstable_NormalPriority,nC=Bt.unstable_LowPriority,Vg=Bt.unstable_IdlePriority,fo=null,nn=null;function rC(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:sC,iC=Math.log,aC=Math.LN2;function sC(e){return e>>>=0,e===0?32:31-(iC(e)/aC|0)|0}var Ka=64,qa=4194304;function Wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,d=e.pingedLanes,m=n&268435455;if(m!==0){var c=m&~l;c!==0?r=Wi(c):(d&=m,d!==0&&(r=Wi(d)))}else m=n&~l,m!==0?r=Wi(m):d!==0&&(r=Wi(d));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),l=1<<n,r|=e[n],t&=~l;return r}function oC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-Ut(d),c=1<<m,i=l[m];i===-1?(!(c&n)||c&r)&&(l[m]=oC(c,t)):i<=t&&(e.expiredLanes|=c),d&=~c}}function tc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jg(){var e=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),e}function Ko(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function cC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Ut(n),d=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~d}}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var xe=0;function Kg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qg,wu,Zg,ep,tp,nc=!1,Za=[],Tn=null,Dn=null,On=null,Aa=new Map,da=new Map,Sn=[],uC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(t.pointerId)}}function Fi(e,t,n,r,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Fa(t),t!==null&&wu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function hC(e,t,n,r,l){switch(t){case"focusin":return Tn=Fi(Tn,e,t,n,r,l),!0;case"dragenter":return Dn=Fi(Dn,e,t,n,r,l),!0;case"mouseover":return On=Fi(On,e,t,n,r,l),!0;case"pointerover":var d=l.pointerId;return Aa.set(d,Fi(Aa.get(d)||null,e,t,n,r,l)),!0;case"gotpointercapture":return d=l.pointerId,da.set(d,Fi(da.get(d)||null,e,t,n,r,l)),!0}return!1}function np(e){var t=tr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=Hg(n),t!==null){e.blockedOn=t,tp(e.priority,function(){Zg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kl=r,n.target.dispatchEvent(r),Kl=null}else return t=Fa(n),t!==null&&wu(t),e.blockedOn=n,!1;t.shift()}return!0}function vf(e,t,n){ms(e)&&n.delete(t)}function fC(){nc=!1,Tn!==null&&ms(Tn)&&(Tn=null),Dn!==null&&ms(Dn)&&(Dn=null),On!==null&&ms(On)&&(On=null),Aa.forEach(vf),da.forEach(vf)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,nc||(nc=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,fC)))}function ga(e){function t(l){return Mi(l,e)}if(0<Za.length){Mi(Za[0],e);for(var n=1;n<Za.length;n++){var r=Za[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&Mi(Tn,e),Dn!==null&&Mi(Dn,e),On!==null&&Mi(On,e),Aa.forEach(t),da.forEach(t),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)np(n),n.blockedOn===null&&Sn.shift()}var ai=yn.ReactCurrentBatchConfig,Ps=!0;function AC(e,t,n,r){var l=xe,d=ai.transition;ai.transition=null;try{xe=1,Eu(e,t,n,r)}finally{xe=l,ai.transition=d}}function dC(e,t,n,r){var l=xe,d=ai.transition;ai.transition=null;try{xe=4,Eu(e,t,n,r)}finally{xe=l,ai.transition=d}}function Eu(e,t,n,r){if(Ps){var l=rc(e,t,n,r);if(l===null)ol(e,t,r,Ls,n),pf(e,r);else if(hC(l,e,t,n,r))r.stopPropagation();else if(pf(e,r),t&4&&-1<uC.indexOf(e)){for(;l!==null;){var d=Fa(l);if(d!==null&&qg(d),d=rc(e,t,n,r),d===null&&ol(e,t,r,Ls,n),d===l)break;l=d}l!==null&&r.stopPropagation()}else ol(e,t,r,null,n)}}var Ls=null;function rc(e,t,n,r){if(Ls=null,e=mu(r),e=tr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ls=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tC()){case Cu:return 1;case Xg:return 4;case Fs:case nC:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var Qn=null,Bu=null,Cs=null;function ip(){if(Cs)return Cs;var e,t=Bu,n=t.length,r,l="value"in Qn?Qn.value:Qn.textContent,d=l.length;for(e=0;e<n&&t[e]===l[e];e++);var m=n-e;for(r=1;r<=m&&t[n-r]===l[d-r];r++);return Cs=l.slice(e,1<r?1-r:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function mf(){return!1}function bt(e){function t(n,r,l,d,m){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(d):d[c]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?es:mf,this.isPropagationStopped=mf,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=bt(Ci),Oa=Re({},Ci,{view:0,detail:0}),gC=bt(Oa),qo,Zo,Pi,Ao=Re({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(qo=e.screenX-Pi.screenX,Zo=e.screenY-Pi.screenY):Zo=qo=0,Pi=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Cf=bt(Ao),pC=Re({},Ao,{dataTransfer:0}),vC=bt(pC),mC=Re({},Oa,{relatedTarget:0}),el=bt(mC),CC=Re({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=bt(CC),wC=Re({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EC=bt(wC),BC=Re({},Ci,{data:0}),yf=bt(BC),IC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bC[e])?!!t[e]:!1}function xu(){return SC}var _C=Re({},Oa,{key:function(e){if(e.key){var t=IC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QC=bt(_C),kC=Re({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=bt(kC),TC=Re({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),DC=bt(TC),OC=Re({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),FC=bt(OC),MC=Re({},Ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=bt(MC),LC=[9,13,27,32],bu=pn&&"CompositionEvent"in window,ea=null;pn&&"documentMode"in document&&(ea=document.documentMode);var RC=pn&&"TextEvent"in window&&!ea,ap=pn&&(!bu||ea&&8<ea&&11>=ea),Ef=String.fromCharCode(32),Bf=!1;function sp(e,t){switch(e){case"keyup":return LC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function NC(e,t){switch(e){case"compositionend":return op(t);case"keypress":return t.which!==32?null:(Bf=!0,Ef);case"textInput":return e=t.data,e===Ef&&Bf?null:e;default:return null}}function GC(e,t){if(Ur)return e==="compositionend"||!bu&&sp(e,t)?(e=ip(),Cs=Bu=Qn=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ap&&t.locale!=="ko"?null:t.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jC[e.type]:t==="textarea"}function lp(e,t,n,r){Ng(r),t=Rs(t,"onChange"),0<t.length&&(n=new Iu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ta=null,pa=null;function $C(e){Cp(e,0)}function go(e){var t=zr(e);if(Dg(t))return e}function UC(e,t){if(e==="change")return t}var cp=!1;if(pn){var tl;if(pn){var nl="oninput"in document;if(!nl){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),nl=typeof xf.oninput=="function"}tl=nl}else tl=!1;cp=tl&&(!document.documentMode||9<document.documentMode)}function bf(){ta&&(ta.detachEvent("onpropertychange",up),pa=ta=null)}function up(e){if(e.propertyName==="value"&&go(pa)){var t=[];lp(t,pa,e,mu(e)),Ug($C,t)}}function HC(e,t,n){e==="focusin"?(bf(),ta=t,pa=n,ta.attachEvent("onpropertychange",up)):e==="focusout"&&bf()}function YC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(pa)}function zC(e,t){if(e==="click")return go(t)}function WC(e,t){if(e==="input"||e==="change")return go(t)}function XC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:XC;function va(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Nl.call(t,l)||!Yt(e[l],t[l]))return!1}return!0}function Sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _f(e,t){var n=Sf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sf(n)}}function hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fp(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VC(e){var t=fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hp(n.ownerDocument.documentElement,n)){if(r!==null&&Su(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,d=Math.min(r.start,l);r=r.end===void 0?d:Math.min(r.end,l),!e.extend&&d>r&&(l=r,r=d,d=l),l=_f(n,d);var m=_f(n,r);l&&m&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>r?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JC=pn&&"documentMode"in document&&11>=document.documentMode,Hr=null,ic=null,na=null,ac=!1;function Qf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ac||Hr==null||Hr!==Ts(r)||(r=Hr,"selectionStart"in r&&Su(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&va(na,r)||(na=r,r=Rs(ic,"onSelect"),0<r.length&&(t=new Iu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hr)))}function ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},rl={},Ap={};pn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function po(e){if(rl[e])return rl[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ap)return rl[e]=t[n];return e}var dp=po("animationend"),gp=po("animationiteration"),pp=po("animationstart"),vp=po("transitionend"),mp=new Map,kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){mp.set(e,t),fr(t,[e])}for(var il=0;il<kf.length;il++){var al=kf[il],KC=al.toLowerCase(),qC=al[0].toUpperCase()+al.slice(1);Hn(KC,"on"+qC)}Hn(dp,"onAnimationEnd");Hn(gp,"onAnimationIteration");Hn(pp,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(vp,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Tf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Km(r,t,void 0,e),e.currentTarget=null}function Cp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var m=r.length-1;0<=m;m--){var c=r[m],i=c.instance,h=c.currentTarget;if(c=c.listener,i!==d&&l.isPropagationStopped())break e;Tf(l,c,h),d=i}else for(m=0;m<r.length;m++){if(c=r[m],i=c.instance,h=c.currentTarget,c=c.listener,i!==d&&l.isPropagationStopped())break e;Tf(l,c,h),d=i}}}if(Os)throw e=ec,Os=!1,ec=null,e}function Qe(e,t){var n=t[uc];n===void 0&&(n=t[uc]=new Set);var r=e+"__bubble";n.has(r)||(yp(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),yp(n,e,r,t)}var ns="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[ns]){e[ns]=!0,Sg.forEach(function(n){n!=="selectionchange"&&(ZC.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ns]||(t[ns]=!0,sl("selectionchange",!1,t))}}function yp(e,t,n,r){switch(rp(t)){case 1:var l=AC;break;case 4:l=dC;break;default:l=Eu}n=l.bind(null,t,n,e),l=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ol(e,t,n,r,l){var d=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(m===4)for(m=r.return;m!==null;){var i=m.tag;if((i===3||i===4)&&(i=m.stateNode.containerInfo,i===l||i.nodeType===8&&i.parentNode===l))return;m=m.return}for(;c!==null;){if(m=tr(c),m===null)return;if(i=m.tag,i===5||i===6){r=d=m;continue e}c=c.parentNode}}r=r.return}Ug(function(){var h=d,A=mu(n),a=[];e:{var o=mp.get(e);if(o!==void 0){var s=Iu,u=e;switch(e){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":s=QC;break;case"focusin":u="focus",s=el;break;case"focusout":u="blur",s=el;break;case"beforeblur":case"afterblur":s=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=DC;break;case dp:case gp:case pp:s=yC;break;case vp:s=FC;break;case"scroll":s=gC;break;case"wheel":s=PC;break;case"copy":case"cut":case"paste":s=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=wf}var g=(t&4)!==0,f=!g&&e==="scroll",p=g?o!==null?o+"Capture":null:o;g=[];for(var v=h,C;v!==null;){C=v;var y=C.stateNode;if(C.tag===5&&y!==null&&(C=y,p!==null&&(y=fa(v,p),y!=null&&g.push(Ca(v,y,C)))),f)break;v=v.return}0<g.length&&(o=new s(o,u,null,n,A),a.push({event:o,listeners:g}))}}if(!(t&7)){e:{if(o=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",o&&n!==Kl&&(u=n.relatedTarget||n.fromElement)&&(tr(u)||u[vn]))break e;if((s||o)&&(o=A.window===A?A:(o=A.ownerDocument)?o.defaultView||o.parentWindow:window,s?(u=n.relatedTarget||n.toElement,s=h,u=u?tr(u):null,u!==null&&(f=Ar(u),u!==f||u.tag!==5&&u.tag!==6)&&(u=null)):(s=null,u=h),s!==u)){if(g=Cf,y="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=wf,y="onPointerLeave",p="onPointerEnter",v="pointer"),f=s==null?o:zr(s),C=u==null?o:zr(u),o=new g(y,v+"leave",s,n,A),o.target=f,o.relatedTarget=C,y=null,tr(A)===h&&(g=new g(p,v+"enter",u,n,A),g.target=C,g.relatedTarget=f,y=g),f=y,s&&u)t:{for(g=s,p=u,v=0,C=g;C;C=wr(C))v++;for(C=0,y=p;y;y=wr(y))C++;for(;0<v-C;)g=wr(g),v--;for(;0<C-v;)p=wr(p),C--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=wr(g),p=wr(p)}g=null}else g=null;s!==null&&Df(a,o,s,g,!1),u!==null&&f!==null&&Df(a,f,u,g,!0)}}e:{if(o=h?zr(h):window,s=o.nodeName&&o.nodeName.toLowerCase(),s==="select"||s==="input"&&o.type==="file")var w=UC;else if(If(o))if(cp)w=WC;else{w=YC;var E=HC}else(s=o.nodeName)&&s.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")&&(w=zC);if(w&&(w=w(e,h))){lp(a,w,n,A);break e}E&&E(e,o,h),e==="focusout"&&(E=o._wrapperState)&&E.controlled&&o.type==="number"&&zl(o,"number",o.value)}switch(E=h?zr(h):window,e){case"focusin":(If(E)||E.contentEditable==="true")&&(Hr=E,ic=h,na=null);break;case"focusout":na=ic=Hr=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,Qf(a,n,A);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":Qf(a,n,A)}var B;if(bu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ur?sp(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ap&&n.locale!=="ko"&&(Ur||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ur&&(B=ip()):(Qn=A,Bu="value"in Qn?Qn.value:Qn.textContent,Ur=!0)),E=Rs(h,b),0<E.length&&(b=new yf(b,e,null,n,A),a.push({event:b,listeners:E}),B?b.data=B:(B=op(n),B!==null&&(b.data=B)))),(B=RC?NC(e,n):GC(e,n))&&(h=Rs(h,"onBeforeInput"),0<h.length&&(A=new yf("onBeforeInput","beforeinput",null,n,A),a.push({event:A,listeners:h}),A.data=B))}Cp(a,t)})}function Ca(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=fa(e,n),d!=null&&r.unshift(Ca(e,d,l)),d=fa(e,t),d!=null&&r.push(Ca(e,d,l))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Df(e,t,n,r,l){for(var d=t._reactName,m=[];n!==null&&n!==r;){var c=n,i=c.alternate,h=c.stateNode;if(i!==null&&i===r)break;c.tag===5&&h!==null&&(c=h,l?(i=fa(n,d),i!=null&&m.unshift(Ca(n,i,c))):l||(i=fa(n,d),i!=null&&m.push(Ca(n,i,c)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var ey=/\r\n?/g,ty=/\u0000|\uFFFD/g;function Of(e){return(typeof e=="string"?e:""+e).replace(ey,`
`).replace(ty,"")}function rs(e,t,n){if(t=Of(t),Of(e)!==t&&n)throw Error(ne(425))}function Ns(){}var sc=null,oc=null;function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(iy)}:cc;function iy(e){setTimeout(function(){throw e})}function ll(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ga(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ga(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yi=Math.random().toString(36).slice(2),en="__reactFiber$"+yi,ya="__reactProps$"+yi,vn="__reactContainer$"+yi,uc="__reactEvents$"+yi,ay="__reactListeners$"+yi,sy="__reactHandles$"+yi;function tr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mf(e);e!==null;){if(n=e[en])return n;e=Mf(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){return e=e[en]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function vo(e){return e[ya]||null}var hc=[],Wr=-1;function Yn(e){return{current:e}}function De(e){0>Wr||(e.current=hc[Wr],hc[Wr]=null,Wr--)}function _e(e,t){Wr++,hc[Wr]=e.current,e.current=t}var Gn={},tt=Yn(Gn),At=Yn(!1),sr=Gn;function hi(e,t){var n=e.type.contextTypes;if(!n)return Gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in n)l[d]=t[d];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function dt(e){return e=e.childContextTypes,e!=null}function Gs(){De(At),De(tt)}function Pf(e,t,n){if(tt.current!==Gn)throw Error(ne(168));_e(tt,t),_e(At,n)}function wp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(ne(108,Hm(e)||"Unknown",l));return Re({},n,r)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,sr=tt.current,_e(tt,e),_e(At,At.current),!0}function Lf(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=wp(e,t,sr),r.__reactInternalMemoizedMergedChildContext=e,De(At),De(tt),_e(tt,e)):De(At),_e(At,n)}var fn=null,mo=!1,cl=!1;function Ep(e){fn===null?fn=[e]:fn.push(e)}function oy(e){mo=!0,Ep(e)}function zn(){if(!cl&&fn!==null){cl=!0;var e=0,t=xe;try{var n=fn;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,mo=!1}catch(l){throw fn!==null&&(fn=fn.slice(e+1)),Wg(Cu,zn),l}finally{xe=t,cl=!1}}return null}var Xr=[],Vr=0,$s=null,Us=0,St=[],_t=0,or=null,An=1,dn="";function Jn(e,t){Xr[Vr++]=Us,Xr[Vr++]=$s,$s=e,Us=t}function Bp(e,t,n){St[_t++]=An,St[_t++]=dn,St[_t++]=or,or=e;var r=An;e=dn;var l=32-Ut(r)-1;r&=~(1<<l),n+=1;var d=32-Ut(t)+l;if(30<d){var m=l-l%5;d=(r&(1<<m)-1).toString(32),r>>=m,l-=m,An=1<<32-Ut(t)+l|n<<l|r,dn=d+e}else An=1<<d|n<<l|r,dn=e}function _u(e){e.return!==null&&(Jn(e,1),Bp(e,1,0))}function Qu(e){for(;e===$s;)$s=Xr[--Vr],Xr[Vr]=null,Us=Xr[--Vr],Xr[Vr]=null;for(;e===or;)or=St[--_t],St[_t]=null,dn=St[--_t],St[_t]=null,An=St[--_t],St[_t]=null}var Et=null,yt=null,Me=!1,jt=null;function Ip(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Et=e,yt=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Et=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=or!==null?{id:An,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Et=e,yt=null,!0):!1;default:return!1}}function fc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ac(e){if(Me){var t=yt;if(t){var n=t;if(!Rf(e,t)){if(fc(e))throw Error(ne(418));t=Fn(n.nextSibling);var r=Et;t&&Rf(e,t)?Ip(r,n):(e.flags=e.flags&-4097|2,Me=!1,Et=e)}}else{if(fc(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Me=!1,Et=e}}}function Nf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function is(e){if(e!==Et)return!1;if(!Me)return Nf(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lc(e.type,e.memoizedProps)),t&&(t=yt)){if(fc(e))throw xp(),Error(ne(418));for(;t;)Ip(e,t),t=Fn(t.nextSibling)}if(Nf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=Et?Fn(e.stateNode.nextSibling):null;return!0}function xp(){for(var e=yt;e;)e=Fn(e.nextSibling)}function fi(){yt=Et=null,Me=!1}function ku(e){jt===null?jt=[e]:jt.push(e)}var ly=yn.ReactCurrentBatchConfig;function Nt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Hs=Yn(null),Ys=null,Jr=null,Tu=null;function Du(){Tu=Jr=Ys=null}function Ou(e){var t=Hs.current;De(Hs),e._currentValue=t}function dc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){Ys=e,Tu=Jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},Jr===null){if(Ys===null)throw Error(ne(308));Jr=e,Ys.dependencies={lanes:0,firstContext:e}}else Jr=Jr.next=e;return t}var nr=null;function Fu(e){nr===null?nr=[e]:nr.push(e)}function bp(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Fu(t)):(n.next=l.next,l.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,mn(e,n)}return l=r.interleaved,l===null?(t.next=t,Fu(r)):(t.next=l.next,l.next=t),r.interleaved=t,mn(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}function Gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?l=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?l=d=t:d=d.next=t}else l=d=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var l=e.updateQueue;bn=!1;var d=l.firstBaseUpdate,m=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var i=c,h=i.next;i.next=null,m===null?d=h:m.next=h,m=i;var A=e.alternate;A!==null&&(A=A.updateQueue,c=A.lastBaseUpdate,c!==m&&(c===null?A.firstBaseUpdate=h:c.next=h,A.lastBaseUpdate=i))}if(d!==null){var a=l.baseState;m=0,A=h=i=null,c=d;do{var o=c.lane,s=c.eventTime;if((r&o)===o){A!==null&&(A=A.next={eventTime:s,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var u=e,g=c;switch(o=t,s=n,g.tag){case 1:if(u=g.payload,typeof u=="function"){a=u.call(s,a,o);break e}a=u;break e;case 3:u.flags=u.flags&-65537|128;case 0:if(u=g.payload,o=typeof u=="function"?u.call(s,a,o):u,o==null)break e;a=Re({},a,o);break e;case 2:bn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,o=l.effects,o===null?l.effects=[c]:o.push(c))}else s={eventTime:s,lane:o,tag:c.tag,payload:c.payload,callback:c.callback,next:null},A===null?(h=A=s,i=a):A=A.next=s,m|=o;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;o=c,c=o.next,o.next=null,l.lastBaseUpdate=o,l.shared.pending=null}}while(1);if(A===null&&(i=a),l.baseState=i,l.firstBaseUpdate=h,l.lastBaseUpdate=A,t=l.shared.interleaved,t!==null){l=t;do m|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);cr|=m,e.lanes=m,e.memoizedState=a}}function jf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(ne(191,l));l.call(r)}}}var _p=new bg.Component().refs;function gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Co={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),l=Ln(e),d=gn(r,l);d.payload=t,n!=null&&(d.callback=n),t=Mn(e,d,l),t!==null&&(Ht(t,e,l,r),ws(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),l=Ln(e),d=gn(r,l);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=Mn(e,d,l),t!==null&&(Ht(t,e,l,r),ws(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Ln(e),l=gn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Mn(e,l,r),t!==null&&(Ht(t,e,r,n),ws(t,e,r))}};function $f(e,t,n,r,l,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,m):t.prototype&&t.prototype.isPureReactComponent?!va(n,r)||!va(l,d):!0}function Qp(e,t,n){var r=!1,l=Gn,d=t.contextType;return typeof d=="object"&&d!==null?d=Ot(d):(l=dt(t)?sr:tt.current,r=t.contextTypes,d=(r=r!=null)?hi(e,l):Gn),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function Uf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function pc(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs=_p,Mu(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=Ot(d):(d=dt(t)?sr:tt.current,l.context=hi(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(gc(e,t,d,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Co.enqueueReplaceState(l,l.state,null),zs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var l=r,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var c=l.refs;c===_p&&(c=l.refs={}),m===null?delete c[d]:c[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hf(e){var t=e._init;return t(e._payload)}function kp(e){function t(p,v){if(e){var C=p.deletions;C===null?(p.deletions=[v],p.flags|=16):C.push(v)}}function n(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function l(p,v){return p=Rn(p,v),p.index=0,p.sibling=null,p}function d(p,v,C){return p.index=C,e?(C=p.alternate,C!==null?(C=C.index,C<v?(p.flags|=2,v):C):(p.flags|=2,v)):(p.flags|=1048576,v)}function m(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,v,C,y){return v===null||v.tag!==6?(v=pl(C,p.mode,y),v.return=p,v):(v=l(v,C),v.return=p,v)}function i(p,v,C,y){var w=C.type;return w===$r?A(p,v,C.props.children,y,C.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&Hf(w)===v.type)?(y=l(v,C.props),y.ref=Li(p,v,C),y.return=p,y):(y=Ss(C.type,C.key,C.props,null,p.mode,y),y.ref=Li(p,v,C),y.return=p,y)}function h(p,v,C,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=vl(C,p.mode,y),v.return=p,v):(v=l(v,C.children||[]),v.return=p,v)}function A(p,v,C,y,w){return v===null||v.tag!==7?(v=ar(C,p.mode,y,w),v.return=p,v):(v=l(v,C),v.return=p,v)}function a(p,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pl(""+v,p.mode,C),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xa:return C=Ss(v.type,v.key,v.props,null,p.mode,C),C.ref=Li(p,null,v),C.return=p,C;case jr:return v=vl(v,p.mode,C),v.return=p,v;case xn:var y=v._init;return a(p,y(v._payload),C)}if(zi(v)||Di(v))return v=ar(v,p.mode,C,null),v.return=p,v;as(p,v)}return null}function o(p,v,C,y){var w=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:c(p,v,""+C,y);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xa:return C.key===w?i(p,v,C,y):null;case jr:return C.key===w?h(p,v,C,y):null;case xn:return w=C._init,o(p,v,w(C._payload),y)}if(zi(C)||Di(C))return w!==null?null:A(p,v,C,y,null);as(p,C)}return null}function s(p,v,C,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(C)||null,c(v,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return p=p.get(y.key===null?C:y.key)||null,i(v,p,y,w);case jr:return p=p.get(y.key===null?C:y.key)||null,h(v,p,y,w);case xn:var E=y._init;return s(p,v,C,E(y._payload),w)}if(zi(y)||Di(y))return p=p.get(C)||null,A(v,p,y,w,null);as(v,y)}return null}function u(p,v,C,y){for(var w=null,E=null,B=v,b=v=0,D=null;B!==null&&b<C.length;b++){B.index>b?(D=B,B=null):D=B.sibling;var R=o(p,B,C[b],y);if(R===null){B===null&&(B=D);break}e&&B&&R.alternate===null&&t(p,B),v=d(R,v,b),E===null?w=R:E.sibling=R,E=R,B=D}if(b===C.length)return n(p,B),Me&&Jn(p,b),w;if(B===null){for(;b<C.length;b++)B=a(p,C[b],y),B!==null&&(v=d(B,v,b),E===null?w=B:E.sibling=B,E=B);return Me&&Jn(p,b),w}for(B=r(p,B);b<C.length;b++)D=s(B,p,b,C[b],y),D!==null&&(e&&D.alternate!==null&&B.delete(D.key===null?b:D.key),v=d(D,v,b),E===null?w=D:E.sibling=D,E=D);return e&&B.forEach(function(J){return t(p,J)}),Me&&Jn(p,b),w}function g(p,v,C,y){var w=Di(C);if(typeof w!="function")throw Error(ne(150));if(C=w.call(C),C==null)throw Error(ne(151));for(var E=w=null,B=v,b=v=0,D=null,R=C.next();B!==null&&!R.done;b++,R=C.next()){B.index>b?(D=B,B=null):D=B.sibling;var J=o(p,B,R.value,y);if(J===null){B===null&&(B=D);break}e&&B&&J.alternate===null&&t(p,B),v=d(J,v,b),E===null?w=J:E.sibling=J,E=J,B=D}if(R.done)return n(p,B),Me&&Jn(p,b),w;if(B===null){for(;!R.done;b++,R=C.next())R=a(p,R.value,y),R!==null&&(v=d(R,v,b),E===null?w=R:E.sibling=R,E=R);return Me&&Jn(p,b),w}for(B=r(p,B);!R.done;b++,R=C.next())R=s(B,p,b,R.value,y),R!==null&&(e&&R.alternate!==null&&B.delete(R.key===null?b:R.key),v=d(R,v,b),E===null?w=R:E.sibling=R,E=R);return e&&B.forEach(function(Z){return t(p,Z)}),Me&&Jn(p,b),w}function f(p,v,C,y){if(typeof C=="object"&&C!==null&&C.type===$r&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Xa:e:{for(var w=C.key,E=v;E!==null;){if(E.key===w){if(w=C.type,w===$r){if(E.tag===7){n(p,E.sibling),v=l(E,C.props.children),v.return=p,p=v;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&Hf(w)===E.type){n(p,E.sibling),v=l(E,C.props),v.ref=Li(p,E,C),v.return=p,p=v;break e}n(p,E);break}else t(p,E);E=E.sibling}C.type===$r?(v=ar(C.props.children,p.mode,y,C.key),v.return=p,p=v):(y=Ss(C.type,C.key,C.props,null,p.mode,y),y.ref=Li(p,v,C),y.return=p,p=y)}return m(p);case jr:e:{for(E=C.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(p,v.sibling),v=l(v,C.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else t(p,v);v=v.sibling}v=vl(C,p.mode,y),v.return=p,p=v}return m(p);case xn:return E=C._init,f(p,v,E(C._payload),y)}if(zi(C))return u(p,v,C,y);if(Di(C))return g(p,v,C,y);as(p,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,v!==null&&v.tag===6?(n(p,v.sibling),v=l(v,C),v.return=p,p=v):(n(p,v),v=pl(C,p.mode,y),v.return=p,p=v),m(p)):n(p,v)}return f}var Ai=kp(!0),Tp=kp(!1),Ma={},rn=Yn(Ma),wa=Yn(Ma),Ea=Yn(Ma);function rr(e){if(e===Ma)throw Error(ne(174));return e}function Pu(e,t){switch(_e(Ea,t),_e(wa,e),_e(rn,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}De(rn),_e(rn,t)}function di(){De(rn),De(wa),De(Ea)}function Dp(e){rr(Ea.current);var t=rr(rn.current),n=Xl(t,e.type);t!==n&&(_e(wa,e),_e(rn,n))}function Lu(e){wa.current===e&&(De(rn),De(wa))}var Pe=Yn(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function Ru(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var Es=yn.ReactCurrentDispatcher,hl=yn.ReactCurrentBatchConfig,lr=0,Le=null,Ye=null,We=null,Xs=!1,ra=!1,Ba=0,cy=0;function qe(){throw Error(ne(321))}function Nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Gu(e,t,n,r,l,d){if(lr=d,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?Ay:dy,e=n(r,l),ra){d=0;do{if(ra=!1,Ba=0,25<=d)throw Error(ne(301));d+=1,We=Ye=null,t.updateQueue=null,Es.current=gy,e=n(r,l)}while(ra)}if(Es.current=Vs,t=Ye!==null&&Ye.next!==null,lr=0,We=Ye=Le=null,Xs=!1,t)throw Error(ne(300));return e}function ju(){var e=Ba!==0;return Ba=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Le.memoizedState=We=e:We=We.next=e,We}function Ft(){if(Ye===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=We===null?Le.memoizedState:We.next;if(t!==null)We=t,Ye=e;else{if(e===null)throw Error(ne(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},We===null?Le.memoizedState=We=e:We=We.next=e}return We}function Ia(e,t){return typeof t=="function"?t(e):t}function fl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Ye,l=r.baseQueue,d=n.pending;if(d!==null){if(l!==null){var m=l.next;l.next=d.next,d.next=m}r.baseQueue=l=d,n.pending=null}if(l!==null){d=l.next,r=r.baseState;var c=m=null,i=null,h=d;do{var A=h.lane;if((lr&A)===A)i!==null&&(i=i.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var a={lane:A,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};i===null?(c=i=a,m=r):i=i.next=a,Le.lanes|=A,cr|=A}h=h.next}while(h!==null&&h!==d);i===null?m=r:i.next=c,Yt(r,t.memoizedState)||(ft=!0),t.memoizedState=r,t.baseState=m,t.baseQueue=i,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do d=l.lane,Le.lanes|=d,cr|=d,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Al(e){var t=Ft(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,d=t.memoizedState;if(l!==null){n.pending=null;var m=l=l.next;do d=e(d,m.action),m=m.next;while(m!==l);Yt(d,t.memoizedState)||(ft=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,r]}function Op(){}function Fp(e,t){var n=Le,r=Ft(),l=t(),d=!Yt(r.memoizedState,l);if(d&&(r.memoizedState=l,ft=!0),r=r.queue,$u(Lp.bind(null,n,r,e),[e]),r.getSnapshot!==t||d||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,xa(9,Pp.bind(null,n,r,l,t),void 0,null),Xe===null)throw Error(ne(349));lr&30||Mp(n,t,l)}return l}function Mp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pp(e,t,n,r){t.value=n,t.getSnapshot=r,Rp(t)&&Np(e)}function Lp(e,t,n){return n(function(){Rp(t)&&Np(e)})}function Rp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function Np(e){var t=mn(e,1);t!==null&&Ht(t,e,1,-1)}function Yf(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=fy.bind(null,Le,e),[t.memoizedState,e]}function xa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gp(){return Ft().memoizedState}function Bs(e,t,n,r){var l=qt();Le.flags|=e,l.memoizedState=xa(1|t,n,void 0,r===void 0?null:r)}function yo(e,t,n,r){var l=Ft();r=r===void 0?null:r;var d=void 0;if(Ye!==null){var m=Ye.memoizedState;if(d=m.destroy,r!==null&&Nu(r,m.deps)){l.memoizedState=xa(t,n,d,r);return}}Le.flags|=e,l.memoizedState=xa(1|t,n,d,r)}function zf(e,t){return Bs(8390656,8,e,t)}function $u(e,t){return yo(2048,8,e,t)}function jp(e,t){return yo(4,2,e,t)}function $p(e,t){return yo(4,4,e,t)}function Up(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hp(e,t,n){return n=n!=null?n.concat([e]):null,yo(4,4,Up.bind(null,t,e),n)}function Uu(){}function Yp(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zp(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wp(e,t,n){return lr&21?(Yt(n,t)||(n=Jg(),Le.lanes|=n,cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function uy(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=hl.transition;hl.transition={};try{e(!1),t()}finally{xe=n,hl.transition=r}}function Xp(){return Ft().memoizedState}function hy(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(e))Jp(t,n);else if(n=bp(e,t,n,r),n!==null){var l=ot();Ht(n,e,r,l),Kp(n,t,r)}}function fy(e,t,n){var r=Ln(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(e))Jp(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,c=d(m,n);if(l.hasEagerState=!0,l.eagerState=c,Yt(c,m)){var i=t.interleaved;i===null?(l.next=l,Fu(t)):(l.next=i.next,i.next=l),t.interleaved=l;return}}catch{}finally{}n=bp(e,t,l,r),n!==null&&(l=ot(),Ht(n,e,r,l),Kp(n,t,r))}}function Vp(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Jp(e,t){ra=Xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}var Vs={readContext:Ot,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Ay={readContext:Ot,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:zf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4194308,4,Up.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hy.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Yf,useDebugValue:Uu,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Yf(!1),t=e[0];return e=uy.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,l=qt();if(Me){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Xe===null)throw Error(ne(349));lr&30||Mp(r,t,n)}l.memoizedState=n;var d={value:n,getSnapshot:t};return l.queue=d,zf(Lp.bind(null,r,d,e),[e]),r.flags|=2048,xa(9,Pp.bind(null,r,d,n,t),void 0,null),n},useId:function(){var e=qt(),t=Xe.identifierPrefix;if(Me){var n=dn,r=An;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ba++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dy={readContext:Ot,useCallback:Yp,useContext:Ot,useEffect:$u,useImperativeHandle:Hp,useInsertionEffect:jp,useLayoutEffect:$p,useMemo:zp,useReducer:fl,useRef:Gp,useState:function(){return fl(Ia)},useDebugValue:Uu,useDeferredValue:function(e){var t=Ft();return Wp(t,Ye.memoizedState,e)},useTransition:function(){var e=fl(Ia)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Op,useSyncExternalStore:Fp,useId:Xp,unstable_isNewReconciler:!1},gy={readContext:Ot,useCallback:Yp,useContext:Ot,useEffect:$u,useImperativeHandle:Hp,useInsertionEffect:jp,useLayoutEffect:$p,useMemo:zp,useReducer:Al,useRef:Gp,useState:function(){return Al(Ia)},useDebugValue:Uu,useDeferredValue:function(e){var t=Ft();return Ye===null?t.memoizedState=e:Wp(t,Ye.memoizedState,e)},useTransition:function(){var e=Al(Ia)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Op,useSyncExternalStore:Fp,useId:Xp,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do n+=Um(r),r=r.return;while(r);var l=n}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vc(e,t){try{}catch(n){setTimeout(function(){throw n})}}var py=typeof WeakMap=="function"?WeakMap:Map;function qp(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Sc=r),vc(e,t)},n}function Zp(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){vc(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){vc(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function Wf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new py;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=ky.bind(null,e,t,n),t.then(e,e))}function Xf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vf(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,Mn(n,t,1))),n.lanes|=1),e)}var vy=yn.ReactCurrentOwner,ft=!1;function rt(e,t,n,r){t.child=e===null?Tp(t,null,n,r):Ai(t,e.child,n,r)}function Jf(e,t,n,r,l){n=n.render;var d=t.ref;return si(t,l),r=Gu(e,t,n,r,d,l),n=ju(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Cn(e,t,l)):(Me&&n&&_u(t),t.flags|=1,rt(e,t,r,l),t.child)}function Kf(e,t,n,r,l){if(e===null){var d=n.type;return typeof d=="function"&&!Ku(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,e0(e,t,d,r,l)):(e=Ss(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&l)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(m,r)&&e.ref===t.ref)return Cn(e,t,l)}return t.flags|=1,e=Rn(d,r),e.ref=t.ref,e.return=t,t.child=e}function e0(e,t,n,r,l){if(e!==null){var d=e.memoizedProps;if(va(d,r)&&e.ref===t.ref)if(ft=!1,t.pendingProps=r=d,(e.lanes&l)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,Cn(e,t,l)}return mc(e,t,n,r,l)}function t0(e,t,n){var r=t.pendingProps,l=r.children,d=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(qr,Ct),Ct|=n;else{if(!(n&1073741824))return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(qr,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=d!==null?d.baseLanes:n,_e(qr,Ct),Ct|=r}else d!==null?(r=d.baseLanes|n,t.memoizedState=null):r=n,_e(qr,Ct),Ct|=r;return rt(e,t,l,n),t.child}function n0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mc(e,t,n,r,l){var d=dt(n)?sr:tt.current;return d=hi(t,d),si(t,l),n=Gu(e,t,n,r,d,l),r=ju(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Cn(e,t,l)):(Me&&r&&_u(t),t.flags|=1,rt(e,t,n,l),t.child)}function qf(e,t,n,r,l){if(dt(n)){var d=!0;js(t)}else d=!1;if(si(t,l),t.stateNode===null)Is(e,t),Qp(t,n,r),pc(t,n,r,l),r=!0;else if(e===null){var m=t.stateNode,c=t.memoizedProps;m.props=c;var i=m.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ot(h):(h=dt(n)?sr:tt.current,h=hi(t,h));var A=n.getDerivedStateFromProps,a=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function";a||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(c!==r||i!==h)&&Uf(t,m,r,h),bn=!1;var o=t.memoizedState;m.state=o,zs(t,r,m,l),i=t.memoizedState,c!==r||o!==i||At.current||bn?(typeof A=="function"&&(gc(t,n,A,r),i=t.memoizedState),(c=bn||$f(t,n,c,r,o,i,h))?(a||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),m.props=r,m.state=i,m.context=h,r=c):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{m=t.stateNode,Sp(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Nt(t.type,c),m.props=h,a=t.pendingProps,o=m.context,i=n.contextType,typeof i=="object"&&i!==null?i=Ot(i):(i=dt(n)?sr:tt.current,i=hi(t,i));var s=n.getDerivedStateFromProps;(A=typeof s=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(c!==a||o!==i)&&Uf(t,m,r,i),bn=!1,o=t.memoizedState,m.state=o,zs(t,r,m,l);var u=t.memoizedState;c!==a||o!==u||At.current||bn?(typeof s=="function"&&(gc(t,n,s,r),u=t.memoizedState),(h=bn||$f(t,n,h,r,o,u,i)||!1)?(A||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,u,i),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,u,i)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||c===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=u),m.props=r,m.state=u,m.context=i,r=h):(typeof m.componentDidUpdate!="function"||c===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),r=!1)}return Cc(e,t,n,r,d,l)}function Cc(e,t,n,r,l,d){n0(e,t);var m=(t.flags&128)!==0;if(!r&&!m)return l&&Lf(t,n,!1),Cn(e,t,d);r=t.stateNode,vy.current=t;var c=m&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&m?(t.child=Ai(t,e.child,null,d),t.child=Ai(t,null,c,d)):rt(e,t,c,d),t.memoizedState=r.state,l&&Lf(t,n,!0),t.child}function r0(e){var t=e.stateNode;t.pendingContext?Pf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pf(e,t.context,!1),Pu(e,t.containerInfo)}function Zf(e,t,n,r,l){return fi(),ku(l),t.flags|=256,rt(e,t,n,r),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function wc(e){return{baseLanes:e,cachePool:null,transitions:null}}function i0(e,t,n){var r=t.pendingProps,l=Pe.current,d=!1,m=(t.flags&128)!==0,c;if((c=m)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),_e(Pe,l&1),e===null)return Ac(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(m=r.children,e=r.fallback,d?(r=t.mode,d=t.child,m={mode:"hidden",children:m},!(r&1)&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Bo(m,r,0,null),e=ar(e,r,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=wc(n),t.memoizedState=yc,e):Hu(t,m));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return my(e,t,m,r,c,l,n);if(d){d=r.fallback,m=t.mode,l=e.child,c=l.sibling;var i={mode:"hidden",children:r.children};return!(m&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=i,t.deletions=null):(r=Rn(l,i),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?d=Rn(c,d):(d=ar(d,m,n,null),d.flags|=2),d.return=t,r.return=t,r.sibling=d,t.child=r,r=d,d=t.child,m=e.child.memoizedState,m=m===null?wc(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~n,t.memoizedState=yc,r}return d=e.child,e=d.sibling,r=Rn(d,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hu(e,t){return t=Bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ss(e,t,n,r){return r!==null&&ku(r),Ai(t,e.child,null,n),e=Hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function my(e,t,n,r,l,d,m){if(n)return t.flags&256?(t.flags&=-257,r=dl(Error(ne(422))),ss(e,t,m,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=r.fallback,l=t.mode,r=Bo({mode:"visible",children:r.children},l,0,null),d=ar(d,l,m,null),d.flags|=2,r.return=t,d.return=t,r.sibling=d,t.child=r,t.mode&1&&Ai(t,e.child,null,m),t.child.memoizedState=wc(m),t.memoizedState=yc,d);if(!(t.mode&1))return ss(e,t,m,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,d=Error(ne(419)),r=dl(d,r,void 0),ss(e,t,m,r)}if(c=(m&e.childLanes)!==0,ft||c){if(r=Xe,r!==null){switch(m&-m){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|m)?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,mn(e,l),Ht(r,e,l,-1))}return Ju(),r=dl(Error(ne(421))),ss(e,t,m,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ty.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,yt=Fn(l.nextSibling),Et=t,Me=!0,jt=null,e!==null&&(St[_t++]=An,St[_t++]=dn,St[_t++]=or,An=e.id,dn=e.overflow,or=t),t=Hu(t,r.children),t.flags|=4096,t)}function eA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,n)}function gl(e,t,n,r,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=n,d.tailMode=l)}function a0(e,t,n){var r=t.pendingProps,l=r.revealOrder,d=r.tail;if(rt(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eA(e,n,t);else if(e.tag===19)eA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),gl(t,!1,l,n,d);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ws(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}gl(t,!0,n,null,d);break;case"together":gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cy(e,t,n){switch(t.tag){case 3:r0(t),fi();break;case 5:Dp(t);break;case 1:dt(t.type)&&js(t);break;case 4:Pu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;_e(Hs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?i0(e,t,n):(_e(Pe,Pe.current&1),e=Cn(e,t,n),e!==null?e.sibling:null);_e(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return a0(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),_e(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,t0(e,t,n)}return Cn(e,t,n)}var s0,Ec,o0,l0;s0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ec=function(){};o0=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,rr(rn.current);var d=null;switch(n){case"input":l=Hl(e,l),r=Hl(e,r),d=[];break;case"select":l=Re({},l,{value:void 0}),r=Re({},r,{value:void 0}),d=[];break;case"textarea":l=Wl(e,l),r=Wl(e,r),d=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ns)}Vl(n,r);var m;n=null;for(h in l)if(!r.hasOwnProperty(h)&&l.hasOwnProperty(h)&&l[h]!=null)if(h==="style"){var c=l[h];for(m in c)c.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ua.hasOwnProperty(h)?d||(d=[]):(d=d||[]).push(h,null));for(h in r){var i=r[h];if(c=l!=null?l[h]:void 0,r.hasOwnProperty(h)&&i!==c&&(i!=null||c!=null))if(h==="style")if(c){for(m in c)!c.hasOwnProperty(m)||i&&i.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in i)i.hasOwnProperty(m)&&c[m]!==i[m]&&(n||(n={}),n[m]=i[m])}else n||(d||(d=[]),d.push(h,n)),n=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(d=d||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(d=d||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ua.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&Qe("scroll",e),d||c===i||(d=[])):(d=d||[]).push(h,i))}n&&(d=d||[]).push("style",n);var h=d;(t.updateQueue=h)&&(t.flags|=4)}};l0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ri(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yy(e,t,n){var r=t.pendingProps;switch(Qu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return dt(t.type)&&Gs(),Ze(t),null;case 3:return r=t.stateNode,di(),De(At),De(tt),Ru(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(kc(jt),jt=null))),Ec(e,t),Ze(t),null;case 5:Lu(t);var l=rr(Ea.current);if(n=t.type,e!==null&&t.stateNode!=null)o0(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Ze(t),null}if(e=rr(rn.current),is(t)){r=t.stateNode,n=t.type;var d=t.memoizedProps;switch(r[en]=t,r[ya]=d,e=(t.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(l=0;l<Xi.length;l++)Qe(Xi[l],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":cf(r,d),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!d.multiple},Qe("invalid",r);break;case"textarea":hf(r,d),Qe("invalid",r)}Vl(n,d),l=null;for(var m in d)if(d.hasOwnProperty(m)){var c=d[m];m==="children"?typeof c=="string"?r.textContent!==c&&(d.suppressHydrationWarning!==!0&&rs(r.textContent,c,e),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(d.suppressHydrationWarning!==!0&&rs(r.textContent,c,e),l=["children",""+c]):ua.hasOwnProperty(m)&&c!=null&&m==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Va(r),uf(r,d,!0);break;case"textarea":Va(r),ff(r);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(r.onclick=Ns)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{m=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=m.createElement(n,{is:r.is}):(e=m.createElement(n),n==="select"&&(m=e,r.multiple?m.multiple=!0:r.size&&(m.size=r.size))):e=m.createElementNS(e,n),e[en]=t,e[ya]=r,s0(e,t,!1,!1),t.stateNode=e;e:{switch(m=Jl(n,r),n){case"dialog":Qe("cancel",e),Qe("close",e),l=r;break;case"iframe":case"object":case"embed":Qe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Xi.length;l++)Qe(Xi[l],e);l=r;break;case"source":Qe("error",e),l=r;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),l=r;break;case"details":Qe("toggle",e),l=r;break;case"input":cf(e,r),l=Hl(e,r),Qe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Re({},r,{value:void 0}),Qe("invalid",e);break;case"textarea":hf(e,r),l=Wl(e,r),Qe("invalid",e);break;default:l=r}Vl(n,l),c=l;for(d in c)if(c.hasOwnProperty(d)){var i=c[d];d==="style"?Rg(e,i):d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Pg(e,i)):d==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&ha(e,i):typeof i=="number"&&ha(e,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ua.hasOwnProperty(d)?i!=null&&d==="onScroll"&&Qe("scroll",e):i!=null&&du(e,d,i,m))}switch(n){case"input":Va(e),uf(e,r,!1);break;case"textarea":Va(e),ff(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,d=r.value,d!=null?ni(e,!!r.multiple,d,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ns)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)l0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=rr(Ea.current),rr(rn.current),is(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(d=r.nodeValue!==n)&&(e=Et,e!==null))switch(e.tag){case 3:rs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(r.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Ze(t),null;case 13:if(De(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&yt!==null&&t.mode&1&&!(t.flags&128))xp(),fi(),t.flags|=98560,d=!1;else if(d=is(t),r!==null&&r.dehydrated!==null){if(e===null){if(!d)throw Error(ne(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(ne(317));d[en]=t}else fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),d=!1}else jt!==null&&(kc(jt),jt=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?ze===0&&(ze=3):Ju())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return di(),Ec(e,t),e===null&&ma(t.stateNode.containerInfo),Ze(t),null;case 10:return Ou(t.type._context),Ze(t),null;case 17:return dt(t.type)&&Gs(),Ze(t),null;case 19:if(De(Pe),d=t.memoizedState,d===null)return Ze(t),null;if(r=(t.flags&128)!==0,m=d.rendering,m===null)if(r)Ri(d,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(m=Ws(e),m!==null){for(t.flags|=128,Ri(d,!1),r=m.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)d=n,e=r,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Pe,Pe.current&1|2),t.child}e=e.sibling}d.tail!==null&&$e()>pi&&(t.flags|=128,r=!0,Ri(d,!1),t.lanes=4194304)}else{if(!r)if(e=Ws(m),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ri(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Me)return Ze(t),null}else 2*$e()-d.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,Ri(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(n=d.last,n!==null?n.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=$e(),t.sibling=null,n=Pe.current,_e(Pe,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return Vu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function wy(e,t){switch(Qu(t),t.tag){case 1:return dt(t.type)&&Gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di(),De(At),De(tt),Ru(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lu(t),null;case 13:if(De(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Pe),null;case 4:return di(),null;case 10:return Ou(t.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var os=!1,et=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,le=null;function Kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function Bc(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var tA=!1;function By(e,t){if(sc=Ps,e=fp(),Su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,c=-1,i=-1,h=0,A=0,a=e,o=null;t:for(;;){for(var s;a!==n||l!==0&&a.nodeType!==3||(c=m+l),a!==d||r!==0&&a.nodeType!==3||(i=m+r),a.nodeType===3&&(m+=a.nodeValue.length),(s=a.firstChild)!==null;)o=a,a=s;for(;;){if(a===e)break t;if(o===n&&++h===l&&(c=m),o===d&&++A===r&&(i=m),(s=a.nextSibling)!==null)break;a=o,o=a.parentNode}a=s}n=c===-1||i===-1?null:{start:c,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(oc={focusedElem:e,selectionRange:n},Ps=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var u=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var g=u.memoizedProps,f=u.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nt(t.type,g),f);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(y){Ge(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return u=tA,tA=!1,u}function ia(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&Bc(t,n,d)}l=l.next}while(l!==r)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ic(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function c0(e){var t=e.alternate;t!==null&&(e.alternate=null,c0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[ya],delete t[uc],delete t[ay],delete t[sy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u0(e){return e.tag===5||e.tag===3||e.tag===4}function nA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ns));else if(r!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}var Ve=null,Gt=!1;function In(e,t,n){for(n=n.child;n!==null;)h0(e,t,n),n=n.sibling}function h0(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 5:et||Kr(n,t);case 6:var r=Ve,l=Gt;Ve=null,In(e,t,n),Ve=r,Gt=l,Ve!==null&&(Gt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Gt?(e=Ve,n=n.stateNode,e.nodeType===8?ll(e.parentNode,n):e.nodeType===1&&ll(e,n),ga(e)):ll(Ve,n.stateNode));break;case 4:r=Ve,l=Gt,Ve=n.stateNode.containerInfo,Gt=!0,In(e,t,n),Ve=r,Gt=l;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var d=l,m=d.destroy;d=d.tag,m!==void 0&&(d&2||d&4)&&Bc(n,t,m),l=l.next}while(l!==r)}In(e,t,n);break;case 1:if(!et&&(Kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ge(n,t,c)}In(e,t,n);break;case 21:In(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,In(e,t,n),et=r):In(e,t,n);break;default:In(e,t,n)}}function rA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ey),t.forEach(function(r){var l=Dy.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var d=e,m=t,c=m;e:for(;c!==null;){switch(c.tag){case 5:Ve=c.stateNode,Gt=!1;break e;case 3:Ve=c.stateNode.containerInfo,Gt=!0;break e;case 4:Ve=c.stateNode.containerInfo,Gt=!0;break e}c=c.return}if(Ve===null)throw Error(ne(160));h0(d,m,l),Ve=null,Gt=!1;var i=l.alternate;i!==null&&(i.return=null),l.return=null}catch(h){Ge(l,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f0(t,e),t=t.sibling}function f0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Jt(e),r&4){try{ia(3,e,e.return),wo(3,e)}catch(g){Ge(e,e.return,g)}try{ia(5,e,e.return)}catch(g){Ge(e,e.return,g)}}break;case 1:Pt(t,e),Jt(e),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(Pt(t,e),Jt(e),r&512&&n!==null&&Kr(n,n.return),e.flags&32){var l=e.stateNode;try{ha(l,"")}catch(g){Ge(e,e.return,g)}}if(r&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,m=n!==null?n.memoizedProps:d,c=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{c==="input"&&d.type==="radio"&&d.name!=null&&Og(l,d),Jl(c,m);var h=Jl(c,d);for(m=0;m<i.length;m+=2){var A=i[m],a=i[m+1];A==="style"?Rg(l,a):A==="dangerouslySetInnerHTML"?Pg(l,a):A==="children"?ha(l,a):du(l,A,a,h)}switch(c){case"input":Yl(l,d);break;case"textarea":Fg(l,d);break;case"select":var o=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var s=d.value;s!=null?ni(l,!!d.multiple,s,!1):o!==!!d.multiple&&(d.defaultValue!=null?ni(l,!!d.multiple,d.defaultValue,!0):ni(l,!!d.multiple,d.multiple?[]:"",!1))}l[ya]=d}catch(g){Ge(e,e.return,g)}}break;case 6:if(Pt(t,e),Jt(e),r&4){if(e.stateNode===null)throw Error(ne(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(g){Ge(e,e.return,g)}}break;case 3:if(Pt(t,e),Jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(g){Ge(e,e.return,g)}break;case 4:Pt(t,e),Jt(e);break;case 13:Pt(t,e),Jt(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(Wu=$e())),r&4&&rA(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(et=(h=et)||A,Pt(t,e),et=h):Pt(t,e),Jt(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!A&&e.mode&1)for(le=e,A=e.child;A!==null;){for(a=le=A;le!==null;){switch(o=le,s=o.child,o.tag){case 0:case 11:case 14:case 15:ia(4,o,o.return);break;case 1:Kr(o,o.return);var u=o.stateNode;if(typeof u.componentWillUnmount=="function"){r=o,n=o.return;try{t=r,u.props=t.memoizedProps,u.state=t.memoizedState,u.componentWillUnmount()}catch(g){Ge(r,n,g)}}break;case 5:Kr(o,o.return);break;case 22:if(o.memoizedState!==null){aA(a);continue}}s!==null?(s.return=o,le=s):aA(a)}A=A.sibling}e:for(A=null,a=e;;){if(a.tag===5){if(A===null){A=a;try{l=a.stateNode,h?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(c=a.stateNode,i=a.memoizedProps.style,m=i!=null&&i.hasOwnProperty("display")?i.display:null,c.style.display=Lg("display",m))}catch(g){Ge(e,e.return,g)}}}else if(a.tag===6){if(A===null)try{a.stateNode.nodeValue=h?"":a.memoizedProps}catch(g){Ge(e,e.return,g)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;A===a&&(A=null),a=a.return}A===a&&(A=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:Pt(t,e),Jt(e),r&4&&rA(e);break;case 21:break;default:Pt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(u0(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ha(l,""),r.flags&=-33);var d=nA(e);bc(e,d,l);break;case 3:case 4:var m=r.stateNode.containerInfo,c=nA(e);xc(e,c,m);break;default:throw Error(ne(161))}}catch(i){Ge(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iy(e,t,n){le=e,A0(e)}function A0(e,t,n){for(var r=(e.mode&1)!==0;le!==null;){var l=le,d=l.child;if(l.tag===22&&r){var m=l.memoizedState!==null||os;if(!m){var c=l.alternate,i=c!==null&&c.memoizedState!==null||et;c=os;var h=et;if(os=m,(et=i)&&!h)for(le=l;le!==null;)m=le,i=m.child,m.tag===22&&m.memoizedState!==null?sA(l):i!==null?(i.return=m,le=i):sA(l);for(;d!==null;)le=d,A0(d),d=d.sibling;le=l,os=c,et=h}iA(e)}else l.subtreeFlags&8772&&d!==null?(d.return=l,le=d):iA(e)}}function iA(e){for(;le!==null;){var t=le;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||wo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&jf(t,d,r);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jf(t,m,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var A=h.memoizedState;if(A!==null){var a=A.dehydrated;a!==null&&ga(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}et||t.flags&512&&Ic(t)}catch(o){Ge(t,t.return,o)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function aA(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function sA(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(i){Ge(t,n,i)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(i){Ge(t,l,i)}}var d=t.return;try{Ic(t)}catch(i){Ge(t,d,i)}break;case 5:var m=t.return;try{Ic(t)}catch(i){Ge(t,m,i)}}}catch(i){Ge(t,t.return,i)}if(t===e){le=null;break}var c=t.sibling;if(c!==null){c.return=t.return,le=c;break}le=t.return}}var xy=Math.ceil,Js=yn.ReactCurrentDispatcher,Yu=yn.ReactCurrentOwner,Tt=yn.ReactCurrentBatchConfig,Ee=0,Xe=null,He=null,Je=0,Ct=0,qr=Yn(0),ze=0,ba=null,cr=0,Eo=0,zu=0,aa=null,ut=null,Wu=0,pi=1/0,un=null,Ks=!1,Sc=null,Pn=null,ls=!1,kn=null,qs=0,sa=0,_c=null,xs=-1,bs=0;function ot(){return Ee&6?$e():xs!==-1?xs:xs=$e()}function Ln(e){return e.mode&1?Ee&2&&Je!==0?Je&-Je:ly.transition!==null?(bs===0&&(bs=Jg()),bs):(e=xe,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e):1}function Ht(e,t,n,r){if(50<sa)throw sa=0,_c=null,Error(ne(185));Da(e,n,r),(!(Ee&2)||e!==Xe)&&(e===Xe&&(!(Ee&2)&&(Eo|=n),ze===4&&_n(e,Je)),gt(e,r),n===1&&Ee===0&&!(t.mode&1)&&(pi=$e()+500,mo&&zn()))}function gt(e,t){var n=e.callbackNode;lC(e,t);var r=Ms(e,e===Xe?Je:0);if(r===0)n!==null&&gf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gf(n),t===1)e.tag===0?oy(oA.bind(null,e)):Ep(oA.bind(null,e)),ry(function(){!(Ee&6)&&zn()}),n=null;else{switch(Kg(r)){case 1:n=Cu;break;case 4:n=Xg;break;case 16:n=Fs;break;case 536870912:n=Vg;break;default:n=Fs}n=w0(n,d0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function d0(e,t){if(xs=-1,bs=0,Ee&6)throw Error(ne(327));var n=e.callbackNode;if(oi()&&e.callbackNode!==n)return null;var r=Ms(e,e===Xe?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zs(e,r);else{t=r;var l=Ee;Ee|=2;var d=p0();(Xe!==e||Je!==t)&&(un=null,pi=$e()+500,ir(e,t));do try{_y();break}catch(c){g0(e,c)}while(1);Du(),Js.current=d,Ee=l,He!==null?t=0:(Xe=null,Je=0,t=ze)}if(t!==0){if(t===2&&(l=tc(e),l!==0&&(r=l,t=Qc(e,l))),t===1)throw n=ba,ir(e,0),_n(e,r),gt(e,$e()),n;if(t===6)_n(e,r);else{if(l=e.current.alternate,!(r&30)&&!by(l)&&(t=Zs(e,r),t===2&&(d=tc(e),d!==0&&(r=d,t=Qc(e,d))),t===1))throw n=ba,ir(e,0),_n(e,r),gt(e,$e()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:Kn(e,ut,un);break;case 3:if(_n(e,r),(r&130023424)===r&&(t=Wu+500-$e(),10<t)){if(Ms(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=cc(Kn.bind(null,e,ut,un),t);break}Kn(e,ut,un);break;case 4:if(_n(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var m=31-Ut(r);d=1<<m,m=t[m],m>l&&(l=m),r&=~d}if(r=l,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xy(r/1960))-r,10<r){e.timeoutHandle=cc(Kn.bind(null,e,ut,un),r);break}Kn(e,ut,un);break;case 5:Kn(e,ut,un);break;default:throw Error(ne(329))}}}return gt(e,$e()),e.callbackNode===n?d0.bind(null,e):null}function Qc(e,t){var n=aa;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=Zs(e,t),e!==2&&(t=ut,ut=n,t!==null&&kc(t)),e}function kc(e){ut===null?ut=e:ut.push.apply(ut,e)}function by(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],d=l.getSnapshot;l=l.value;try{if(!Yt(d(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~zu,t&=~Eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function oA(e){if(Ee&6)throw Error(ne(327));oi();var t=Ms(e,0);if(!(t&1))return gt(e,$e()),null;var n=Zs(e,t);if(e.tag!==0&&n===2){var r=tc(e);r!==0&&(t=r,n=Qc(e,r))}if(n===1)throw n=ba,ir(e,0),_n(e,t),gt(e,$e()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kn(e,ut,un),gt(e,$e()),null}function Xu(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(pi=$e()+500,mo&&zn())}}function ur(e){kn!==null&&kn.tag===0&&!(Ee&6)&&oi();var t=Ee;Ee|=1;var n=Tt.transition,r=xe;try{if(Tt.transition=null,xe=1,e)return e()}finally{xe=r,Tt.transition=n,Ee=t,!(Ee&6)&&zn()}}function Vu(){Ct=qr.current,De(qr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ny(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gs();break;case 3:di(),De(At),De(tt),Ru();break;case 5:Lu(r);break;case 4:di();break;case 13:De(Pe);break;case 19:De(Pe);break;case 10:Ou(r.type._context);break;case 22:case 23:Vu()}n=n.return}if(Xe=e,He=e=Rn(e.current,null),Je=Ct=t,ze=0,ba=null,zu=Eo=cr=0,ut=aa=null,nr!==null){for(t=0;t<nr.length;t++)if(n=nr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,d=n.pending;if(d!==null){var m=d.next;d.next=l,r.next=m}n.pending=r}nr=null}return e}function g0(e,t){do{var n=He;try{if(Du(),Es.current=Vs,Xs){for(var r=Le.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Xs=!1}if(lr=0,We=Ye=Le=null,ra=!1,Ba=0,Yu.current=null,n===null||n.return===null){ze=1,ba=t,He=null;break}e:{var d=e,m=n.return,c=n,i=t;if(t=Je,c.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i,A=c,a=A.tag;if(!(A.mode&1)&&(a===0||a===11||a===15)){var o=A.alternate;o?(A.updateQueue=o.updateQueue,A.memoizedState=o.memoizedState,A.lanes=o.lanes):(A.updateQueue=null,A.memoizedState=null)}var s=Xf(m);if(s!==null){s.flags&=-257,Vf(s,m,c,d,t),s.mode&1&&Wf(d,h,t),t=s,i=h;var u=t.updateQueue;if(u===null){var g=new Set;g.add(i),t.updateQueue=g}else u.add(i);break e}else{if(!(t&1)){Wf(d,h,t),Ju();break e}i=Error(ne(426))}}else if(Me&&c.mode&1){var f=Xf(m);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Vf(f,m,c,d,t),ku(gi(i,c));break e}}d=i=gi(i,c),ze!==4&&(ze=2),aa===null?aa=[d]:aa.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var p=qp(d,i,t);Gf(d,p);break e;case 1:c=i;var v=d.type,C=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pn===null||!Pn.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var y=Zp(d,c,t);Gf(d,y);break e}}d=d.return}while(d!==null)}m0(n)}catch(w){t=w,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function p0(){var e=Js.current;return Js.current=Vs,e===null?Vs:e}function Ju(){(ze===0||ze===3||ze===2)&&(ze=4),Xe===null||!(cr&268435455)&&!(Eo&268435455)||_n(Xe,Je)}function Zs(e,t){var n=Ee;Ee|=2;var r=p0();(Xe!==e||Je!==t)&&(un=null,ir(e,t));do try{Sy();break}catch(l){g0(e,l)}while(1);if(Du(),Ee=n,Js.current=r,He!==null)throw Error(ne(261));return Xe=null,Je=0,ze}function Sy(){for(;He!==null;)v0(He)}function _y(){for(;He!==null&&!Zm();)v0(He)}function v0(e){var t=y0(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?m0(e):He=t,Yu.current=null}function m0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wy(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,He=null;return}}else if(n=yy(n,t,Ct),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);ze===0&&(ze=5)}function Kn(e,t,n){var r=xe,l=Tt.transition;try{Tt.transition=null,xe=1,Qy(e,t,n,r)}finally{Tt.transition=l,xe=r}return null}function Qy(e,t,n,r){do oi();while(kn!==null);if(Ee&6)throw Error(ne(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(cC(e,d),e===Xe&&(He=Xe=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,w0(Fs,function(){return oi(),null})),d=(n.flags&15990)!==0,n.subtreeFlags&15990||d){d=Tt.transition,Tt.transition=null;var m=xe;xe=1;var c=Ee;Ee|=4,Yu.current=null,By(e,n),f0(n,e),VC(oc),Ps=!!sc,oc=sc=null,e.current=n,Iy(n),eC(),Ee=c,xe=m,Tt.transition=d}else e.current=n;if(ls&&(ls=!1,kn=e,qs=l),d=e.pendingLanes,d===0&&(Pn=null),rC(n.stateNode),gt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ks)throw Ks=!1,e=Sc,Sc=null,e;return qs&1&&e.tag!==0&&oi(),d=e.pendingLanes,d&1?e===_c?sa++:(sa=0,_c=e):sa=0,zn(),null}function oi(){if(kn!==null){var e=Kg(qs),t=Tt.transition,n=xe;try{if(Tt.transition=null,xe=16>e?16:e,kn===null)var r=!1;else{if(e=kn,kn=null,qs=0,Ee&6)throw Error(ne(331));var l=Ee;for(Ee|=4,le=e.current;le!==null;){var d=le,m=d.child;if(le.flags&16){var c=d.deletions;if(c!==null){for(var i=0;i<c.length;i++){var h=c[i];for(le=h;le!==null;){var A=le;switch(A.tag){case 0:case 11:case 15:ia(8,A,d)}var a=A.child;if(a!==null)a.return=A,le=a;else for(;le!==null;){A=le;var o=A.sibling,s=A.return;if(c0(A),A===h){le=null;break}if(o!==null){o.return=s,le=o;break}le=s}}}var u=d.alternate;if(u!==null){var g=u.child;if(g!==null){u.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(g!==null)}}le=d}}if(d.subtreeFlags&2064&&m!==null)m.return=d,le=m;else e:for(;le!==null;){if(d=le,d.flags&2048)switch(d.tag){case 0:case 11:case 15:ia(9,d,d.return)}var p=d.sibling;if(p!==null){p.return=d.return,le=p;break e}le=d.return}}var v=e.current;for(le=v;le!==null;){m=le;var C=m.child;if(m.subtreeFlags&2064&&C!==null)C.return=m,le=C;else e:for(m=v;le!==null;){if(c=le,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:wo(9,c)}}catch(w){Ge(c,c.return,w)}if(c===m){le=null;break e}var y=c.sibling;if(y!==null){y.return=c.return,le=y;break e}le=c.return}}if(Ee=l,zn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(fo,e)}catch{}r=!0}return r}finally{xe=n,Tt.transition=t}}return!1}function lA(e,t,n){t=gi(n,t),t=qp(e,t,1),e=Mn(e,t,1),t=ot(),e!==null&&(Da(e,1,t),gt(e,t))}function Ge(e,t,n){if(e.tag===3)lA(e,e,n);else for(;t!==null;){if(t.tag===3){lA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=gi(n,e),e=Zp(t,e,1),t=Mn(t,e,1),e=ot(),t!==null&&(Da(t,1,e),gt(t,e));break}}t=t.return}}function ky(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(Je&n)===n&&(ze===4||ze===3&&(Je&130023424)===Je&&500>$e()-Wu?ir(e,0):zu|=n),gt(e,t)}function C0(e,t){t===0&&(e.mode&1?(t=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):t=1);var n=ot();e=mn(e,t),e!==null&&(Da(e,t,n),gt(e,n))}function Ty(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),C0(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),C0(e,n)}var y0;y0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,Cy(e,t,n);ft=!!(e.flags&131072)}else ft=!1,Me&&t.flags&1048576&&Bp(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Is(e,t),e=t.pendingProps;var l=hi(t,tt.current);si(t,n),l=Gu(null,t,r,e,l,n);var d=ju();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(d=!0,js(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Mu(t),l.updater=Co,t.stateNode=l,l._reactInternals=t,pc(t,r,e,n),t=Cc(null,t,r,!0,d,n)):(t.tag=0,Me&&d&&_u(t),rt(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Fy(r),e=Nt(r,e),l){case 0:t=mc(null,t,r,e,n);break e;case 1:t=qf(null,t,r,e,n);break e;case 11:t=Jf(null,t,r,e,n);break e;case 14:t=Kf(null,t,r,Nt(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),mc(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),qf(e,t,r,l,n);case 3:e:{if(r0(t),e===null)throw Error(ne(387));r=t.pendingProps,d=t.memoizedState,l=d.element,Sp(e,t),zs(t,r,null,n);var m=t.memoizedState;if(r=m.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=gi(Error(ne(423)),t),t=Zf(e,t,r,n,l);break e}else if(r!==l){l=gi(Error(ne(424)),t),t=Zf(e,t,r,n,l);break e}else for(yt=Fn(t.stateNode.containerInfo.firstChild),Et=t,Me=!0,jt=null,n=Tp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fi(),r===l){t=Cn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Dp(t),e===null&&Ac(t),r=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,m=l.children,lc(r,l)?m=null:d!==null&&lc(r,d)&&(t.flags|=32),n0(e,t),rt(e,t,m,n),t.child;case 6:return e===null&&Ac(t),null;case 13:return i0(e,t,n);case 4:return Pu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ai(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),Jf(e,t,r,l,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,d=t.memoizedProps,m=l.value,_e(Hs,r._currentValue),r._currentValue=m,d!==null)if(Yt(d.value,m)){if(d.children===l.children&&!At.current){t=Cn(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var c=d.dependencies;if(c!==null){m=d.child;for(var i=c.firstContext;i!==null;){if(i.context===r){if(d.tag===1){i=gn(-1,n&-n),i.tag=2;var h=d.updateQueue;if(h!==null){h=h.shared;var A=h.pending;A===null?i.next=i:(i.next=A.next,A.next=i),h.pending=i}}d.lanes|=n,i=d.alternate,i!==null&&(i.lanes|=n),dc(d.return,n,t),c.lanes|=n;break}i=i.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(ne(341));m.lanes|=n,c=m.alternate,c!==null&&(c.lanes|=n),dc(m,n,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}rt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,si(t,n),l=Ot(l),r=r(l),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,l=Nt(r,t.pendingProps),l=Nt(r.type,l),Kf(e,t,r,l,n);case 15:return e0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),Is(e,t),t.tag=1,dt(r)?(e=!0,js(t)):e=!1,si(t,n),Qp(t,r,l),pc(t,r,l,n),Cc(null,t,r,!0,e,n);case 19:return a0(e,t,n);case 22:return t0(e,t,n)}throw Error(ne(156,t.tag))};function w0(e,t){return Wg(e,t)}function Oy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new Oy(e,t,n,r)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fy(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pu)return 11;if(e===vu)return 14}return 2}function Rn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ss(e,t,n,r,l,d){var m=2;if(r=e,typeof e=="function")Ku(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case $r:return ar(n.children,l,d,t);case gu:m=8,l|=8;break;case Gl:return e=kt(12,n,t,l|2),e.elementType=Gl,e.lanes=d,e;case jl:return e=kt(13,n,t,l),e.elementType=jl,e.lanes=d,e;case $l:return e=kt(19,n,t,l),e.elementType=$l,e.lanes=d,e;case kg:return Bo(n,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _g:m=10;break e;case Qg:m=9;break e;case pu:m=11;break e;case vu:m=14;break e;case xn:m=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=kt(m,n,t,l),t.elementType=e,t.type=r,t.lanes=d,t}function ar(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function Bo(e,t,n,r){return e=kt(22,e,r,t),e.elementType=kg,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function vl(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function My(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ko(0),this.expirationTimes=Ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ko(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function qu(e,t,n,r,l,d,m,c,i){return e=new My(e,t,n,c,i),t===1?(t=1,d===!0&&(t|=8)):t=0,d=kt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(d),e}function Py(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function E0(e){if(!e)return Gn;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(dt(n))return wp(e,n,t)}return t}function B0(e,t,n,r,l,d,m,c,i){return e=qu(n,r,!0,e,l,d,m,c,i),e.context=E0(null),n=e.current,r=ot(),l=Ln(n),d=gn(r,l),d.callback=t??null,Mn(n,d,l),e.current.lanes=l,Da(e,l,r),gt(e,r),e}function Io(e,t,n,r){var l=t.current,d=ot(),m=Ln(l);return n=E0(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(d,m),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mn(l,t,m),e!==null&&(Ht(e,l,m,d),ws(e,l,m)),m}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){cA(e,t),(e=e.alternate)&&cA(e,t)}function Ly(){return null}var I0=typeof reportError=="function"?reportError:function(e){};function eh(e){this._internalRoot=e}xo.prototype.render=eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Io(e,t,null,null)};xo.prototype.unmount=eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ur(function(){Io(null,e,null,null)}),t[vn]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sn.length&&t!==0&&t<Sn[n].priority;n++);Sn.splice(n,0,e),n===0&&np(e)}};function th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uA(){}function Ry(e,t,n,r,l){if(l){if(typeof r=="function"){var d=r;r=function(){var h=eo(m);d.call(h)}}var m=B0(t,r,e,0,null,!1,!1,"",uA);return e._reactRootContainer=m,e[vn]=m.current,ma(e.nodeType===8?e.parentNode:e),ur(),m}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var h=eo(i);c.call(h)}}var i=qu(e,0,!1,null,null,!1,!1,"",uA);return e._reactRootContainer=i,e[vn]=i.current,ma(e.nodeType===8?e.parentNode:e),ur(function(){Io(t,i,n,r)}),i}function So(e,t,n,r,l){var d=n._reactRootContainer;if(d){var m=d;if(typeof l=="function"){var c=l;l=function(){var i=eo(m);c.call(i)}}Io(t,m,e,l)}else m=Ry(n,t,e,l,r);return eo(m)}qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wi(t.pendingLanes);n!==0&&(yu(t,n|1),gt(t,$e()),!(Ee&6)&&(pi=$e()+500,zn()))}break;case 13:ur(function(){var r=mn(e,1);if(r!==null){var l=ot();Ht(r,e,1,l)}}),Zu(e,1)}};wu=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=ot();Ht(t,e,134217728,n)}Zu(e,134217728)}};Zg=function(e){if(e.tag===13){var t=Ln(e),n=mn(e,t);if(n!==null){var r=ot();Ht(n,e,t,r)}Zu(e,t)}};ep=function(){return xe};tp=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};ql=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=vo(r);if(!l)throw Error(ne(90));Dg(r),Yl(r,l)}}}break;case"textarea":Fg(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};jg=Xu;$g=ur;var Ny={usingClientEntryPoint:!1,Events:[Fa,zr,vo,Ng,Gg,Xu]},Ni={findFiberByHostInstance:tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gy={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{fo=cs.inject(Gy),nn=cs}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(t))throw Error(ne(200));return Py(e,t,null,n)};xt.createRoot=function(e,t){if(!th(e))throw Error(ne(299));var n=!1,r="",l=I0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=qu(e,1,!1,null,null,n,!1,r,l),e[vn]=t.current,ma(e.nodeType===8?e.parentNode:e),new eh(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Yg(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return ur(e)};xt.hydrate=function(e,t,n){if(!bo(t))throw Error(ne(200));return So(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!th(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,l=!1,d="",m=I0;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=B0(t,null,e,1,n??null,l,!1,d,m),e[vn]=t.current,ma(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new xo(t)};xt.render=function(e,t,n){if(!bo(t))throw Error(ne(200));return So(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!bo(e))throw Error(ne(40));return e._reactRootContainer?(ur(function(){So(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};xt.unstable_batchedUpdates=Xu;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bo(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return So(e,t,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch{}}t(),e.exports=xt})(hu);var hA=hu.exports;ks.createRoot=hA.createRoot,ks.hydrateRoot=hA.hydrateRoot;var Ne={};const jy={},$y=Object.freeze(Object.defineProperty({__proto__:null,default:jy},Symbol.toStringTag,{value:"Module"})),ml=vm($y);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=ml,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=ml.implForWrapper,t.nodeCanvas=ml.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function c(s,u){if(this.__eventListeners[s]){var g=this.__eventListeners[s];u?g[g.indexOf(u)]=!1:t.util.array.fill(g,!1)}}function i(s,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in s)this.on(g,s[g]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(u);return this}function h(s,u){var g=function(){u.apply(this,arguments),this.off(s,g)}.bind(this);this.on(s,g)}function A(s,u){if(arguments.length===1)for(var g in s)h.call(this,g,s[g]);else h.call(this,s,u);return this}function a(s,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)c.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in s)c.call(this,g,s[g]);else c.call(this,s,u);return this}function o(s,u){if(!this.__eventListeners)return this;var g=this.__eventListeners[s];if(!g)return this;for(var f=0,p=g.length;f<p;f++)g[f]&&g[f].call(this,u||{});return this.__eventListeners[s]=g.filter(function(v){return v!==!1}),this}t.Observable={fire:o,on:i,once:A,off:a}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,h){var A=this._objects;return h?A[i]=c:A.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,h=!1,A=0,a=arguments.length;A<a;A++)i=c.indexOf(arguments[A]),i!==-1&&(h=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[A]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var h=this.getObjects(),A=0,a=h.length;A<a;A++)c.call(i,h[A],A,h);return this},getObjects:function(c){return typeof c>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},t.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof t.Gradient)&&this.set(i,new t.Gradient(c))},_initPattern:function(c,i,h){c&&c.source&&!(c instanceof t.Pattern)?this.set(i,new t.Pattern(c,h)):h&&h()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,h=Math.atan2,A=Math.pow,a=Math.PI/180,o=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var u=s/o;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var u=s/o,g=1;switch(s<0&&(g=-1),u){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(s)},removeFromArray:function(s,u){var g=s.indexOf(u);return g!==-1&&s.splice(g,1),s},getRandomInt:function(s,u){return Math.floor(Math.random()*(u-s+1))+s},degreesToRadians:function(s){return s*a},radiansToDegrees:function(s){return s/a},rotatePoint:function(s,u,g){var f=new t.Point(s.x-u.x,s.y-u.y),p=t.util.rotateVector(f,g);return new t.Point(p.x,p.y).addEquals(u)},rotateVector:function(s,u){var g=t.util.sin(u),f=t.util.cos(u),p=s.x*f-s.y*g,v=s.x*g+s.y*f;return{x:p,y:v}},createVector:function(s,u){return new t.Point(u.x-s.x,u.y-s.y)},calcAngleBetweenVectors:function(s,u){return Math.acos((s.x*u.x+s.y*u.y)/(Math.hypot(s.x,s.y)*Math.hypot(u.x,u.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,u,g){var f=t.util.createVector(s,u),p=t.util.createVector(s,g),v=t.util.calcAngleBetweenVectors(f,p),C=t.util.calcAngleBetweenVectors(t.util.rotateVector(f,v),p),y=v*(C===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(f,y)),angle:v}},projectStrokeOnPoints:function(s,u,g){var f=[],p=u.strokeWidth/2,v=u.strokeUniform?new t.Point(1/u.scaleX,1/u.scaleY):new t.Point(1,1),C=function(y){var w=p/Math.hypot(y.x,y.y);return new t.Point(y.x*w*v.x,y.y*w*v.y)};return s.length<=1||s.forEach(function(y,w){var E=new t.Point(y.x,y.y),B,b;w===0?(b=s[w+1],B=g?C(t.util.createVector(b,E)).addEquals(E):s[s.length-1]):w===s.length-1?(B=s[w-1],b=g?C(t.util.createVector(B,E)).addEquals(E):s[0]):(B=s[w-1],b=s[w+1]);var D=t.util.getBisector(E,B,b),R=D.vector,J=D.angle,Z,q;if(u.strokeLineJoin==="miter"&&(Z=-p/Math.sin(J/2),q=new t.Point(R.x*Z*v.x,R.y*Z*v.y),Math.hypot(q.x,q.y)/p<=u.strokeMiterLimit)){f.push(E.add(q)),f.push(E.subtract(q));return}Z=-p*Math.SQRT2,q=new t.Point(R.x*Z*v.x,R.y*Z*v.y),f.push(E.add(q)),f.push(E.subtract(q))}),f},transformPoint:function(s,u,g){return g?new t.Point(u[0]*s.x+u[2]*s.y,u[1]*s.x+u[3]*s.y):new t.Point(u[0]*s.x+u[2]*s.y+u[4],u[1]*s.x+u[3]*s.y+u[5])},makeBoundingBoxFromPoints:function(s,u){if(u)for(var g=0;g<s.length;g++)s[g]=t.util.transformPoint(s[g],u);var f=[s[0].x,s[1].x,s[2].x,s[3].x],p=t.util.array.min(f),v=t.util.array.max(f),C=v-p,y=[s[0].y,s[1].y,s[2].y,s[3].y],w=t.util.array.min(y),E=t.util.array.max(y),B=E-w;return{left:p,top:w,width:C,height:B}},invertTransform:function(s){var u=1/(s[0]*s[3]-s[1]*s[2]),g=[u*s[3],-u*s[1],-u*s[2],u*s[0]],f=t.util.transformPoint({x:s[4],y:s[5]},g,!0);return g[4]=-f.x,g[5]=-f.y,g},toFixed:function(s,u){return parseFloat(Number(s).toFixed(u))},parseUnit:function(s,u){var g=/\D{0,2}$/.exec(s),f=parseFloat(s);switch(u||(u=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return f*t.DPI/25.4;case"cm":return f*t.DPI/2.54;case"in":return f*t.DPI;case"pt":return f*t.DPI/72;case"pc":return f*t.DPI/72*12;case"em":return f*u;default:return f}},falseFunction:function(){return!1},getKlass:function(s,u){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(u)[s]},getSvgAttributes:function(s){var u=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(s){if(!s)return t;var u=s.split("."),g=u.length,f,p=c||t.window;for(f=0;f<g;++f)p=p[u[f]];return p},loadImage:function(s,u,g,f){if(!s){u&&u.call(g,s);return}var p=t.util.createImage(),v=function(){u&&u.call(g,p,!1),p=p.onload=p.onerror=null};p.onload=v,p.onerror=function(){t.log("Error loading "+p.src),u&&u.call(g,null,!0),p=p.onload=p.onerror=null},s.indexOf("data")!==0&&f!==void 0&&f!==null&&(p.crossOrigin=f),s.substring(0,14)==="data:image/svg"&&(p.onload=null,t.util.loadImageInDom(p,v)),p.src=s},loadImageInDom:function(s,u){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(s),t.document.querySelector("body").appendChild(g),s.onload=function(){u(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(s,u,g,f){s=s||[];var p=[],v=0,C=s.length;function y(){++v===C&&u&&u(p.filter(function(w){return w}))}if(!C){u&&u(p);return}s.forEach(function(w,E){if(!w||!w.type){y();return}var B=t.util.getKlass(w.type,g);B.fromObject(w,function(b,D){D||(p[E]=b),f&&f(w,b,D),y()})})},enlivenObjectEnlivables:function(s,u,g){var f=t.Object.ENLIVEN_PROPS.filter(function(p){return!!s[p]});t.util.enlivenObjects(f.map(function(p){return s[p]}),function(p){var v={};f.forEach(function(C,y){v[C]=p[y],u&&(u[C]=p[y])}),g&&g(v)})},enlivenPatterns:function(s,u){s=s||[];function g(){++p===v&&u&&u(f)}var f=[],p=0,v=s.length;if(!v){u&&u(f);return}s.forEach(function(C,y){C&&C.source?new t.Pattern(C,function(w){f[y]=w,g()}):(f[y]=C,g())})},groupSVGElements:function(s,u,g){var f;return s&&s.length===1?(typeof g<"u"&&(s[0].sourcePath=g),s[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),f=new t.Group(s,u),typeof g<"u"&&(f.sourcePath=g),f)},populateWithProperties:function(s,u,g){if(g&&Array.isArray(g))for(var f=0,p=g.length;f<p;f++)g[f]in s&&(u[g[f]]=s[g[f]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var u=t.util.createCanvasElement();return u.width=s.width,u.height=s.height,u.getContext("2d").drawImage(s,0,0),u},toDataURL:function(s,u,g){return s.toDataURL("image/"+u,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,u,g){return[s[0]*u[0]+s[2]*u[1],s[1]*u[0]+s[3]*u[1],s[0]*u[2]+s[2]*u[3],s[1]*u[2]+s[3]*u[3],g?0:s[0]*u[4]+s[2]*u[5]+s[4],g?0:s[1]*u[4]+s[3]*u[5]+s[5]]},qrDecompose:function(s){var u=h(s[1],s[0]),g=A(s[0],2)+A(s[1],2),f=i(g),p=(s[0]*s[3]-s[2]*s[1])/f,v=h(s[0]*s[2]+s[1]*s[3],g);return{angle:u/a,scaleX:f,scaleY:p,skewX:v/a,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var u=t.util.degreesToRadians(s.angle),g=t.util.cos(u),f=t.util.sin(u);return[g,f,-f,g,0,0]},calcDimensionsMatrix:function(s){var u=typeof s.scaleX>"u"?1:s.scaleX,g=typeof s.scaleY>"u"?1:s.scaleY,f=[s.flipX?-u:u,0,0,s.flipY?-g:g,0,0],p=t.util.multiplyTransformMatrices,v=t.util.degreesToRadians;return s.skewX&&(f=p(f,[1,0,Math.tan(v(s.skewX)),1],!0)),s.skewY&&(f=p(f,[1,Math.tan(v(s.skewY)),0,1],!0)),f},composeMatrix:function(s){var u=[1,0,0,1,s.translateX||0,s.translateY||0],g=t.util.multiplyTransformMatrices;return s.angle&&(u=g(u,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(u=g(u,t.util.calcDimensionsMatrix(s))),u},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,u,g,f){f>0&&(u>f?u-=f:u=0,g>f?g-=f:g=0);var p=!0,v,C,y=s.getImageData(u,g,f*2||1,f*2||1),w=y.data.length;for(v=3;v<w&&(C=y.data[v],p=C<=0,p!==!1);v+=4);return y=null,p},parsePreserveAspectRatioAttribute:function(s){var u="meet",g="Mid",f="Mid",p=s.split(" "),v;return p&&p.length&&(u=p.pop(),u!=="meet"&&u!=="slice"?(v=u,u="meet"):p.length&&(v=p.pop())),g=v!=="none"?v.slice(1,4):"none",f=v!=="none"?v.slice(5,8):"none",{meetOrSlice:u,alignX:g,alignY:f}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,u){var g=Math.sqrt(u*s),f=Math.floor(u/g);return{x:Math.floor(g),y:f}},capValue:function(s,u,g){return Math.max(s,Math.min(u,g))},findScaleToFit:function(s,u){return Math.min(u.width/s.width,u.height/s.height)},findScaleToCover:function(s,u){return Math.max(u.width/s.width,u.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(u){return t.util.toFixed(u,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,u){var g=t.util.invertTransform(u),f=t.util.multiplyTransformMatrices(g,s.calcOwnMatrix());t.util.applyTransformToObject(s,f)},addTransformToObject:function(s,u){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(u,s.calcOwnMatrix()))},applyTransformToObject:function(s,u){var g=t.util.qrDecompose(u),f=new t.Point(g.translateX,g.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",g.scaleX),s.set("scaleY",g.scaleY),s.skewX=g.skewX,s.skewY=g.skewY,s.angle=g.angle,s.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(s,u,g){var f=s/2,p=u/2,v=[{x:-f,y:-p},{x:f,y:-p},{x:-f,y:p},{x:f,y:p}],C=t.util.calcDimensionsMatrix(g),y=t.util.makeBoundingBoxFromPoints(v,C);return{x:y.width,y:y.height}},mergeClipPaths:function(s,u){var g=s,f=u;g.inverted&&!f.inverted&&(g=u,f=s),t.util.applyTransformToObject(f,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),f.calcTransformMatrix()));var p=g.inverted&&f.inverted;return p&&(g.inverted=f.inverted=!1),new t.Group([g],{clipPath:f,inverted:p})},hasStyleChanged:function(s,u,g){return g=g||!1,s.fill!==u.fill||s.stroke!==u.stroke||s.strokeWidth!==u.strokeWidth||s.fontSize!==u.fontSize||s.fontFamily!==u.fontFamily||s.fontWeight!==u.fontWeight||s.fontStyle!==u.fontStyle||s.textBackgroundColor!==u.textBackgroundColor||s.deltaY!==u.deltaY||g&&(s.overline!==u.overline||s.underline!==u.underline||s.linethrough!==u.linethrough)},stylesToArray:function(g,u){for(var g=t.util.object.clone(g,!0),f=u.split(`
`),p=-1,v={},C=[],y=0;y<f.length;y++){if(!g[y]){p+=f[y].length;continue}for(var w=0;w<f[y].length;w++){p++;var E=g[y][w];if(E&&Object.keys(E).length>0){var B=t.util.hasStyleChanged(v,E,!0);B?C.push({start:p,end:p+1,style:E}):C[C.length-1].end++}v=E||{}}}return C},stylesFromArray:function(s,u){if(!Array.isArray(s))return s;for(var g=u.split(`
`),f=-1,p=0,v={},C=0;C<g.length;C++)for(var y=0;y<g[C].length;y++)f++,s[p]&&s[p].start<=f&&f<s[p].end&&(v[C]=v[C]||{},v[C][y]=Object.assign({},s[p].style),f===s[p].end-1&&p++);return v}}}(e),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function A(I,S,Q,T,M,_,x,O,F,$,N){var X=t.util.cos(I),K=t.util.sin(I),ie=t.util.cos(S),G=t.util.sin(S),P=Q*M*ie-T*_*G+x,H=T*M*ie+Q*_*G+O,W=$+F*(-Q*M*K-T*_*X),j=N+F*(-T*M*K+Q*_*X),V=P+F*(Q*M*G+T*_*ie),se=H+F*(T*M*G-Q*_*ie);return["C",W,j,V,se,P,H]}function a(I,S,Q,T,M,_,x){var O=Math.PI,F=x*O/180,$=t.util.sin(F),N=t.util.cos(F),X=0,K=0;Q=Math.abs(Q),T=Math.abs(T);var ie=-N*I*.5-$*S*.5,G=-N*S*.5+$*I*.5,P=Q*Q,H=T*T,W=G*G,j=ie*ie,V=P*H-P*W-H*j,se=0;if(V<0){var ge=Math.sqrt(1-V/(P*H));Q*=ge,T*=ge}else se=(M===_?-1:1)*Math.sqrt(V/(P*W+H*j));var he=se*Q*G/T,Y=-se*T*ie/Q,fe=N*he-$*Y+I*.5,ve=$*he+N*Y+S*.5,we=o(1,0,(ie-he)/Q,(G-Y)/T),Oe=o((ie-he)/Q,(G-Y)/T,(-ie-he)/Q,(-G-Y)/T);_===0&&Oe>0?Oe-=2*O:_===1&&Oe<0&&(Oe+=2*O);for(var Be=Math.ceil(Math.abs(Oe/O*2)),nt=[],Ue=Oe/Be,Xn=8/3*Math.sin(Ue/4)*Math.sin(Ue/4)/Math.sin(Ue/2),Ti=we+Ue,Vt=0;Vt<Be;Vt++)nt[Vt]=A(we,Ti,N,$,Q,T,fe,ve,Xn,X,K),X=nt[Vt][5],K=nt[Vt][6],we=Ti,Ti+=Ue;return nt}function o(I,S,Q,T){var M=Math.atan2(S,I),_=Math.atan2(T,Q);return _>=M?_-M:2*Math.PI-(M-_)}function s(I,S,Q,T,M,_,x,O){var F;if(t.cachesBoundsOfCurve&&(F=c.call(arguments),t.boundsOfCurveCache[F]))return t.boundsOfCurveCache[F];var $=Math.sqrt,N=Math.min,X=Math.max,K=Math.abs,ie=[],G=[[],[]],P,H,W,j,V,se,ge,he;H=6*I-12*Q+6*M,P=-3*I+9*Q-9*M+3*x,W=3*Q-3*I;for(var Y=0;Y<2;++Y){if(Y>0&&(H=6*S-12*T+6*_,P=-3*S+9*T-9*_+3*O,W=3*T-3*S),K(P)<1e-12){if(K(H)<1e-12)continue;j=-W/H,0<j&&j<1&&ie.push(j);continue}ge=H*H-4*W*P,!(ge<0)&&(he=$(ge),V=(-H+he)/(2*P),0<V&&V<1&&ie.push(V),se=(-H-he)/(2*P),0<se&&se<1&&ie.push(se))}for(var fe,ve,we=ie.length,Oe=we,Be;we--;)j=ie[we],Be=1-j,fe=Be*Be*Be*I+3*Be*Be*j*Q+3*Be*j*j*M+j*j*j*x,G[0][we]=fe,ve=Be*Be*Be*S+3*Be*Be*j*T+3*Be*j*j*_+j*j*j*O,G[1][we]=ve;G[0][Oe]=I,G[1][Oe]=S,G[0][Oe+1]=x,G[1][Oe+1]=O;var nt=[{x:N.apply(null,G[0]),y:N.apply(null,G[1])},{x:X.apply(null,G[0]),y:X.apply(null,G[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[F]=nt),nt}function u(I,S,Q){for(var T=Q[1],M=Q[2],_=Q[3],x=Q[4],O=Q[5],F=Q[6],$=Q[7],N=a(F-I,$-S,T,M,x,O,_),X=0,K=N.length;X<K;X++)N[X][1]+=I,N[X][2]+=S,N[X][3]+=I,N[X][4]+=S,N[X][5]+=I,N[X][6]+=S;return N}function g(I){var S=0,Q=0,T=I.length,M=0,_=0,x,O,F,$=[],N,X,K;for(O=0;O<T;++O){switch(F=!1,x=I[O].slice(0),x[0]){case"l":x[0]="L",x[1]+=S,x[2]+=Q;case"L":S=x[1],Q=x[2];break;case"h":x[1]+=S;case"H":x[0]="L",x[2]=Q,S=x[1];break;case"v":x[1]+=Q;case"V":x[0]="L",Q=x[1],x[1]=S,x[2]=Q;break;case"m":x[0]="M",x[1]+=S,x[2]+=Q;case"M":S=x[1],Q=x[2],M=x[1],_=x[2];break;case"c":x[0]="C",x[1]+=S,x[2]+=Q,x[3]+=S,x[4]+=Q,x[5]+=S,x[6]+=Q;case"C":X=x[3],K=x[4],S=x[5],Q=x[6];break;case"s":x[0]="S",x[1]+=S,x[2]+=Q,x[3]+=S,x[4]+=Q;case"S":N==="C"?(X=2*S-X,K=2*Q-K):(X=S,K=Q),S=x[3],Q=x[4],x[0]="C",x[5]=x[3],x[6]=x[4],x[3]=x[1],x[4]=x[2],x[1]=X,x[2]=K,X=x[3],K=x[4];break;case"q":x[0]="Q",x[1]+=S,x[2]+=Q,x[3]+=S,x[4]+=Q;case"Q":X=x[1],K=x[2],S=x[3],Q=x[4];break;case"t":x[0]="T",x[1]+=S,x[2]+=Q;case"T":N==="Q"?(X=2*S-X,K=2*Q-K):(X=S,K=Q),x[0]="Q",S=x[1],Q=x[2],x[1]=X,x[2]=K,x[3]=S,x[4]=Q;break;case"a":x[0]="A",x[6]+=S,x[7]+=Q;case"A":F=!0,$=$.concat(u(S,Q,x)),S=x[6],Q=x[7];break;case"z":case"Z":S=M,Q=_;break}F||$.push(x),N=x[0]}return $}function f(I,S,Q,T){return Math.sqrt((Q-I)*(Q-I)+(T-S)*(T-S))}function p(I){return I*I*I}function v(I){return 3*I*I*(1-I)}function C(I){return 3*I*(1-I)*(1-I)}function y(I){return(1-I)*(1-I)*(1-I)}function w(I,S,Q,T,M,_,x,O){return function(F){var $=p(F),N=v(F),X=C(F),K=y(F);return{x:x*$+M*N+Q*X+I*K,y:O*$+_*N+T*X+S*K}}}function E(I,S,Q,T,M,_,x,O){return function(F){var $=1-F,N=3*$*$*(Q-I)+6*$*F*(M-Q)+3*F*F*(x-M),X=3*$*$*(T-S)+6*$*F*(_-T)+3*F*F*(O-_);return Math.atan2(X,N)}}function B(I){return I*I}function b(I){return 2*I*(1-I)}function D(I){return(1-I)*(1-I)}function R(I,S,Q,T,M,_){return function(x){var O=B(x),F=b(x),$=D(x);return{x:M*O+Q*F+I*$,y:_*O+T*F+S*$}}}function J(I,S,Q,T,M,_){return function(x){var O=1-x,F=2*O*(Q-I)+2*x*(M-Q),$=2*O*(T-S)+2*x*(_-T);return Math.atan2($,F)}}function Z(I,S,Q){var T={x:S,y:Q},M,_=0,x;for(x=1;x<=100;x+=1)M=I(x/100),_+=f(T.x,T.y,M.x,M.y),T=M;return _}function q(I,S){for(var Q=0,T=0,M=I.iterator,_={x:I.x,y:I.y},x,O,F=.01,$=I.angleFinder,N;T<S&&F>1e-4;)x=M(Q),N=Q,O=f(_.x,_.y,x.x,x.y),O+T>S?(Q-=F,F/=2):(_=x,Q+=F,T+=O);return x.angle=$(N),x}function ee(I){for(var S=0,Q=I.length,T,M=0,_=0,x=0,O=0,F=[],$,N,X,K=0;K<Q;K++){switch(T=I[K],N={x:M,y:_,command:T[0]},T[0]){case"M":N.length=0,x=M=T[1],O=_=T[2];break;case"L":N.length=f(M,_,T[1],T[2]),M=T[1],_=T[2];break;case"C":$=w(M,_,T[1],T[2],T[3],T[4],T[5],T[6]),X=E(M,_,T[1],T[2],T[3],T[4],T[5],T[6]),N.iterator=$,N.angleFinder=X,N.length=Z($,M,_),M=T[5],_=T[6];break;case"Q":$=R(M,_,T[1],T[2],T[3],T[4]),X=J(M,_,T[1],T[2],T[3],T[4]),N.iterator=$,N.angleFinder=X,N.length=Z($,M,_),M=T[3],_=T[4];break;case"Z":case"z":N.destX=x,N.destY=O,N.length=f(M,_,x,O),M=x,_=O;break}S+=N.length,F.push(N)}return F.push({length:S,x:M,y:_}),F}function re(I,S,Q){Q||(Q=ee(I));for(var T=0;S-Q[T].length>0&&T<Q.length-2;)S-=Q[T].length,T++;var M=Q[T],_=S/M.length,x=M.command,O=I[T],F;switch(x){case"M":return{x:M.x,y:M.y,angle:0};case"Z":case"z":return F=new t.Point(M.x,M.y).lerp(new t.Point(M.destX,M.destY),_),F.angle=Math.atan2(M.destY-M.y,M.destX-M.x),F;case"L":return F=new t.Point(M.x,M.y).lerp(new t.Point(O[1],O[2]),_),F.angle=Math.atan2(O[2]-M.y,O[1]-M.x),F;case"C":return q(M,S);case"Q":return q(M,S)}}function oe(I){var S=[],Q=[],T,M,_=t.rePathCommand,x="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",O="("+x+")"+t.commaWsp,F="([01])"+t.commaWsp+"?",$=O+"?"+O+"?"+O+F+F+O+"?("+x+")",N=new RegExp($,"g"),X,K,ie;if(!I||!I.match)return S;ie=I.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var G=0,P,H=ie.length;G<H;G++){T=ie[G],K=T.slice(1).trim(),Q.length=0;var W=T.charAt(0);if(P=[W],W.toLowerCase()==="a")for(var j;j=N.exec(K);)for(var V=1;V<j.length;V++)Q.push(j[V]);else for(;X=_.exec(K);)Q.push(X[0]);for(var V=0,se=Q.length;V<se;V++)M=parseFloat(Q[V]),isNaN(M)||P.push(M);var ge=i[W.toLowerCase()],he=h[W]||W;if(P.length-1>ge)for(var Y=1,fe=P.length;Y<fe;Y+=ge)S.push([W].concat(P.slice(Y,Y+ge))),W=he;else S.push(P)}return S}function U(I,S){var Q=[],T,M=new t.Point(I[0].x,I[0].y),_=new t.Point(I[1].x,I[1].y),x=I.length,O=1,F=0,$=x>2;for(S=S||0,$&&(O=I[2].x<_.x?-1:I[2].x===_.x?0:1,F=I[2].y<_.y?-1:I[2].y===_.y?0:1),Q.push(["M",M.x-O*S,M.y-F*S]),T=1;T<x;T++){if(!M.eq(_)){var N=M.midPointFrom(_);Q.push(["Q",M.x,M.y,N.x,N.y])}M=I[T],T+1<I.length&&(_=I[T+1])}return $&&(O=M.x>I[T-2].x?1:M.x===I[T-2].x?0:-1,F=M.y>I[T-2].y?1:M.y===I[T-2].y?0:-1),Q.push(["L",M.x+O*S,M.y+F*S]),Q}function L(I,S,Q){return Q&&(S=t.util.multiplyTransformMatrices(S,[1,0,0,1,-Q.x,-Q.y])),I.map(function(T){for(var M=T.slice(0),_={},x=1;x<T.length-1;x+=2)_.x=T[x],_.y=T[x+1],_=t.util.transformPoint(_,S),M[x]=_.x,M[x+1]=_.y;return M})}t.util.joinPath=function(I){return I.map(function(S){return S.join(" ")}).join(" ")},t.util.parsePath=oe,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=U,t.util.getPathSegmentsInfo=ee,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=re,t.util.transformPath=L}(),function(){var c=Array.prototype.slice;function i(s,u){for(var g=c.call(arguments,2),f=[],p=0,v=s.length;p<v;p++)f[p]=g.length?s[p][u].apply(s[p],g):s[p][u].call(s[p]);return f}function h(s,u){return o(s,u,function(g,f){return g>=f})}function A(s,u){return o(s,u,function(g,f){return g<f})}function a(s,u){for(var g=s.length;g--;)s[g]=u;return s}function o(s,u,g){if(!(!s||s.length===0)){var f=s.length-1,p=u?s[f][u]:s[f];if(u)for(;f--;)g(s[f][u],p)&&(p=s[f][u]);else for(;f--;)g(s[f],p)&&(p=s[f]);return p}}t.util.array={fill:a,invoke:i,min:A,max:h}}(),function(){function c(h,A,a){if(a)if(!t.isLikelyNode&&A instanceof Element)h=A;else if(A instanceof Array){h=[];for(var o=0,s=A.length;o<s;o++)h[o]=c({},A[o],a)}else if(A&&typeof A=="object")for(var u in A)u==="canvas"||u==="group"?h[u]=null:A.hasOwnProperty(u)&&(h[u]=c({},A[u],a));else h=A;else for(var u in A)h[u]=A[u];return h}function i(h,A){return c({},h,A)}t.util.object={extend:c,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function c(o){return o.replace(/-+(.)?/g,function(s,u){return u?u.toUpperCase():""})}function i(o,s){return o.charAt(0).toUpperCase()+(s?o.slice(1):o.slice(1).toLowerCase())}function h(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(o){var s=0,u,g=[];for(s=0,u;s<o.length;s++)(u=a(o,s))!==!1&&g.push(u);return g}function a(o,s){var u=o.charCodeAt(s);if(isNaN(u))return"";if(u<55296||u>57343)return o.charAt(s);if(55296<=u&&u<=56319){if(o.length<=s+1)throw"High surrogate without following low surrogate";var g=o.charCodeAt(s+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return o.charAt(s)+o.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var f=o.charCodeAt(s-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:c,capitalize:i,escapeXml:h,graphemeSplit:A}}(),function(){var c=Array.prototype.slice,i=function(){},h=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),A=function(u,g,f){for(var p in g)p in u.prototype&&typeof u.prototype[p]=="function"&&(g[p]+"").indexOf("callSuper")>-1?u.prototype[p]=function(v){return function(){var C=this.constructor.superclass;this.constructor.superclass=f;var y=g[v].apply(this,arguments);if(this.constructor.superclass=C,v!=="initialize")return y}}(p):u.prototype[p]=g[p],h&&(g.toString!==Object.prototype.toString&&(u.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=g.valueOf))};function a(){}function o(u){for(var g=null,f=this;f.constructor.superclass;){var p=f.constructor.superclass.prototype[u];if(f[u]!==p){g=p;break}f=f.constructor.superclass.prototype}if(g)return arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this)}function s(){var u=null,g=c.call(arguments,0);typeof g[0]=="function"&&(u=g.shift());function f(){this.initialize.apply(this,arguments)}f.superclass=u,f.subclasses=[],u&&(a.prototype=u.prototype,f.prototype=new a,u.subclasses.push(f));for(var p=0,v=g.length;p<v;p++)A(f,g[p],u);return f.prototype.initialize||(f.prototype.initialize=i),f.prototype.constructor=f,f.prototype.callSuper=o,f}t.util.createClass=s}(),function(){var c=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(A,a,o,s){A&&A.addEventListener(a,o,c?!1:s)},t.util.removeListener=function(A,a,o,s){A&&A.removeEventListener(a,o,c?!1:s)};function h(A){var a=A.changedTouches;return a&&a[0]?a[0]:A}t.util.getPointer=function(A){var a=A.target,o=t.util.getScrollLeftTop(a),s=h(A);return{x:s.clientX+o.left,y:s.clientY+o.top}},t.util.isTouchEvent=function(A){return i.indexOf(A.type)>-1||A.pointerType==="touch"}}(),function(){function c(s,u){var g=s.style;if(!g)return s;if(typeof u=="string")return s.style.cssText+=";"+u,u.indexOf("opacity")>-1?o(s,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var f in u)if(f==="opacity")o(s,u[f]);else{var p=f==="float"||f==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":f;g.setProperty(p,u[f])}return s}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",A=typeof i.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(s){return s};h?o=function(s,u){return s.style.opacity=u,s}:A&&(o=function(s,u){var g=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(g.zoom=1),a.test(g.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",g.filter=g.filter.replace(a,u)):g.filter+=" alpha(opacity="+u*100+")",s}),t.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(y){return typeof y=="string"?t.document.getElementById(y):y}var h,A=function(y){return c.call(y,0)};try{h=A(t.document.childNodes)instanceof Array}catch{}h||(A=function(y){for(var w=new Array(y.length),E=y.length;E--;)w[E]=y[E];return w});function a(y,w){var E=t.document.createElement(y);for(var B in w)B==="class"?E.className=w[B]:B==="for"?E.htmlFor=w[B]:E.setAttribute(B,w[B]);return E}function o(y,w){y&&(" "+y.className+" ").indexOf(" "+w+" ")===-1&&(y.className+=(y.className?" ":"")+w)}function s(y,w,E){return typeof w=="string"&&(w=a(w,E)),y.parentNode&&y.parentNode.replaceChild(w,y),w.appendChild(y),w}function u(y){for(var w=0,E=0,B=t.document.documentElement,b=t.document.body||{scrollLeft:0,scrollTop:0};y&&(y.parentNode||y.host)&&(y=y.parentNode||y.host,y===t.document?(w=b.scrollLeft||B.scrollLeft||0,E=b.scrollTop||B.scrollTop||0):(w+=y.scrollLeft||0,E+=y.scrollTop||0),!(y.nodeType===1&&y.style.position==="fixed")););return{left:w,top:E}}function g(y){var w,E=y&&y.ownerDocument,B={left:0,top:0},b={left:0,top:0},D,R={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!E)return b;for(var J in R)b[R[J]]+=parseInt(f(y,J),10)||0;return w=E.documentElement,typeof y.getBoundingClientRect<"u"&&(B=y.getBoundingClientRect()),D=u(y),{left:B.left+D.left-(w.clientLeft||0)+b.left,top:B.top+D.top-(w.clientTop||0)+b.top}}var f;t.document.defaultView&&t.document.defaultView.getComputedStyle?f=function(y,w){var E=t.document.defaultView.getComputedStyle(y,null);return E?E[w]:void 0}:f=function(y,w){var E=y.style[w];return!E&&y.currentStyle&&(E=y.currentStyle[w]),E},function(){var y=t.document.documentElement.style,w="userSelect"in y?"userSelect":"MozUserSelect"in y?"MozUserSelect":"WebkitUserSelect"in y?"WebkitUserSelect":"KhtmlUserSelect"in y?"KhtmlUserSelect":"";function E(b){return typeof b.onselectstart<"u"&&(b.onselectstart=t.util.falseFunction),w?b.style[w]="none":typeof b.unselectable=="string"&&(b.unselectable="on"),b}function B(b){return typeof b.onselectstart<"u"&&(b.onselectstart=null),w?b.style[w]="":typeof b.unselectable=="string"&&(b.unselectable=""),b}t.util.makeElementUnselectable=E,t.util.makeElementSelectable=B}();function p(y){var w=t.jsdomImplForWrapper(y);return w._canvas||w._image}function v(y){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(y);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function C(y,w){y.imageSmoothingEnabled=y.imageSmoothingEnabled||y.webkitImageSmoothingEnabled||y.mozImageSmoothingEnabled||y.msImageSmoothingEnabled||y.oImageSmoothingEnabled,y.imageSmoothingEnabled=w}t.util.setImageSmoothing=C,t.util.getById=i,t.util.toArray=A,t.util.addClass=o,t.util.makeElement=a,t.util.wrapElement=s,t.util.getScrollLeftTop=u,t.util.getElementOffset=g,t.util.getNodeCanvas=p,t.util.cleanUpJsdomNode=v}(),function(){function c(A,a){return A+(/\?/.test(A)?"&":"?")+a}function i(){}function h(A,a){a||(a={});var o=a.method?a.method.toUpperCase():"GET",s=a.onComplete||function(){},u=new t.window.XMLHttpRequest,g=a.body||a.parameters;return u.onreadystatechange=function(){u.readyState===4&&(s(u),u.onreadystatechange=i)},o==="GET"&&(g=null,typeof a.parameters=="string"&&(A=c(A,a.parameters))),u.open(o,A,!0),(o==="POST"||o==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(g),u}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var c=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(v){v.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var v=this.filter(function(C){return typeof C.target=="object"&&C.target.canvas===p});return v.forEach(function(C){C.cancel()}),v},cancelByTarget:function(p){var v=this.findAnimationsByTarget(p);return v.forEach(function(C){C.cancel()}),v},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(v){return v.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(v){return v.target===p}):[]}});function A(){return!1}function a(p,v,C,y){return-C*Math.cos(p/y*(Math.PI/2))+C+v}function o(p){p||(p={});var v=!1,C,y=function(){var w=t.runningAnimations.indexOf(C);return w>-1&&t.runningAnimations.splice(w,1)[0]};return C=c(i(p),{cancel:function(){return v=!0,y()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(C),g(function(w){var E=w||+new Date,B=p.duration||500,b=E+B,D,R=p.onChange||A,J=p.abort||A,Z=p.onComplete||A,q=p.easing||a,ee="startValue"in p?p.startValue.length>0:!1,re="startValue"in p?p.startValue:0,oe="endValue"in p?p.endValue:100,U=p.byValue||(ee?re.map(function(L,I){return oe[I]-re[I]}):oe-re);p.onStart&&p.onStart(),function L(I){D=I||+new Date;var S=D>b?B:D-E,Q=S/B,T=ee?re.map(function(_,x){return q(S,re[x],U[x],B)}):q(S,re,U,B),M=Math.abs(ee?(T[0]-re[0])/U[0]:(T-re)/U);if(C.currentValue=ee?T.slice():T,C.completionRate=M,C.durationRate=Q,!v){if(J(T,M,Q)){y();return}if(D>b){C.currentValue=ee?oe.slice():oe,C.completionRate=1,C.durationRate=1,R(ee?oe.slice():oe,1,1),Z(oe,1,1),y();return}else R(T,M,Q),g(L)}}(E)}),C.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(p){return t.window.setTimeout(p,1e3/60)},u=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return s.apply(t.window,arguments)}function f(){return u.apply(t.window,arguments)}t.util.animate=o,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=f,t.runningAnimations=h}(),function(){function c(h,A,a){var o="rgba("+parseInt(h[0]+a*(A[0]-h[0]),10)+","+parseInt(h[1]+a*(A[1]-h[1]),10)+","+parseInt(h[2]+a*(A[2]-h[2]),10);return o+=","+(h&&A?parseFloat(h[3]+a*(A[3]-h[3])):1),o+=")",o}function i(h,A,a,o){var s=new t.Color(h).getSource(),u=new t.Color(A).getSource(),g=o.onComplete,f=o.onChange;return o=o||{},t.util.animate(t.util.object.extend(o,{duration:a||500,startValue:s,endValue:u,byValue:u,easing:function(p,v,C,y){var w=o.colorEasing?o.colorEasing(p,y):1-Math.cos(p/y*(Math.PI/2));return c(v,C,w)},onComplete:function(p,v,C){if(g)return g(c(u,u,0),v,C)},onChange:function(p,v,C){if(f){if(Array.isArray(p))return f(c(p,p,0),v,C);f(p,v,C)}}}))}t.util.animateColor=i}(),function(){function c(I,S,Q,T){return I<Math.abs(S)?(I=S,T=Q/4):S===0&&I===0?T=Q/(2*Math.PI)*Math.asin(1):T=Q/(2*Math.PI)*Math.asin(S/I),{a:I,c:S,p:Q,s:T}}function i(I,S,Q){return I.a*Math.pow(2,10*(S-=1))*Math.sin((S*Q-I.s)*(2*Math.PI)/I.p)}function h(I,S,Q,T){return Q*((I=I/T-1)*I*I+1)+S}function A(I,S,Q,T){return I/=T/2,I<1?Q/2*I*I*I+S:Q/2*((I-=2)*I*I+2)+S}function a(I,S,Q,T){return Q*(I/=T)*I*I*I+S}function o(I,S,Q,T){return-Q*((I=I/T-1)*I*I*I-1)+S}function s(I,S,Q,T){return I/=T/2,I<1?Q/2*I*I*I*I+S:-Q/2*((I-=2)*I*I*I-2)+S}function u(I,S,Q,T){return Q*(I/=T)*I*I*I*I+S}function g(I,S,Q,T){return Q*((I=I/T-1)*I*I*I*I+1)+S}function f(I,S,Q,T){return I/=T/2,I<1?Q/2*I*I*I*I*I+S:Q/2*((I-=2)*I*I*I*I+2)+S}function p(I,S,Q,T){return-Q*Math.cos(I/T*(Math.PI/2))+Q+S}function v(I,S,Q,T){return Q*Math.sin(I/T*(Math.PI/2))+S}function C(I,S,Q,T){return-Q/2*(Math.cos(Math.PI*I/T)-1)+S}function y(I,S,Q,T){return I===0?S:Q*Math.pow(2,10*(I/T-1))+S}function w(I,S,Q,T){return I===T?S+Q:Q*(-Math.pow(2,-10*I/T)+1)+S}function E(I,S,Q,T){return I===0?S:I===T?S+Q:(I/=T/2,I<1?Q/2*Math.pow(2,10*(I-1))+S:Q/2*(-Math.pow(2,-10*--I)+2)+S)}function B(I,S,Q,T){return-Q*(Math.sqrt(1-(I/=T)*I)-1)+S}function b(I,S,Q,T){return Q*Math.sqrt(1-(I=I/T-1)*I)+S}function D(I,S,Q,T){return I/=T/2,I<1?-Q/2*(Math.sqrt(1-I*I)-1)+S:Q/2*(Math.sqrt(1-(I-=2)*I)+1)+S}function R(I,S,Q,T){var M=1.70158,_=0,x=Q;if(I===0)return S;if(I/=T,I===1)return S+Q;_||(_=T*.3);var O=c(x,Q,_,M);return-i(O,I,T)+S}function J(I,S,Q,T){var M=1.70158,_=0,x=Q;if(I===0)return S;if(I/=T,I===1)return S+Q;_||(_=T*.3);var O=c(x,Q,_,M);return O.a*Math.pow(2,-10*I)*Math.sin((I*T-O.s)*(2*Math.PI)/O.p)+O.c+S}function Z(I,S,Q,T){var M=1.70158,_=0,x=Q;if(I===0)return S;if(I/=T/2,I===2)return S+Q;_||(_=T*(.3*1.5));var O=c(x,Q,_,M);return I<1?-.5*i(O,I,T)+S:O.a*Math.pow(2,-10*(I-=1))*Math.sin((I*T-O.s)*(2*Math.PI)/O.p)*.5+O.c+S}function q(I,S,Q,T,M){return M===void 0&&(M=1.70158),Q*(I/=T)*I*((M+1)*I-M)+S}function ee(I,S,Q,T,M){return M===void 0&&(M=1.70158),Q*((I=I/T-1)*I*((M+1)*I+M)+1)+S}function re(I,S,Q,T,M){return M===void 0&&(M=1.70158),I/=T/2,I<1?Q/2*(I*I*(((M*=1.525)+1)*I-M))+S:Q/2*((I-=2)*I*(((M*=1.525)+1)*I+M)+2)+S}function oe(I,S,Q,T){return Q-U(T-I,0,Q,T)+S}function U(I,S,Q,T){return(I/=T)<1/2.75?Q*(7.5625*I*I)+S:I<2/2.75?Q*(7.5625*(I-=1.5/2.75)*I+.75)+S:I<2.5/2.75?Q*(7.5625*(I-=2.25/2.75)*I+.9375)+S:Q*(7.5625*(I-=2.625/2.75)*I+.984375)+S}function L(I,S,Q,T){return I<T/2?oe(I*2,0,Q,T)*.5+S:U(I*2-T,0,Q,T)*.5+Q*.5+S}t.util.ease={easeInQuad:function(I,S,Q,T){return Q*(I/=T)*I+S},easeOutQuad:function(I,S,Q,T){return-Q*(I/=T)*(I-2)+S},easeInOutQuad:function(I,S,Q,T){return I/=T/2,I<1?Q/2*I*I+S:-Q/2*(--I*(I-2)-1)+S},easeInCubic:function(I,S,Q,T){return Q*(I/=T)*I*I+S},easeOutCubic:h,easeInOutCubic:A,easeInQuart:a,easeOutQuart:o,easeInOutQuart:s,easeInQuint:u,easeOutQuint:g,easeInOutQuint:f,easeInSine:p,easeOutSine:v,easeInOutSine:C,easeInExpo:y,easeOutExpo:w,easeInOutExpo:E,easeInCirc:B,easeOutCirc:b,easeInOutCirc:D,easeInElastic:R,easeOutElastic:J,easeInOutElastic:Z,easeInBack:q,easeOutBack:ee,easeInOutBack:re,easeInBounce:oe,easeOutBounce:U,easeInOutBounce:L}}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.util.object.clone,a=i.util.toFixed,o=i.util.parseUnit,s=i.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],f=["pattern","defs","symbol","metadata","clipPath","mask","desc"],p=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},C={stroke:"strokeOpacity",fill:"fillOpacity"},y="font-size",w="clip-path";i.svgValidTagNamesRegEx=b(u),i.svgViewBoxElementsRegEx=b(g),i.svgInvalidAncestorsRegEx=b(f),i.svgValidParentsRegEx=b(p),i.cssRules={},i.gradientDefs={},i.clipPaths={};function E(_){return _ in v?v[_]:_}function B(_,x,O,F){var $=Array.isArray(x),N;if((_==="fill"||_==="stroke")&&x==="none")x="";else{if(_==="strokeUniform")return x==="non-scaling-stroke";if(_==="strokeDashArray")x==="none"?x=null:x=x.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(_==="transformMatrix")O&&O.transformMatrix?x=s(O.transformMatrix,i.parseTransformAttribute(x)):x=i.parseTransformAttribute(x);else if(_==="visible")x=x!=="none"&&x!=="hidden",O&&O.visible===!1&&(x=!1);else if(_==="opacity")x=parseFloat(x),O&&typeof O.opacity<"u"&&(x*=O.opacity);else if(_==="textAnchor")x=x==="start"?"left":x==="end"?"right":"center";else if(_==="charSpacing")N=o(x,F)/F*1e3;else if(_==="paintFirst"){var X=x.indexOf("fill"),K=x.indexOf("stroke"),x="fill";(X>-1&&K>-1&&K<X||X===-1&&K>-1)&&(x="stroke")}else{if(_==="href"||_==="xlink:href"||_==="font")return x;if(_==="imageSmoothing")return x==="optimizeQuality";N=$?x.map(o):o(x,F)}}return!$&&isNaN(N)?x:N}function b(_){return new RegExp("^("+_.join("|")+")\\b","i")}function D(_){for(var x in C)if(!(typeof _[C[x]]>"u"||_[x]==="")){if(typeof _[x]>"u"){if(!i.Object.prototype[x])continue;_[x]=i.Object.prototype[x]}if(_[x].indexOf("url(")!==0){var O=new i.Color(_[x]);_[x]=O.setAlpha(a(O.getAlpha()*_[C[x]],2)).toRgba()}}return _}function R(_,x){var O,F=[],$,N,X;for(N=0,X=x.length;N<X;N++)O=x[N],$=_.getElementsByTagName(O),F=F.concat(Array.prototype.slice.call($));return F}i.parseTransformAttribute=function(){function _(Y,fe){var ve=i.util.cos(fe[0]),we=i.util.sin(fe[0]),Oe=0,Be=0;fe.length===3&&(Oe=fe[1],Be=fe[2]),Y[0]=ve,Y[1]=we,Y[2]=-we,Y[3]=ve,Y[4]=Oe-(ve*Oe-we*Be),Y[5]=Be-(we*Oe+ve*Be)}function x(Y,fe){var ve=fe[0],we=fe.length===2?fe[1]:fe[0];Y[0]=ve,Y[3]=we}function O(Y,fe,ve){Y[ve]=Math.tan(i.util.degreesToRadians(fe[0]))}function F(Y,fe){Y[4]=fe[0],fe.length===2&&(Y[5]=fe[1])}var $=i.iMatrix,N=i.reNum,X=i.commaWsp,K="(?:(skewX)\\s*\\(\\s*("+N+")\\s*\\))",ie="(?:(skewY)\\s*\\(\\s*("+N+")\\s*\\))",G="(?:(rotate)\\s*\\(\\s*("+N+")(?:"+X+"("+N+")"+X+"("+N+"))?\\s*\\))",P="(?:(scale)\\s*\\(\\s*("+N+")(?:"+X+"("+N+"))?\\s*\\))",H="(?:(translate)\\s*\\(\\s*("+N+")(?:"+X+"("+N+"))?\\s*\\))",W="(?:(matrix)\\s*\\(\\s*("+N+")"+X+"("+N+")"+X+"("+N+")"+X+"("+N+")"+X+"("+N+")"+X+"("+N+")\\s*\\))",j="(?:"+W+"|"+H+"|"+P+"|"+G+"|"+K+"|"+ie+")",V="(?:"+j+"(?:"+X+"*"+j+")*)",se="^\\s*(?:"+V+"?)\\s*$",ge=new RegExp(se),he=new RegExp(j,"g");return function(Y){var fe=$.concat(),ve=[];if(!Y||Y&&!ge.test(Y))return fe;Y.replace(he,function(Oe){var Be=new RegExp(j).exec(Oe).filter(function(Xn){return!!Xn}),nt=Be[1],Ue=Be.slice(2).map(parseFloat);switch(nt){case"translate":F(fe,Ue);break;case"rotate":Ue[0]=i.util.degreesToRadians(Ue[0]),_(fe,Ue);break;case"scale":x(fe,Ue);break;case"skewX":O(fe,Ue,2);break;case"skewY":O(fe,Ue,1);break;case"matrix":fe=Ue;break}ve.push(fe.concat()),fe=$.concat()});for(var we=ve[0];ve.length>1;)ve.shift(),we=i.util.multiplyTransformMatrices(we,ve[0]);return we}}();function J(_,x){var O,F;_.replace(/;\s*$/,"").split(";").forEach(function($){var N=$.split(":");O=N[0].trim().toLowerCase(),F=N[1].trim(),x[O]=F})}function Z(_,x){var O,F;for(var $ in _)typeof _[$]>"u"||(O=$.toLowerCase(),F=_[$],x[O]=F)}function q(_,x){var O={};for(var F in i.cssRules[x])if(ee(_,F.split(" ")))for(var $ in i.cssRules[x][F])O[$]=i.cssRules[x][F][$];return O}function ee(_,x){var O,F=!0;return O=oe(_,x.pop()),O&&x.length&&(F=re(_,x)),O&&F&&x.length===0}function re(_,x){for(var O,F=!0;_.parentNode&&_.parentNode.nodeType===1&&x.length;)F&&(O=x.pop()),_=_.parentNode,F=oe(_,O);return x.length===0}function oe(_,x){var O=_.nodeName,F=_.getAttribute("class"),$=_.getAttribute("id"),N,X;if(N=new RegExp("^"+O,"i"),x=x.replace(N,""),$&&x.length&&(N=new RegExp("#"+$+"(?![a-zA-Z\\-]+)","i"),x=x.replace(N,"")),F&&x.length)for(F=F.split(" "),X=F.length;X--;)N=new RegExp("\\."+F[X]+"(?![a-zA-Z\\-]+)","i"),x=x.replace(N,"");return x.length===0}function U(_,x){var O;if(_.getElementById&&(O=_.getElementById(x)),O)return O;var F,$,N,X=_.getElementsByTagName("*");for($=0,N=X.length;$<N;$++)if(F=X[$],x===F.getAttribute("id"))return F}function L(_){for(var x=R(_,["use","svg:use"]),O=0;x.length&&O<x.length;){var F=x[O],$=F.getAttribute("xlink:href")||F.getAttribute("href");if($===null)return;var N=$.slice(1),X=F.getAttribute("x")||0,K=F.getAttribute("y")||0,ie=U(_,N).cloneNode(!0),G=(ie.getAttribute("transform")||"")+" translate("+X+", "+K+")",P,H=x.length,W,j,V,se,ge=i.svgNS;if(S(ie),/^svg$/i.test(ie.nodeName)){var he=ie.ownerDocument.createElementNS(ge,"g");for(j=0,V=ie.attributes,se=V.length;j<se;j++)W=V.item(j),he.setAttributeNS(ge,W.nodeName,W.nodeValue);for(;ie.firstChild;)he.appendChild(ie.firstChild);ie=he}for(j=0,V=F.attributes,se=V.length;j<se;j++)W=V.item(j),!(W.nodeName==="x"||W.nodeName==="y"||W.nodeName==="xlink:href"||W.nodeName==="href")&&(W.nodeName==="transform"?G=W.nodeValue+" "+G:ie.setAttribute(W.nodeName,W.nodeValue));ie.setAttribute("transform",G),ie.setAttribute("instantiated_by_use","1"),ie.removeAttribute("id"),P=F.parentNode,P.replaceChild(ie,F),x.length===H&&O++}}var I=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function S(_){if(!i.svgViewBoxElementsRegEx.test(_.nodeName))return{};var x=_.getAttribute("viewBox"),O=1,F=1,$=0,N=0,X,K,ie,G,P=_.getAttribute("width"),H=_.getAttribute("height"),W=_.getAttribute("x")||0,j=_.getAttribute("y")||0,V=_.getAttribute("preserveAspectRatio")||"",se=!x||!(x=x.match(I)),ge=!P||!H||P==="100%"||H==="100%",he=se&&ge,Y={},fe="",ve=0,we=0;if(Y.width=0,Y.height=0,Y.toBeParsed=he,se&&(W||j)&&_.parentNode&&_.parentNode.nodeName!=="#document"&&(fe=" translate("+o(W)+" "+o(j)+") ",ie=(_.getAttribute("transform")||"")+fe,_.setAttribute("transform",ie),_.removeAttribute("x"),_.removeAttribute("y")),he)return Y;if(se)return Y.width=o(P),Y.height=o(H),Y;if($=-parseFloat(x[1]),N=-parseFloat(x[2]),X=parseFloat(x[3]),K=parseFloat(x[4]),Y.minX=$,Y.minY=N,Y.viewBoxWidth=X,Y.viewBoxHeight=K,ge?(Y.width=X,Y.height=K):(Y.width=o(P),Y.height=o(H),O=Y.width/X,F=Y.height/K),V=i.util.parsePreserveAspectRatioAttribute(V),V.alignX!=="none"&&(V.meetOrSlice==="meet"&&(F=O=O>F?F:O),V.meetOrSlice==="slice"&&(F=O=O>F?O:F),ve=Y.width-X*O,we=Y.height-K*O,V.alignX==="Mid"&&(ve/=2),V.alignY==="Mid"&&(we/=2),V.alignX==="Min"&&(ve=0),V.alignY==="Min"&&(we=0)),O===1&&F===1&&$===0&&N===0&&W===0&&j===0)return Y;if((W||j)&&_.parentNode.nodeName!=="#document"&&(fe=" translate("+o(W)+" "+o(j)+") "),ie=fe+" matrix("+O+" 0 0 "+F+" "+($*O+ve)+" "+(N*F+we)+") ",_.nodeName==="svg"){for(G=_.ownerDocument.createElementNS(i.svgNS,"g");_.firstChild;)G.appendChild(_.firstChild);_.appendChild(G)}else G=_,G.removeAttribute("x"),G.removeAttribute("y"),ie=G.getAttribute("transform")+ie;return G.setAttribute("transform",ie),Y}function Q(_,x){for(;_&&(_=_.parentNode);)if(_.nodeName&&x.test(_.nodeName.replace("svg:",""))&&!_.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(_,x,O,F){if(_){L(_);var $=i.Object.__uid++,N,X,K=S(_),ie=i.util.toArray(_.getElementsByTagName("*"));if(K.crossOrigin=F&&F.crossOrigin,K.svgUid=$,ie.length===0&&i.isLikelyNode){ie=_.selectNodes('//*[name(.)!="svg"]');var G=[];for(N=0,X=ie.length;N<X;N++)G[N]=ie[N];ie=G}var P=ie.filter(function(W){return S(W),i.svgValidTagNamesRegEx.test(W.nodeName.replace("svg:",""))&&!Q(W,i.svgInvalidAncestorsRegEx)});if(!P||P&&!P.length){x&&x([],{});return}var H={};ie.filter(function(W){return W.nodeName.replace("svg:","")==="clipPath"}).forEach(function(W){var j=W.getAttribute("id");H[j]=i.util.toArray(W.getElementsByTagName("*")).filter(function(V){return i.svgValidTagNamesRegEx.test(V.nodeName.replace("svg:",""))})}),i.gradientDefs[$]=i.getGradientDefs(_),i.cssRules[$]=i.getCSSRules(_),i.clipPaths[$]=H,i.parseElements(P,function(W,j){x&&(x(W,K,j,ie),delete i.gradientDefs[$],delete i.cssRules[$],delete i.clipPaths[$])},A(K),O,F)}};function T(_,x){var O=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],F="xlink:href",$=x.getAttribute(F).slice(1),N=U(_,$);if(N&&N.getAttribute(F)&&T(_,N),O.forEach(function(K){N&&!x.hasAttribute(K)&&N.hasAttribute(K)&&x.setAttribute(K,N.getAttribute(K))}),!x.children.length)for(var X=N.cloneNode(!0);X.firstChild;)x.appendChild(X.firstChild);x.removeAttribute(F)}var M=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(_,x){var O=_.match(M);if(O){var F=O[1],$=O[3],N=O[4],X=O[5],K=O[6];F&&(x.fontStyle=F),$&&(x.fontWeight=isNaN(parseFloat($))?$:parseFloat($)),N&&(x.fontSize=o(N)),K&&(x.fontFamily=K),X&&(x.lineHeight=X==="normal"?1:X)}},getGradientDefs:function(_){var x=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],O=R(_,x),F,$=0,N={};for($=O.length;$--;)F=O[$],F.getAttribute("xlink:href")&&T(_,F),N[F.getAttribute("id")]=F;return N},parseAttributes:function(_,x,O){if(_){var F,$={},N,X;typeof O>"u"&&(O=_.getAttribute("svgUid")),_.parentNode&&i.svgValidParentsRegEx.test(_.parentNode.nodeName)&&($=i.parseAttributes(_.parentNode,x,O));var K=x.reduce(function(V,se){return F=_.getAttribute(se),F&&(V[se]=F),V},{}),ie=h(q(_,O),i.parseStyleAttribute(_));K=h(K,ie),ie[w]&&_.setAttribute(w,ie[w]),N=X=$.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,K[y]&&(K[y]=N=o(K[y],X));var G,P,H={};for(var W in K)G=E(W),P=B(G,K[W],$,N),H[G]=P;H&&H.font&&i.parseFontDeclaration(H.font,H);var j=h($,H);return i.svgValidParentsRegEx.test(_.nodeName)?j:D(j)}},parseElements:function(_,x,O,F,$){new i.ElementsParser(_,x,O,F,$).parse()},parseStyleAttribute:function(_){var x={},O=_.getAttribute("style");return O&&(typeof O=="string"?J(O,x):Z(O,x)),x},parsePointsAttribute:function(_){if(!_)return null;_=_.replace(/,/g," ").trim(),_=_.split(/\s+/);var x=[],O,F;for(O=0,F=_.length;O<F;O+=2)x.push({x:parseFloat(_[O]),y:parseFloat(_[O+1])});return x},getCSSRules:function(_){var x=_.getElementsByTagName("style"),O,F,$={},N;for(O=0,F=x.length;O<F;O++){var X=x[O].textContent;X=X.replace(/\/\*[\s\S]*?\*\//g,""),X.trim()!==""&&(N=X.split("}"),N=N.filter(function(K){return K.trim()}),N.forEach(function(K){var ie=K.split("{"),G={},P=ie[1].trim(),H=P.split(";").filter(function(se){return se.trim()});for(O=0,F=H.length;O<F;O++){var W=H[O].split(":"),j=W[0].trim(),V=W[1].trim();G[j]=V}K=ie[0].trim(),K.split(",").forEach(function(se){se=se.replace(/^svg/i,"").trim(),se!==""&&($[se]?i.util.object.extend($[se],G):$[se]=i.util.object.clone(G))})}))}return $},loadSVGFromURL:function(_,x,O,F){_=_.replace(/^\n\s*/,"").trim(),new i.util.request(_,{method:"get",onComplete:$});function $(N){var X=N.responseXML;if(!X||!X.documentElement)return x&&x(null),!1;i.parseSVGDocument(X.documentElement,function(K,ie,G,P){x&&x(K,ie,G,P)},O,F)}},loadSVGFromString:function(_,x,O,F){var $=new i.window.DOMParser,N=$.parseFromString(_.trim(),"text/xml");i.parseSVGDocument(N.documentElement,function(X,K,ie,G){x(X,K,ie,G)},O,F)}})}(e),t.ElementsParser=function(c,i,h,A,a,o){this.elements=c,this.callback=i,this.options=h,this.reviver=A,this.svgUid=h&&h.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(h,A){h.setAttribute("svgUid",i.svgUid),i.createObject(h,A)})},c.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,h){var A=this.findTag(i);if(A&&A.fromElement)try{A.fromElement(i,this.createCallback(h,i),this.options)}catch(a){t.log(a)}else this.checkIfDone()},c.createCallback=function(i,h){var A=this;return function(a){var o;A.resolveGradient(a,h,"fill"),A.resolveGradient(a,h,"stroke"),a instanceof t.Image&&a._originalElement&&(o=a.parsePreserveAspectRatioAttribute(h)),a._removeTransformMatrix(o),A.resolveClipPath(a,h),A.reviver&&A.reviver(h,a),A.instances[i]=a,A.checkIfDone()}},c.extractPropertyDefinition=function(i,h,A){var a=i[h],o=this.regexUrl;if(o.test(a)){o.lastIndex=0;var s=o.exec(a)[1];return o.lastIndex=0,t[A][this.svgUid][s]}},c.resolveGradient=function(i,h,A){var a=this.extractPropertyDefinition(i,A,"gradientDefs");if(a){var o=h.getAttribute(A+"-opacity"),s=t.Gradient.fromElement(a,i,o,this.options);i.set(A,s)}},c.createClipPathCallback=function(i,h){return function(A){A._removeTransformMatrix(),A.fillRule=A.clipRule,h.push(A)}},c.resolveClipPath=function(i,h){var A=this.extractPropertyDefinition(i,"clipPath","clipPaths"),a,o,s,u,g,f;if(A){u=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var p=A[0].parentNode,v=h;v.parentNode&&v.getAttribute("clip-path")!==i.clipPath;)v=v.parentNode;v.parentNode.appendChild(p);for(var C=0;C<A.length;C++)a=A[C],o=this.findTag(a),o.fromElement(a,this.createClipPathCallback(i,u),this.options);u.length===1?A=u[0]:A=new t.Group(u),g=t.util.multiplyTransformMatrices(s,A.calcTransformMatrix()),A.clipPath&&this.resolveClipPath(A,v);var f=t.util.qrDecompose(g);A.flipX=!1,A.flipY=!1,A.set("scaleX",f.scaleX),A.set("scaleY",f.scaleY),A.angle=f.angle,A.skewX=f.skewX,A.skewY=0,A.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),i.clipPath=A}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(A,a){this.x=A,this.y=a}h.prototype={type:"point",constructor:h,add:function(A){return new h(this.x+A.x,this.y+A.y)},addEquals:function(A){return this.x+=A.x,this.y+=A.y,this},scalarAdd:function(A){return new h(this.x+A,this.y+A)},scalarAddEquals:function(A){return this.x+=A,this.y+=A,this},subtract:function(A){return new h(this.x-A.x,this.y-A.y)},subtractEquals:function(A){return this.x-=A.x,this.y-=A.y,this},scalarSubtract:function(A){return new h(this.x-A,this.y-A)},scalarSubtractEquals:function(A){return this.x-=A,this.y-=A,this},multiply:function(A){return new h(this.x*A,this.y*A)},multiplyEquals:function(A){return this.x*=A,this.y*=A,this},divide:function(A){return new h(this.x/A,this.y/A)},divideEquals:function(A){return this.x/=A,this.y/=A,this},eq:function(A){return this.x===A.x&&this.y===A.y},lt:function(A){return this.x<A.x&&this.y<A.y},lte:function(A){return this.x<=A.x&&this.y<=A.y},gt:function(A){return this.x>A.x&&this.y>A.y},gte:function(A){return this.x>=A.x&&this.y>=A.y},lerp:function(A,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new h(this.x+(A.x-this.x)*a,this.y+(A.y-this.y)*a)},distanceFrom:function(A){var a=this.x-A.x,o=this.y-A.y;return Math.sqrt(a*a+o*o)},midPointFrom:function(A){return this.lerp(A)},min:function(A){return new h(Math.min(this.x,A.x),Math.min(this.y,A.y))},max:function(A){return new h(Math.max(this.x,A.x),Math.max(this.y,A.y))},toString:function(){return this.x+","+this.y},setXY:function(A,a){return this.x=A,this.y=a,this},setX:function(A){return this.x=A,this},setY:function(A){return this.y=A,this},setFromPoint:function(A){return this.x=A.x,this.y=A.y,this},swap:function(A){var a=this.x,o=this.y;this.x=A.x,this.y=A.y,A.x=a,A.y=o},clone:function(){return new h(this.x,this.y)}}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(A){this.status=A,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(A){return this.points.push(A),this},appendPoints:function(A){return this.points=this.points.concat(A),this}},i.Intersection.intersectLineLine=function(A,a,o,s){var u,g=(s.x-o.x)*(A.y-o.y)-(s.y-o.y)*(A.x-o.x),f=(a.x-A.x)*(A.y-o.y)-(a.y-A.y)*(A.x-o.x),p=(s.y-o.y)*(a.x-A.x)-(s.x-o.x)*(a.y-A.y);if(p!==0){var v=g/p,C=f/p;0<=v&&v<=1&&0<=C&&C<=1?(u=new h("Intersection"),u.appendPoint(new i.Point(A.x+v*(a.x-A.x),A.y+v*(a.y-A.y)))):u=new h}else g===0||f===0?u=new h("Coincident"):u=new h("Parallel");return u},i.Intersection.intersectLinePolygon=function(A,a,o){var s=new h,u=o.length,g,f,p,v;for(v=0;v<u;v++)g=o[v],f=o[(v+1)%u],p=h.intersectLineLine(A,a,g,f),s.appendPoints(p.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(A,a){var o=new h,s=A.length,u;for(u=0;u<s;u++){var g=A[u],f=A[(u+1)%s],p=h.intersectLinePolygon(g,f,a);o.appendPoints(p.points)}return o.points.length>0&&(o.status="Intersection"),o},i.Intersection.intersectPolygonRectangle=function(A,a,o){var s=a.min(o),u=a.max(o),g=new i.Point(u.x,s.y),f=new i.Point(s.x,u.y),p=h.intersectLinePolygon(s,g,A),v=h.intersectLinePolygon(g,u,A),C=h.intersectLinePolygon(u,f,A),y=h.intersectLinePolygon(f,s,A),w=new h;return w.appendPoints(p.points),w.appendPoints(v.points),w.appendPoints(C.points),w.appendPoints(y.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(a){var o;a in h.colorNameMap&&(a=h.colorNameMap[a]),a==="transparent"&&(o=[255,255,255,0]),o||(o=h.sourceFromHex(a)),o||(o=h.sourceFromRgb(a)),o||(o=h.sourceFromHsl(a)),o||(o=[0,0,0,1]),o&&this.setSource(o)},_rgbToHsl:function(a,o,s){a/=255,o/=255,s/=255;var u,g,f,p=i.util.array.max([a,o,s]),v=i.util.array.min([a,o,s]);if(f=(p+v)/2,p===v)u=g=0;else{var C=p-v;switch(g=f>.5?C/(2-p-v):C/(p+v),p){case a:u=(o-s)/C+(o<s?6:0);break;case o:u=(s-a)/C+2;break;case s:u=(a-o)/C+4;break}u/=6}return[Math.round(u*360),Math.round(g*100),Math.round(f*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),o=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+o[0]+","+o[1]+"%,"+o[2]+"%)"},toHsla:function(){var a=this.getSource(),o=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+o[0]+","+o[1]+"%,"+o[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),o,s,u;return o=a[0].toString(16),o=o.length===1?"0"+o:o,s=a[1].toString(16),s=s.length===1?"0"+s:s,u=a[2].toString(16),u=u.length===1?"0"+u:u,o.toUpperCase()+s.toUpperCase()+u.toUpperCase()},toHexa:function(){var a=this.getSource(),o;return o=Math.round(a[3]*255),o=o.toString(16),o=o.length===1?"0"+o:o,this.toHex()+o.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var o=this.getSource();return o[3]=a,this.setSource(o),this},toGrayscale:function(){var a=this.getSource(),o=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),s=a[3];return this.setSource([o,o,o,s]),this},toBlackWhite:function(a){var o=this.getSource(),s=(o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),u=o[3];return a=a||127,s=Number(s)<Number(a)?0:255,this.setSource([s,s,s,u]),this},overlayWith:function(a){a instanceof h||(a=new h(a));var o=[],s=this.getAlpha(),u=.5,g=this.getSource(),f=a.getSource(),p;for(p=0;p<3;p++)o.push(Math.round(g[p]*(1-u)+f[p]*u));return o[3]=s,this.setSource(o),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function A(a,o,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(o-a)*6*s:s<1/2?o:s<2/3?a+(o-a)*(2/3-s)*6:a}i.Color.fromRgb=function(a){return h.fromSource(h.sourceFromRgb(a))},i.Color.sourceFromRgb=function(a){var o=a.match(h.reRGBa);if(o){var s=parseInt(o[1],10)/(/%$/.test(o[1])?100:1)*(/%$/.test(o[1])?255:1),u=parseInt(o[2],10)/(/%$/.test(o[2])?100:1)*(/%$/.test(o[2])?255:1),g=parseInt(o[3],10)/(/%$/.test(o[3])?100:1)*(/%$/.test(o[3])?255:1);return[parseInt(s,10),parseInt(u,10),parseInt(g,10),o[4]?parseFloat(o[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(a){return h.fromSource(h.sourceFromHsl(a))},i.Color.sourceFromHsl=function(a){var o=a.match(h.reHSLa);if(o){var s=(parseFloat(o[1])%360+360)%360/360,u=parseFloat(o[2])/(/%$/.test(o[2])?100:1),g=parseFloat(o[3])/(/%$/.test(o[3])?100:1),f,p,v;if(u===0)f=p=v=g;else{var C=g<=.5?g*(u+1):g+u-g*u,y=g*2-C;f=A(y,C,s+1/3),p=A(y,C,s),v=A(y,C,s-1/3)}return[Math.round(f*255),Math.round(p*255),Math.round(v*255),o[4]?parseFloat(o[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(a){return h.fromSource(h.sourceFromHex(a))},i.Color.sourceFromHex=function(a){if(a.match(h.reHex)){var o=a.slice(a.indexOf("#")+1),s=o.length===3||o.length===4,u=o.length===8||o.length===4,g=s?o.charAt(0)+o.charAt(0):o.substring(0,2),f=s?o.charAt(1)+o.charAt(1):o.substring(2,4),p=s?o.charAt(2)+o.charAt(2):o.substring(4,6),v=u?s?o.charAt(3)+o.charAt(3):o.substring(6,8):"FF";return[parseInt(g,16),parseInt(f,16),parseInt(p,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},i.Color.fromSource=function(a){var o=new h;return o.setSource(a),o}}(e),function(c){var i=c.fabric||(c.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],A=["ns","nesw","ew","nwse"],a={},o="left",s="top",u="right",g="bottom",f="center",p={top:g,bottom:s,left:u,right:o,center:f},v=i.util.radiansToDegrees,C=Math.sign||function(G){return(G>0)-(G<0)||+G};function y(G,P){var H=G.angle+v(Math.atan2(P.y,P.x))+360;return Math.round(H%360/45)}function w(G,P){var H=P.transform.target,W=H.canvas,j=i.util.object.clone(P);j.target=H,W&&W.fire("object:"+G,j),H.fire(G,P)}function E(G,P){var H=P.canvas,W=H.uniScaleKey,j=G[W];return H.uniformScaling&&!j||!H.uniformScaling&&j}function B(G){return G.originX===f&&G.originY===f}function b(G,P,H){var W=G.lockScalingX,j=G.lockScalingY;return!!(W&&j||!P&&(W||j)&&H||W&&P==="x"||j&&P==="y")}function D(G,P,H){var W="not-allowed",j=E(G,H),V="";if(P.x!==0&&P.y===0?V="x":P.x===0&&P.y!==0&&(V="y"),b(H,V,j))return W;var se=y(H,P);return h[se]+"-resize"}function R(G,P,H){var W="not-allowed";if(P.x!==0&&H.lockSkewingY||P.y!==0&&H.lockSkewingX)return W;var j=y(H,P)%4;return A[j]+"-resize"}function J(G,P,H){return G[H.canvas.altActionKey]?a.skewCursorStyleHandler(G,P,H):a.scaleCursorStyleHandler(G,P,H)}function Z(G,P,H){var W=G[H.canvas.altActionKey];if(P.x===0)return W?"skewX":"scaleY";if(P.y===0)return W?"skewY":"scaleX"}function q(G,P,H){return H.lockRotation?"not-allowed":P.cursorStyle}function ee(G,P,H,W){return{e:G,transform:P,pointer:{x:H,y:W}}}function re(G){return function(P,H,W,j){var V=H.target,se=V.getCenterPoint(),ge=V.translateToOriginPoint(se,H.originX,H.originY),he=G(P,H,W,j);return V.setPositionByOrigin(ge,H.originX,H.originY),he}}function oe(G,P){return function(H,W,j,V){var se=P(H,W,j,V);return se&&w(G,ee(H,W,j,V)),se}}function U(G,P,H,W,j){var V=G.target,se=V.controls[G.corner],ge=V.canvas.getZoom(),he=V.padding/ge,Y=V.toLocalPoint(new i.Point(W,j),P,H);return Y.x>=he&&(Y.x-=he),Y.x<=-he&&(Y.x+=he),Y.y>=he&&(Y.y-=he),Y.y<=he&&(Y.y+=he),Y.x-=se.offsetX,Y.y-=se.offsetY,Y}function L(G){return G.flipX!==G.flipY}function I(G,P,H,W,j){if(G[P]!==0){var V=G._getTransformedDimensions()[W],se=j/V*G[H];G.set(H,se)}}function S(G,P,H,W){var j=P.target,V=j._getTransformedDimensions(0,j.skewY),se=U(P,P.originX,P.originY,H,W),ge=Math.abs(se.x*2)-V.x,he=j.skewX,Y;ge<2?Y=0:(Y=v(Math.atan2(ge/j.scaleX,V.y/j.scaleY)),P.originX===o&&P.originY===g&&(Y=-Y),P.originX===u&&P.originY===s&&(Y=-Y),L(j)&&(Y=-Y));var fe=he!==Y;if(fe){var ve=j._getTransformedDimensions().y;j.set("skewX",Y),I(j,"skewY","scaleY","y",ve)}return fe}function Q(G,P,H,W){var j=P.target,V=j._getTransformedDimensions(j.skewX,0),se=U(P,P.originX,P.originY,H,W),ge=Math.abs(se.y*2)-V.y,he=j.skewY,Y;ge<2?Y=0:(Y=v(Math.atan2(ge/j.scaleY,V.x/j.scaleX)),P.originX===o&&P.originY===g&&(Y=-Y),P.originX===u&&P.originY===s&&(Y=-Y),L(j)&&(Y=-Y));var fe=he!==Y;if(fe){var ve=j._getTransformedDimensions().x;j.set("skewY",Y),I(j,"skewX","scaleX","x",ve)}return fe}function T(G,P,H,W){var j=P.target,V=j.skewX,se,ge=P.originY;if(j.lockSkewingX)return!1;if(V===0){var he=U(P,f,f,H,W);he.x>0?se=o:se=u}else V>0&&(se=ge===s?o:u),V<0&&(se=ge===s?u:o),L(j)&&(se=se===o?u:o);P.originX=se;var Y=oe("skewing",re(S));return Y(G,P,H,W)}function M(G,P,H,W){var j=P.target,V=j.skewY,se,ge=P.originX;if(j.lockSkewingY)return!1;if(V===0){var he=U(P,f,f,H,W);he.y>0?se=s:se=g}else V>0&&(se=ge===o?s:g),V<0&&(se=ge===o?g:s),L(j)&&(se=se===s?g:s);P.originY=se;var Y=oe("skewing",re(Q));return Y(G,P,H,W)}function _(G,P,H,W){var j=P,V=j.target,se=V.translateToOriginPoint(V.getCenterPoint(),j.originX,j.originY);if(V.lockRotation)return!1;var ge=Math.atan2(j.ey-se.y,j.ex-se.x),he=Math.atan2(W-se.y,H-se.x),Y=v(he-ge+j.theta),fe=!0;if(V.snapAngle>0){var ve=V.snapAngle,we=V.snapThreshold||ve,Oe=Math.ceil(Y/ve)*ve,Be=Math.floor(Y/ve)*ve;Math.abs(Y-Be)<we?Y=Be:Math.abs(Y-Oe)<we&&(Y=Oe)}return Y<0&&(Y=360+Y),Y%=360,fe=V.angle!==Y,V.angle=Y,fe}function x(G,P,H,W,j){j=j||{};var V=P.target,se=V.lockScalingX,ge=V.lockScalingY,he=j.by,Y,fe,ve,we,Oe=E(G,V),Be=b(V,he,Oe),nt,Ue,Xn=P.gestureScale;if(Be)return!1;if(Xn)fe=P.scaleX*Xn,ve=P.scaleY*Xn;else{if(Y=U(P,P.originX,P.originY,H,W),nt=he!=="y"?C(Y.x):1,Ue=he!=="x"?C(Y.y):1,P.signX||(P.signX=nt),P.signY||(P.signY=Ue),V.lockScalingFlip&&(P.signX!==nt||P.signY!==Ue))return!1;if(we=V._getTransformedDimensions(),Oe&&!he){var Ti=Math.abs(Y.x)+Math.abs(Y.y),Vt=P.original,um=Math.abs(we.x*Vt.scaleX/V.scaleX)+Math.abs(we.y*Vt.scaleY/V.scaleY),tf=Ti/um;fe=Vt.scaleX*tf,ve=Vt.scaleY*tf}else fe=Math.abs(Y.x*V.scaleX/we.x),ve=Math.abs(Y.y*V.scaleY/we.y);B(P)&&(fe*=2,ve*=2),P.signX!==nt&&he!=="y"&&(P.originX=p[P.originX],fe*=-1,P.signX=nt),P.signY!==Ue&&he!=="x"&&(P.originY=p[P.originY],ve*=-1,P.signY=Ue)}var hm=V.scaleX,fm=V.scaleY;return he?(he==="x"&&V.set("scaleX",fe),he==="y"&&V.set("scaleY",ve)):(!se&&V.set("scaleX",fe),!ge&&V.set("scaleY",ve)),hm!==V.scaleX||fm!==V.scaleY}function O(G,P,H,W){return x(G,P,H,W)}function F(G,P,H,W){return x(G,P,H,W,{by:"x"})}function $(G,P,H,W){return x(G,P,H,W,{by:"y"})}function N(G,P,H,W){return G[P.target.canvas.altActionKey]?a.skewHandlerX(G,P,H,W):a.scalingY(G,P,H,W)}function X(G,P,H,W){return G[P.target.canvas.altActionKey]?a.skewHandlerY(G,P,H,W):a.scalingX(G,P,H,W)}function K(G,P,H,W){var j=P.target,V=U(P,P.originX,P.originY,H,W),se=j.strokeWidth/(j.strokeUniform?j.scaleX:1),ge=B(P)?2:1,he=j.width,Y=Math.abs(V.x*ge/j.scaleX)-se;return j.set("width",Math.max(Y,0)),he!==Y}function ie(G,P,H,W){var j=P.target,V=H-P.offsetX,se=W-P.offsetY,ge=!j.get("lockMovementX")&&j.left!==V,he=!j.get("lockMovementY")&&j.top!==se;return ge&&j.set("left",V),he&&j.set("top",se),(ge||he)&&w("moving",ee(G,P,H,W)),ge||he}a.scaleCursorStyleHandler=D,a.skewCursorStyleHandler=R,a.scaleSkewCursorStyleHandler=J,a.rotationWithSnapping=oe("rotating",re(_)),a.scalingEqually=oe("scaling",re(O)),a.scalingX=oe("scaling",re(F)),a.scalingY=oe("scaling",re($)),a.scalingYOrSkewingX=N,a.scalingXOrSkewingY=X,a.changeWidth=oe("resizing",re(K)),a.skewHandlerX=T,a.skewHandlerY=M,a.dragHandler=ie,a.scaleOrSkewActionName=Z,a.rotationStyleHandler=q,a.fireEvent=w,a.wrapWithFixedAnchor=re,a.wrapWithFireEvent=oe,a.getLocalPoint=U,i.controlsUtils=a}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians,A=i.controlsUtils;function a(s,u,g,f,p){f=f||{};var v=this.sizeX||f.cornerSize||p.cornerSize,C=this.sizeY||f.cornerSize||p.cornerSize,y=typeof f.transparentCorners<"u"?f.transparentCorners:p.transparentCorners,w=y?"stroke":"fill",E=!y&&(f.cornerStrokeColor||p.cornerStrokeColor),B=u,b=g,D;s.save(),s.fillStyle=f.cornerColor||p.cornerColor,s.strokeStyle=f.cornerStrokeColor||p.cornerStrokeColor,v>C?(D=v,s.scale(1,C/v),b=g*v/C):C>v?(D=C,s.scale(v/C,1),B=u*C/v):D=v,s.lineWidth=1,s.beginPath(),s.arc(B,b,D/2,0,2*Math.PI,!1),s[w](),E&&s.stroke(),s.restore()}function o(s,u,g,f,p){f=f||{};var v=this.sizeX||f.cornerSize||p.cornerSize,C=this.sizeY||f.cornerSize||p.cornerSize,y=typeof f.transparentCorners<"u"?f.transparentCorners:p.transparentCorners,w=y?"stroke":"fill",E=!y&&(f.cornerStrokeColor||p.cornerStrokeColor),B=v/2,b=C/2;s.save(),s.fillStyle=f.cornerColor||p.cornerColor,s.strokeStyle=f.cornerStrokeColor||p.cornerStrokeColor,s.lineWidth=1,s.translate(u,g),s.rotate(h(p.angle)),s[w+"Rect"](-B,-b,v,C),E&&s.strokeRect(-B,-b,v,C),s.restore()}A.renderCircleControl=a,A.renderSquareControl=o}(e),function(c){var i=c.fabric||(c.fabric={});function h(A){for(var a in A)this[a]=A[a]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(A,a){return a.cursorStyle},getActionName:function(A,a){return a.actionName},getVisibility:function(A,a){var o=A._controlsVisibility;return o&&typeof o[a]<"u"?o[a]:this.visible},setVisibility:function(A){this.visible=A},positionHandler:function(A,a){var o=i.util.transformPoint({x:this.x*A.x+this.offsetX,y:this.y*A.y+this.offsetY},a);return o},calcCornerCoords:function(A,a,o,s,u){var g,f,p,v,C=u?this.touchSizeX:this.sizeX,y=u?this.touchSizeY:this.sizeY;if(C&&y&&C!==y){var w=Math.atan2(y,C),E=Math.sqrt(C*C+y*y)/2,B=w-i.util.degreesToRadians(A),b=Math.PI/2-w-i.util.degreesToRadians(A);g=E*i.util.cos(B),f=E*i.util.sin(B),p=E*i.util.cos(b),v=E*i.util.sin(b)}else{var D=C&&y?C:a;E=D*.7071067812;var B=i.util.degreesToRadians(45-A);g=p=E*i.util.cos(B),f=v=E*i.util.sin(B)}return{tl:{x:o-v,y:s-p},tr:{x:o+g,y:s-f},bl:{x:o-g,y:s+f},br:{x:o+v,y:s+p}}},render:function(A,a,o,s,u){switch(s=s||{},s.cornerStyle||u.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,A,a,o,s,u);break;default:i.controlsUtils.renderSquareControl.call(this,A,a,o,s,u)}}}}(e),function(){function c(o,s){var u=o.getAttribute("style"),g=o.getAttribute("offset")||0,f,p,v,C;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,u){var y=u.split(/\s*;\s*/);for(y[y.length-1]===""&&y.pop(),C=y.length;C--;){var w=y[C].split(/\s*:\s*/),E=w[0].trim(),B=w[1].trim();E==="stop-color"?f=B:E==="stop-opacity"&&(v=B)}}return f||(f=o.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=o.getAttribute("stop-opacity")),f=new t.Color(f),p=f.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=p*s,{offset:g,color:f.toRgb(),opacity:v}}function i(o){return{x1:o.getAttribute("x1")||0,y1:o.getAttribute("y1")||0,x2:o.getAttribute("x2")||"100%",y2:o.getAttribute("y2")||0}}function h(o){return{x1:o.getAttribute("fx")||o.getAttribute("cx")||"50%",y1:o.getAttribute("fy")||o.getAttribute("cy")||"50%",r1:0,x2:o.getAttribute("cx")||"50%",y2:o.getAttribute("cy")||"50%",r2:o.getAttribute("r")||"50%"}}var A=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(o){o||(o={}),o.coords||(o.coords={});var s,u=this;Object.keys(o).forEach(function(g){u[g]=o[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:o.coords.x1||0,y1:o.coords.y1||0,x2:o.coords.x2||0,y2:o.coords.y2||0},this.type==="radial"&&(s.r1=o.coords.r1||0,s.r2=o.coords.r2||0),this.coords=s,this.colorStops=o.colorStops.slice()},addColorStop:function(o){for(var s in o){var u=new t.Color(o[s]);this.colorStops.push({offset:parseFloat(s),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(o){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,o),s},toSVG:function(o,p){var u=A(this.coords,!0),g,f,p=p||{},v,C,y=A(this.colorStops,!0),w=u.r1>u.r2,E=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),B=-this.offsetX,b=-this.offsetY,D=!!p.additionalTransform,R=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(y.sort(function(re,oe){return re.offset-oe.offset}),R==="objectBoundingBox"?(B/=o.width,b/=o.height):(B+=o.width/2,b+=o.height/2),o.type==="path"&&this.gradientUnits!=="percentage"&&(B-=o.pathOffset.x,b-=o.pathOffset.y),E[4]-=B,E[5]-=b,C='id="SVGID_'+this.id+'" gradientUnits="'+R+'"',C+=' gradientTransform="'+(D?p.additionalTransform+" ":"")+t.util.matrixToSVG(E)+'" ',this.type==="linear"?v=["<linearGradient ",C,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",C,' cx="',w?u.x1:u.x2,'" cy="',w?u.y1:u.y2,'" r="',w?u.r1:u.r2,'" fx="',w?u.x2:u.x1,'" fy="',w?u.y2:u.y1,`">
`]),this.type==="radial"){if(w)for(y=y.concat(),y.reverse(),g=0,f=y.length;g<f;g++)y[g].offset=1-y[g].offset;var J=Math.min(u.r1,u.r2);if(J>0){var Z=Math.max(u.r1,u.r2),q=J/Z;for(g=0,f=y.length;g<f;g++)y[g].offset+=q*(1-y[g].offset)}}for(g=0,f=y.length;g<f;g++){var ee=y[g];v.push("<stop ",'offset="',ee.offset*100+"%",'" style="stop-color:',ee.color,typeof ee.opacity<"u"?";stop-opacity: "+ee.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(o){var s,u=t.util.object.clone(this.coords),g,f;if(this.type){for(this.type==="linear"?s=o.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(s=o.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),g=0,f=this.colorStops.length;g<f;g++){var p=this.colorStops[g].color,v=this.colorStops[g].opacity,C=this.colorStops[g].offset;typeof v<"u"&&(p=new t.Color(p).setAlpha(v).toRgba()),s.addColorStop(C,p)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(o,s,u,g){var f=parseFloat(u)/(/%$/.test(u)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var p=o.getElementsByTagName("stop"),v,C=o.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",y=o.getAttribute("gradientTransform")||"",w=[],E,B,b=0,D=0,R;for(o.nodeName==="linearGradient"||o.nodeName==="LINEARGRADIENT"?(v="linear",E=i(o)):(v="radial",E=h(o)),B=p.length;B--;)w.push(c(p[B],f));R=t.parseTransformAttribute(y),a(s,E,g,C),C==="pixels"&&(b=-s.left,D=-s.top);var J=new t.Gradient({id:o.getAttribute("id"),type:v,coords:E,colorStops:w,gradientUnits:C,gradientTransform:R,offsetX:b,offsetY:D});return J}});function a(o,s,u,g){var f,p;Object.keys(s).forEach(function(v){f=s[v],f==="Infinity"?p=1:f==="-Infinity"?p=0:(p=parseFloat(s[v],10),typeof f=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(p*=.01,g==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(p*=u.viewBoxWidth||u.width),(v==="y1"||v==="y2")&&(p*=u.viewBoxHeight||u.height)))),s[v]=p})}}(),function(){var c=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var A=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(a,o){A.source=a,h&&h(A,o)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,A,a;return typeof this.source.src=="string"?A=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(A=this.source.toDataURL()),a={type:"pattern",source:A,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,h),offsetY:c(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,a,i),a},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,A=h.width/i.width,a=h.height/i.height,o=this.offsetX/i.width,s=this.offsetY/i.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,s&&(a+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(A=1,o&&(A+=Math.abs(o))),h.src?u=h.src:h.toDataURL&&(u=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+s+'" width="'+A+'" height="'+a+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(A){typeof A=="string"&&(A=this._parseShadow(A));for(var a in A)this[a]=A[a];this.id=i.Object.__uid++},_parseShadow:function(A){var a=A.trim(),o=i.Shadow.reOffsetsAndBlur.exec(a)||[],s=a.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(o[1],10)||0,offsetY:parseFloat(o[2],10)||0,blur:parseFloat(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(A){var a=40,o=40,s=i.Object.NUM_FRACTION_DIGITS,u=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-A.angle)),g=20,f=new i.Color(this.color);return A.width&&A.height&&(a=h((Math.abs(u.x)+this.blur)/A.width,s)*100+g,o=h((Math.abs(u.y)+this.blur)/A.height,s)*100+g),A.flipX&&(u.x*=-1),A.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+h(u.x,s)+'" dy="'+h(u.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+f.toRgb()+'" flood-opacity="'+f.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var A={},a=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(o){this[o]!==a[o]&&(A[o]=this[o])},this),A}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var c=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,A=t.util.toFixed,a=t.util.transformPoint,o=t.util.invertTransform,s=t.util.getNodeCanvas,u=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(f,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,p){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,v),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,v),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,v),p.overlayColor&&this.setOverlayColor(p.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=t.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,p,v){p.setAttribute("width",this.width*f),p.setAttribute("height",this.height*f),v.scale(f,f)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(f,p,v){return this.__setBgOverlayImage("overlayImage",f,p,v)},setBackgroundImage:function(f,p,v){return this.__setBgOverlayImage("backgroundImage",f,p,v)},setOverlayColor:function(f,p){return this.__setBgOverlayColor("overlayColor",f,p)},setBackgroundColor:function(f,p){return this.__setBgOverlayColor("backgroundColor",f,p)},__setBgOverlayImage:function(f,p,v,C){return typeof p=="string"?t.util.loadImage(p,function(y,w){if(y){var E=new t.Image(y,C);this[f]=E,E.canvas=this}v&&v(y,w)},this,C&&C.crossOrigin):(C&&p.setOptions(C),this[f]=p,p&&(p.canvas=this),v&&v(p,!1)),this},__setBgOverlayColor:function(f,p,v){return this[f]=p,this._initGradient(p,f),this._initPattern(p,f,v),this},_createCanvasElement:function(){var f=u();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw g;return f},_initOptions:function(f){var p=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){f&&f.getContext?this.lowerCanvasEl=f:this.lowerCanvasEl=t.util.getById(f)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,p){return this.setDimensions({width:f},p)},setHeight:function(f,p){return this.setDimensions({height:f},p)},setDimensions:function(f,p){var v;p=p||{};for(var C in f)v=f[C],p.cssOnly||(this._setBackstoreDimension(C,f[C]),v+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(C,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,p){return this.lowerCanvasEl[f]=p,this.upperCanvasEl&&(this.upperCanvasEl[f]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=p),this[f]=p,this},_setCssDimension:function(f,p){return this.lowerCanvasEl.style[f]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=p),this.wrapperEl&&(this.wrapperEl.style[f]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var p=this._activeObject,v=this.backgroundImage,C=this.overlayImage,y,w,E;for(this.viewportTransform=f,w=0,E=this._objects.length;w<E;w++)y=this._objects[w],y.group||y.setCoords(!0);return p&&p.setCoords(),v&&v.setCoords(!0),C&&C.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,p){var v=f,C=this.viewportTransform.slice(0);f=a(f,o(this.viewportTransform)),C[0]=p,C[3]=p;var y=a(f,C);return C[4]+=v.x-y.x,C[5]+=v.y-y.y,this.setViewportTransform(C)},setZoom:function(f){return this.zoomToPoint(new t.Point(0,0),f),this},absolutePan:function(f){var p=this.viewportTransform.slice(0);return p[4]=-f.x,p[5]=-f.y,this.setViewportTransform(p)},relativePan:function(f){return this.absolutePan(new t.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var f=this.contextContainer;return this.renderCanvas(f,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},p=this.width,v=this.height,C=o(this.viewportTransform);return f.tl=a({x:0,y:0},C),f.br=a({x:p,y:v},C),f.tr=new t.Point(f.br.x,f.tl.y),f.bl=new t.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,p){var v=this.viewportTransform,C=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),t.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(f,p),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),C&&(C.canvas=this,C.shouldCache(),C._transformDone=!0,C.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var p=this.viewportTransform,v=this.clipPath;f.save(),f.transform(p[0],p[1],p[2],p[3],p[4],p[5]),f.globalCompositeOperation="destination-in",v.transform(f),f.scale(1/v.zoomX,1/v.zoomY),f.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),f.restore()},_renderObjects:function(f,p){var v,C;for(v=0,C=p.length;v<C;++v)p[v]&&p[v].render(f)},_renderBackgroundOrOverlay:function(f,p){var v=this[p+"Color"],C=this[p+"Image"],y=this.viewportTransform,w=this[p+"Vpt"];if(!(!v&&!C)){if(v){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=v.toLive?v.toLive(f,this):v,w&&f.transform(y[0],y[1],y[2],y[3],y[4],y[5]),f.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var E=v.gradientTransform||v.patternTransform;E&&f.transform(E[0],E[1],E[2],E[3],E[4],E[5]),f.fill(),f.restore()}C&&(f.save(),w&&f.transform(y[0],y[1],y[2],y[3],y[4],y[5]),C.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new t.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new t.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var p=this.getCenterPoint();return this._centerObject(f,p)},viewportCenterObject:function(f){var p=this.getVpCenter();return this._centerObject(f,p)},viewportCenterObjectH:function(f){var p=this.getVpCenter();return this._centerObject(f,new t.Point(p.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var p=this.getVpCenter();return this._centerObject(f,new t.Point(f.getCenterPoint().x,p.y))},getVpCenter:function(){var f=this.getCenterPoint(),p=o(this.viewportTransform);return a(f,p)},_centerObject:function(f,p){return f.setPositionByOrigin(p,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,p){var v=this.clipPath,C={version:t.version,objects:this._toObjects(f,p)};return v&&!v.excludeFromExport&&(C.clipPath=this._toObject(this.clipPath,f,p)),c(C,this.__serializeBgOverlay(f,p)),t.util.populateWithProperties(this,C,p),C},_toObjects:function(f,p){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,f,p)},this)},_toObject:function(f,p,v){var C;this.includeDefaultValues||(C=f.includeDefaultValues,f.includeDefaultValues=!1);var y=f[p](v);return this.includeDefaultValues||(f.includeDefaultValues=C),y},__serializeBgOverlay:function(f,p){var v={},C=this.backgroundImage,y=this.overlayImage,w=this.backgroundColor,E=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(v.background=w.toObject(p)):w&&(v.background=w),E&&E.toObject?E.excludeFromExport||(v.overlay=E.toObject(p)):E&&(v.overlay=E),C&&!C.excludeFromExport&&(v.backgroundImage=this._toObject(C,f,p)),y&&!y.excludeFromExport&&(v.overlayImage=this._toObject(y,f,p)),v},svgViewportTransformation:!0,toSVG:function(f,p){f||(f={}),f.reviver=p;var v=[];return this._setSVGPreamble(v,f),this._setSVGHeader(v,f),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",p),this._setSVGObjects(v,p),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",p),v.push("</svg>"),v.join("")},_setSVGPreamble:function(f,p){p.suppressPreamble||f.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(f,p){var v=p.width||this.width,C=p.height||this.height,y,w='viewBox="0 0 '+this.width+" "+this.height+'" ',E=t.Object.NUM_FRACTION_DIGITS;p.viewBox?w='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(y=this.viewportTransform,w='viewBox="'+A(-y[4]/y[0],E)+" "+A(-y[5]/y[3],E)+" "+A(this.width/y[0],E)+" "+A(this.height/y[3],E)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',C,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)},createSVGClipPathMarkup:function(f){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+p.clipPathId+`" >
`+this.clipPath.toClipPathSVG(f.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var f=this,p=["background","overlay"].map(function(v){var C=f[v+"Color"];if(C&&C.toLive){var y=f[v+"Vpt"],w=f.viewportTransform,E={width:f.width/(y?w[0]:1),height:f.height/(y?w[3]:1)};return C.toSVG(E,{additionalTransform:y?t.util.matrixToSVG(w):""})}});return p.join("")},createSVGFontFacesMarkup:function(){var f="",p={},v,C,y,w,E,B,b,D,R,J=t.fontPaths,Z=[];for(this._objects.forEach(function ee(re){Z.push(re),re._objects&&re._objects.forEach(ee)}),D=0,R=Z.length;D<R;D++)if(v=Z[D],C=v.fontFamily,!(v.type.indexOf("text")===-1||p[C]||!J[C])&&(p[C]=!0,!!v.styles)){y=v.styles;for(E in y){w=y[E];for(b in w)B=w[b],C=B.fontFamily,!p[C]&&J[C]&&(p[C]=!0)}}for(var q in p)f+=[`		@font-face {
`,"			font-family: '",q,`';
`,"			src: url('",J[q],`');
`,`		}
`].join("");return f&&(f=['	<style type="text/css">',`<![CDATA[
`,f,"]]>",`</style>
`].join("")),f},_setSVGObjects:function(f,p){var v,C,y,w=this._objects;for(C=0,y=w.length;C<y;C++)v=w[C],!v.excludeFromExport&&this._setSVGObject(f,v,p)},_setSVGObject:function(f,p,v){f.push(p.toSVG(v))},_setSVGBgOverlayImage:function(f,p,v){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&f.push(this[p].toSVG(v))},_setSVGBgOverlayColor:function(f,p){var v=this[p+"Color"],C=this.viewportTransform,y=this.width,w=this.height;if(v)if(v.toLive){var E=v.repeat,B=t.util.invertTransform(C),b=this[p+"Vpt"],D=b?t.util.matrixToSVG(B):"";f.push('<rect transform="'+D+" translate(",y/2,",",w/2,')"',' x="',v.offsetX-y/2,'" y="',v.offsetY-w/2,'" ','width="',E==="repeat-y"||E==="no-repeat"?v.source.width:y,'" height="',E==="repeat-x"||E==="no-repeat"?v.source.height:w,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(f){if(!f)return this;var p=this._activeObject,v,C,y;if(f===p&&f.type==="activeSelection")for(y=p._objects,v=y.length;v--;)C=y[v],h(this._objects,C),this._objects.unshift(C);else h(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var p=this._activeObject,v,C,y;if(f===p&&f.type==="activeSelection")for(y=p._objects,v=0;v<y.length;v++)C=y[v],h(this._objects,C),this._objects.push(C);else h(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,p){if(!f)return this;var v=this._activeObject,C,y,w,E,B,b=0;if(f===v&&f.type==="activeSelection")for(B=v._objects,C=0;C<B.length;C++)y=B[C],w=this._objects.indexOf(y),w>0+b&&(E=w-1,h(this._objects,y),this._objects.splice(E,0,y)),b++;else w=this._objects.indexOf(f),w!==0&&(E=this._findNewLowerIndex(f,w,p),h(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,p,v){var C,y;if(v)for(C=p,y=p-1;y>=0;--y){var w=f.intersectsWithObject(this._objects[y])||f.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(f);if(w){C=y;break}}else C=p-1;return C},bringForward:function(f,p){if(!f)return this;var v=this._activeObject,C,y,w,E,B,b=0;if(f===v&&f.type==="activeSelection")for(B=v._objects,C=B.length;C--;)y=B[C],w=this._objects.indexOf(y),w<this._objects.length-1-b&&(E=w+1,h(this._objects,y),this._objects.splice(E,0,y)),b++;else w=this._objects.indexOf(f),w!==this._objects.length-1&&(E=this._findNewUpperIndex(f,w,p),h(this._objects,f),this._objects.splice(E,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,p,v){var C,y,w;if(v)for(C=p,y=p+1,w=this._objects.length;y<w;++y){var E=f.intersectsWithObject(this._objects[y])||f.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(f);if(E){C=y;break}}else C=p+1;return C},moveTo:function(f,p){return h(this._objects,f),this._objects.splice(p,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(t.StaticCanvas.prototype,t.Observable),c(t.StaticCanvas.prototype,t.Collection),c(t.StaticCanvas.prototype,t.DataURLExporter),c(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var p=u();if(!p||!p.getContext)return null;var v=p.getContext("2d");if(!v)return null;switch(f){case"setLineDash":return typeof v.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var f=s(this.lowerCanvasEl);return f&&f.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(f){var p=s(this.lowerCanvasEl);return p&&p.createJPEGStream(f)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var c=this.canvas,i=this.shadow,h=c.contextTop,A=c.getZoom();c&&c._isRetinaScaling()&&(A*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*A,h.shadowOffsetX=i.offsetX*A,h.shadowOffsetY=i.offsetY*A}},needsFullRender:function(){var c=new t.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,h){var A=i.midPointFrom(h);return c.quadraticCurveTo(i.x,i.y,A.x,A.y),A},onMouseDown:function(c,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,A=h.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,h[A-2],h[A-1],!0),a.stroke(),a.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new t.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new t.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,h,A=this._points[0],a=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&A.x===a.x&&A.y===a.y){var o=this.width/1e3;A=new t.Point(A.x,A.y),a=new t.Point(a.x,a.y),A.x-=o,a.x+=o}for(c.moveTo(A.x,A.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(c,A,a),A=this._points[i],a=this._points[i+1];c.lineTo(A.x,A.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=t.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new t.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var h=this.canvas.getZoom(),A=Math.pow(i/h,2),a,o=c.length-1,s=c[0],u=[s],g;for(a=1;a<o-1;a++)g=Math.pow(s.x-c[a].x,2)+Math.pow(s.y-c[a].y,2),g>=A&&(s=c[a],u.push(s));return u.push(c[o]),u},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,h,A=this.points;for(this._saveAndTransform(c),i=0,h=A.length;i<h;i++)this.dot(c,A[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var A=[];for(i=0,h=this.points.length;i<h;i++){var a=this.points[i],o=new t.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(o.shadow=new t.Shadow(this.shadow)),A.push(o)}var s=new t.Group(A);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new t.Point(c.x,c.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,A=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=A,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,A=this.sprayChunks.length;h<A;h++)for(var a=this.sprayChunks[h],o=0,s=a.length;o<s;o++){var u=new t.Rect({width:a[o].width,height:a[o].width,left:a[o].x+1,top:a[o].y+1,originX:"center",originY:"center",fill:this.color});i.push(u)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},h,A,a;for(A=0,a=c.length;A<a;A++)h=c[A].left+""+c[A].top,i[h]||(i[h]=c[A]);var o=[];for(h in i)o.push(i[h]);return o},render:function(c){var i=this.canvas.contextTop,h,A;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,A=c.length;h<A;h++){var a=c[h];typeof a.opacity<"u"&&(i.globalAlpha=a.opacity),i.fillRect(a.x,a.y,a.width,a.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,h;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,h,A,a=this.width/2,o;for(o=0;o<this.density;o++){i=t.util.getRandomInt(c.x-a,c.x+a),h=t.util.getRandomInt(c.y-a,c.y+a),this.dotWidthVariance?A=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):A=this.dotWidth;var s=new t.Point(i,h);s.width=A,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var c=20,i=5,h=t.util.createCanvasElement(),A=h.getContext("2d");return h.width=h.height=c+i,A.fillStyle=this.color,A.beginPath(),A.arc(c/2,c/2,c/2,0,Math.PI*2,!1),A.closePath(),A.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var c=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(a,o){o||(o={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,o),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),o,s,u;if(a.length>0&&!this.preserveObjectStacking){s=[],u=[];for(var g=0,f=this._objects.length;g<f;g++)o=this._objects[g],a.indexOf(o)===-1?s.push(o):u.push(o);a.length>1&&(this._activeObject._objects=u),s.push.apply(s,u)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,o){var s=a.calcTransformMatrix(),u=t.util.invertTransform(s),g=this.restorePointerVpt(o);return t.util.transformPoint(g,u)},isTargetTransparent:function(a,o,s){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var u=this._normalizePointer(a,{x:o,y:s}),g=Math.max(a.cacheTranslationX+u.x*a.zoomX,0),f=Math.max(a.cacheTranslationY+u.y*a.zoomY,0),y=t.util.isTransparent(a._cacheContext,Math.round(g),Math.round(f),this.targetFindTolerance);return y}var p=this.contextCache,v=a.selectionBackgroundColor,C=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(C[0],C[1],C[2],C[3],C[4],C[5]),a.render(p),p.restore(),a.selectionBackgroundColor=v;var y=t.util.isTransparent(p,o,s,this.targetFindTolerance);return y},_isSelectionKeyPressed:function(a){var o=!1;return Array.isArray(this.selectionKey)?o=!!this.selectionKey.find(function(s){return a[s]===!0}):o=a[this.selectionKey],o},_shouldClearSelection:function(a,o){var s=this.getActiveObjects(),u=this._activeObject;return!o||o&&u&&s.length>1&&s.indexOf(o)===-1&&u!==o&&!this._isSelectionKeyPressed(a)||o&&!o.evented||o&&!o.selectable&&u&&u!==o},_shouldCenterTransform:function(a,o,s){if(a){var u;return o==="scale"||o==="scaleX"||o==="scaleY"||o==="resizing"?u=this.centeredScaling||a.centeredScaling:o==="rotate"&&(u=this.centeredRotation||a.centeredRotation),u?!s:s}},_getOriginFromCorner:function(a,o){var s={x:a.originX,y:a.originY};return o==="ml"||o==="tl"||o==="bl"?s.x="right":(o==="mr"||o==="tr"||o==="br")&&(s.x="left"),o==="tl"||o==="mt"||o==="tr"?s.y="bottom":(o==="bl"||o==="mb"||o==="br")&&(s.y="top"),s},_getActionFromCorner:function(a,o,s,u){if(!o||!a)return"drag";var g=u.controls[o];return g.getActionName(s,g,u)},_setupCurrentTransform:function(a,o,s){if(o){var u=this.getPointer(a),g=o.__corner,f=o.controls[g],p=s&&g?f.getActionHandler(a,o,f):t.controlsUtils.dragHandler,v=this._getActionFromCorner(s,g,a,o),C=this._getOriginFromCorner(o,g),y=a[this.centeredKey],w={target:o,action:v,actionHandler:p,corner:g,scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,offsetX:u.x-o.left,offsetY:u.y-o.top,originX:C.x,originY:C.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:i(o.angle),width:o.width*o.scaleX,shiftKey:a.shiftKey,altKey:y,original:t.util.saveObjectTransform(o)};this._shouldCenterTransform(o,v,y)&&(w.originX="center",w.originY="center"),w.original.originX=C.x,w.original.originY=C.y,this._currentTransform=w,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var o=this._groupSelector,s=new t.Point(o.ex,o.ey),u=t.util.transformPoint(s,this.viewportTransform),g=new t.Point(o.ex+o.left,o.ey+o.top),f=t.util.transformPoint(g,this.viewportTransform),p=Math.min(u.x,f.x),v=Math.min(u.y,f.y),C=Math.max(u.x,f.x),y=Math.max(u.y,f.y),w=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(p,v,C-p,y-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,p+=w,v+=w,C-=w,y-=w,t.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(p,v,C-p,y-v))},findTarget:function(a,o){if(!this.skipTargetFind){var s=!0,u=this.getPointer(a,s),g=this._activeObject,f=this.getActiveObjects(),p,v,C=h(a),y=f.length>1&&!o||f.length===1;if(this.targets=[],y&&g._findTargetCorner(u,C)||f.length>1&&!o&&g===this._searchPossibleTargets([g],u))return g;if(f.length===1&&g===this._searchPossibleTargets([g],u))if(this.preserveObjectStacking)p=g,v=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,u);return a[this.altSelectionKey]&&w&&p&&w!==p&&(w=p,this.targets=v),w}},_checkTarget:function(a,o,s){if(o&&o.visible&&o.evented&&o.containsPoint(a))if((this.perPixelTargetFind||o.perPixelTargetFind)&&!o.isEditing){var u=this.isTargetTransparent(o,s.x,s.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(a,o){for(var s,u=a.length,g;u--;){var f=a[u],p=f.group?this._normalizePointer(f.group,o):o;if(this._checkTarget(p,f,o)){s=a[u],s.subTargetCheck&&s instanceof t.Group&&(g=this._searchPossibleTargets(s._objects,o),g&&this.targets.push(g));break}}return s},restorePointerVpt:function(a){return t.util.transformPoint(a,t.util.invertTransform(this.viewportTransform))},getPointer:function(a,o){if(this._absolutePointer&&!o)return this._absolutePointer;if(this._pointer&&o)return this._pointer;var s=c(a),u=this.upperCanvasEl,g=u.getBoundingClientRect(),f=g.width||0,p=g.height||0,v;(!f||!p)&&("top"in g&&"bottom"in g&&(p=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(f=Math.abs(g.right-g.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,o||(s=this.restorePointerVpt(s));var C=this.getRetinaScaling();return C!==1&&(s.x/=C,s.y/=C),f===0||p===0?v={width:1,height:1}:v={width:u.width/f,height:u.height/p},{x:s.x*v.width,y:s.y*v.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),o=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+a),this.wrapperEl.appendChild(s),this._copyCanvasStyle(o,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var o=this.width||a.width,s=this.height||a.height;t.util.setStyle(a,{position:"absolute",width:o+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=o,a.height=s,t.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,o){o.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,o){var s=!1,u=this.getActiveObjects(),g=[],f=[];a.forEach(function(p){u.indexOf(p)===-1&&(s=!0,p.fire("deselected",{e:o,target:p}),f.push(p))}),u.forEach(function(p){a.indexOf(p)===-1&&(s=!0,p.fire("selected",{e:o,target:p}),g.push(p))}),a.length>0&&u.length>0?s&&this.fire("selection:updated",{e:o,selected:g,deselected:f}):u.length>0?this.fire("selection:created",{e:o,selected:g}):a.length>0&&this.fire("selection:cleared",{e:o,deselected:f})},setActiveObject:function(a,o){var s=this.getActiveObjects();return this._setActiveObject(a,o),this._fireSelectionEvents(s,o),this},_setActiveObject:function(a,o){return this._activeObject===a||!this._discardActiveObject(o,a)||a.onSelect({e:o})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,o){var s=this._activeObject;if(s){if(s.onDeselect({e:a,object:o}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var o=this.getActiveObjects(),s=this.getActiveObject();return o.length&&this.fire("before:selection:cleared",{target:s,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(o,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(o){t.util.cleanUpJsdomNode(this[o]),this[o]=void 0}.bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var o=this._activeObject;o&&o._renderControls(a)},_toObject:function(a,o,s){var u=this._realizeGroupTransformOnObject(a),g=this.callSuper("_toObject",a,o,s);return this._unwindGroupTransformOnObject(a,u),g},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var o=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return o.forEach(function(u){s[u]=a[u]}),t.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(a,o){o&&a.set(o)},_setSVGObject:function(a,o,s){var u=this._realizeGroupTransformOnObject(o);this.callSuper("_setSVGObject",a,o,s),this._unwindGroupTransformOnObject(o,u)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var A in t.StaticCanvas)A!=="prototype"&&(t.Canvas[A]=t.StaticCanvas[A])}(),function(){var c=t.util.addListener,i=t.util.removeListener,h=3,A=2,a=1,o={passive:!1};function s(u,g){return u.button&&u.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,g){var f=this.upperCanvasEl,p=this._getEventPrefix();u(t.window,"resize",this._onResize),u(f,p+"down",this._onMouseDown),u(f,p+"move",this._onMouseMove,o),u(f,p+"out",this._onMouseOut),u(f,p+"enter",this._onMouseEnter),u(f,"wheel",this._onMouseWheel),u(f,"contextmenu",this._onContextMenu),u(f,"dblclick",this._onDoubleClick),u(f,"dragover",this._onDragOver),u(f,"dragenter",this._onDragEnter),u(f,"dragleave",this._onDragLeave),u(f,"drop",this._onDrop),this.enablePointerEvents||u(f,"touchstart",this._onTouchStart,o),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](f,"gesture",this._onGesture),eventjs[g](f,"drag",this._onDrag),eventjs[g](f,"orientation",this._onOrientationChange),eventjs[g](f,"shake",this._onShake),eventjs[g](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var u=this._getEventPrefix();i(t.document,u+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,o),i(t.document,u+"move",this._onMouseMove,o),i(t.document,"touchmove",this._onMouseMove,o)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,g){this.__onTransformGesture&&this.__onTransformGesture(u,g)},_onDrag:function(u,g){this.__onDrag&&this.__onDrag(u,g)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:u}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:u});var f=this;this._hoveredTargets.forEach(function(p){f.fire("mouse:out",{target:g,e:u}),p&&g.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,g){this.__onOrientationChange&&this.__onOrientationChange(u,g)},_onShake:function(u,g){this.__onShake&&this.__onShake(u,g)},_onLongPress:function(u,g){this.__onLongPress&&this.__onLongPress(u,g)},_onDragOver:function(u){u.preventDefault();var g=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(g,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var g=u.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();c(t.document,"touchend",this._onTouchEnd,o),c(t.document,"touchmove",this._onMouseMove,o),i(g,f+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();i(g,f+"move",this._onMouseMove,o),c(t.document,f+"up",this._onMouseUp),c(t.document,f+"move",this._onMouseMove,o)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,o),i(t.document,"touchmove",this._onMouseMove,o);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(f.upperCanvasEl,g+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var g=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(u)&&(i(t.document,f+"up",this._onMouseUp),i(t.document,f+"move",this._onMouseMove,o),c(g,f+"move",this._onMouseMove,o))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var g=this._activeObject;return!!g!=!!u||g&&u&&g!==u?!0:(g&&g.isEditing,!1)},__onMouseUp:function(u){var g,f=this._currentTransform,p=this._groupSelector,v=!1,C=!p||p.left===0&&p.top===0;if(this._cacheTransformEventData(u),g=this._target,this._handleEvent(u,"up:before"),s(u,h)){this.fireRightClick&&this._handleEvent(u,"up",h,C);return}if(s(u,A)){this.fireMiddleClick&&this._handleEvent(u,"up",A,C),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(f&&(this._finalizeCurrentTransform(u),v=f.actionPerformed),!C){var y=g===this._activeObject;this._maybeGroupObjects(u),v||(v=this._shouldRender(g)||!y&&g===this._activeObject)}var w,E;if(g){if(w=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,u),v=!0;else{var B=g.controls[w],b=B&&B.getMouseUpHandler(u,g,B);b&&(E=this.getPointer(u),b(u,f,E.x,E.y))}g.isMoving=!1}if(f&&(f.target!==g||f.corner!==w)){var D=f.target&&f.target.controls[f.corner],R=D&&D.getMouseUpHandler(u,g,B);E=E||this.getPointer(u),R&&R(u,f,E.x,E.y)}this._setCursorFromEvent(u,g),this._handleEvent(u,"up",a,C),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),v?this.requestRenderAll():C||this.renderTop()}},_simpleEventHandler:function(u,g){var f=this.findTarget(g),p=this.targets,v={e:g,target:f,subTargets:p};if(this.fire(u,v),f&&f.fire(u,v),!p)return f;for(var C=0;C<p.length;C++)p[C].fire(u,v);return f},_handleEvent:function(u,g,f,p){var v=this._target,C=this.targets||[],y={e:u,target:v,subTargets:C,button:f||a,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(y.currentTarget=this.findTarget(u),y.currentSubTargets=this.targets),this.fire("mouse:"+g,y),v&&v.fire("mouse"+g,y);for(var w=0;w<C.length;w++)C[w].fire("mouse"+g,y)},_finalizeCurrentTransform:function(u){var g=this._currentTransform,f=g.target,p={e:u,target:f,transform:g,action:g.action};f._scaling&&(f._scaling=!1),f.setCoords(),(g.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var g=this.getPointer(u);this.freeDrawingBrush.onMouseDown(g,{e:u,pointer:g}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var g=this.getPointer(u);this.freeDrawingBrush.onMouseMove(g,{e:u,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var g=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:g}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var g=this._target;if(s(u,h)){this.fireRightClick&&this._handleEvent(u,"down",h);return}if(s(u,A)){this.fireMiddleClick&&this._handleEvent(u,"down",A);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var f=this._pointer;this._previousPointer=f;var p=this._shouldRender(g),v=this._shouldGroup(u,g);if(this._shouldClearSelection(u,g)?this.discardActiveObject(u):v&&(this._handleGrouping(u,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var C=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,u);var y=g._findTargetCorner(this.getPointer(u,!0),t.util.isTouchEvent(u));if(g.__corner=y,g===this._activeObject&&(y||!v)){this._setupCurrentTransform(u,g,C);var w=g.controls[y],f=this.getPointer(u),E=w&&w.getMouseDownHandler(u,g,w);E&&E(u,this._currentTransform,f.x,f.y)}}this._handleEvent(u,"down"),(p||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:u,transform:g})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var g,f;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var p=this._groupSelector;p?(f=this._absolutePointer,p.left=f.x-p.ex,p.top=f.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(g=this.findTarget(u)||null,this._setCursorFromEvent(u,g),this._fireOverOutEvents(g,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,g){var f=this._hoveredTarget,p=this._hoveredTargets,v=this.targets,C=Math.max(p.length,v.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var y=0;y<C;y++)this.fireSyntheticInOutEvents(v[y],g,{oldTarget:p[y],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,g){var f=this._draggedoverTarget,p=this._hoveredTargets,v=this.targets,C=Math.max(p.length,v.length);this.fireSyntheticInOutEvents(u,g,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var y=0;y<C;y++)this.fireSyntheticInOutEvents(v[y],g,{oldTarget:p[y],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,g,f){var p,v,C=f.oldTarget,y,w,E=C!==u,B=f.canvasEvtIn,b=f.canvasEvtOut;E&&(p={e:g,target:u,previousTarget:C},v={e:g,target:C,nextTarget:u}),w=u&&E,y=C&&E,y&&(b&&this.fire(b,v),C.fire(f.evtOut,v)),w&&(B&&this.fire(B,p),u.fire(f.evtIn,p))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var g=this.getPointer(u),f=this._currentTransform;f.reset=!1,f.shiftKey=u.shiftKey,f.altKey=u[this.centeredKey],this._performTransformAction(u,f,g),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,g,f){var p=f.x,v=f.y,C=g.action,y=!1,w=g.actionHandler;w&&(y=w(u,g,p,v)),C==="drag"&&y&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||y},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(u,g){if(!g)return this.setCursor(this.defaultCursor),!1;var f=g.hoverCursor||this.hoverCursor,p=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!p||!p.contains(g))&&g._findTargetCorner(this.getPointer(u,!0));v?this.setCursor(this.getCornerCursor(v,g,u)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(C){f=C.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(u,g,f){var p=g.controls[u];return p.cursorStyleHandler(f,p,g)}})}(),function(){var c=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,A){var a=this._activeObject;return a&&this._isSelectionKeyPressed(h)&&A&&A.selectable&&this.selection&&(a!==A||a.type==="activeSelection")&&!A.onSelect({e:h})},_handleGrouping:function(h,A){var a=this._activeObject;a.__corner||A===a&&(A=this.findTarget(h,!0),!A||!A.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(A,h):this._createActiveSelection(A,h))},_updateActiveSelection:function(h,A){var a=this._activeObject,o=a._objects.slice(0);a.contains(h)?(a.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),A)):(a.addWithUpdate(h),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(o,A)},_createActiveSelection:function(h,A){var a=this.getActiveObjects(),o=this._createGroup(h);this._hoveredTarget=o,this._setActiveObject(o,A),this._fireSelectionEvents(a,A)},_createGroup:function(h){var A=this._objects,a=A.indexOf(this._activeObject)<A.indexOf(h),o=a?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(o,{canvas:this})},_groupSelectedObjects:function(h){var A=this._collectObjects(h),a;A.length===1?this.setActiveObject(A[0],h):A.length>1&&(a=new t.ActiveSelection(A.reverse(),{canvas:this}),this.setActiveObject(a,h))},_collectObjects:function(h){for(var A=[],a,o=this._groupSelector.ex,s=this._groupSelector.ey,u=o+this._groupSelector.left,g=s+this._groupSelector.top,f=new t.Point(c(o,u),c(s,g)),p=new t.Point(i(o,u),i(s,g)),v=!this.selectionFullyContained,C=o===u&&s===g,y=this._objects.length;y--&&(a=this._objects[y],!(!(!a||!a.selectable||!a.visible)&&(v&&a.intersectsWithRect(f,p,!0)||a.isContainedWithinRect(f,p,!0)||v&&a.containsPoint(f,null,!0)||v&&a.containsPoint(p,null,!0))&&(A.push(a),C))););return A.length>1&&(A=A.filter(function(w){return!w.onSelect({e:h})})),A},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",h=c.quality||1,A=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(A,c);return t.util.toDataURL(a,i,h)},toCanvasElement:function(c,i){c=c||1,i=i||{};var h=(i.width||this.width)*c,A=(i.height||this.height)*c,a=this.getZoom(),o=this.width,s=this.height,u=a*c,g=this.viewportTransform,f=(g[4]-(i.left||0))*c,p=(g[5]-(i.top||0))*c,v=this.interactive,C=[u,0,0,u,f,p],y=this.enableRetinaScaling,w=t.util.createCanvasElement(),E=this.contextTop;return w.width=h,w.height=A,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=C,this.width=h,this.height=A,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=o,this.height=s,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=y,this.contextTop=E,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(c,i,h){if(c){var A=typeof c=="string"?JSON.parse(c):t.util.object.clone(c),a=this,o=A.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete A.clipPath,this._enlivenObjects(A.objects,function(u){a.clear(),a._setBgOverlay(A,function(){o?a._enlivenObjects([o],function(g){a.clipPath=g[0],a.__setupCanvas.call(a,A,u,s,i)}):a.__setupCanvas.call(a,A,u,s,i)})},h),this}},__setupCanvas:function(c,i,h,A){var a=this;i.forEach(function(o,s){a.insertAt(o,s)}),this.renderOnAddRemove=h,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),A&&A()},_setBgOverlay:function(c,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var A=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,h,A),this.__setBgOverlay("overlayImage",c.overlayImage,h,A),this.__setBgOverlay("backgroundColor",c.background,h,A),this.__setBgOverlay("overlayColor",c.overlay,h,A)},__setBgOverlay:function(c,i,h,A){var a=this;if(!i){h[c]=!0,A&&A();return}c==="backgroundImage"||c==="overlayImage"?t.util.enlivenObjects([i],function(o){a[c]=o[0],h[c]=!0,A&&A()}):this["set"+t.util.string.capitalize(c,!0)](i,function(){h[c]=!0,A&&A()})},_enlivenObjects:function(c,i,h){if(!c||c.length===0){i&&i([]);return}t.util.enlivenObjects(c,function(A){i&&i(A)},null,h)},_toDataURL:function(c,i){this.clone(function(h){i(h.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,h){this.clone(function(A){h(A.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(A){A.loadFromJSON(h,function(){c&&c(A)})})},cloneWithoutData:function(c){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),c&&c(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):c&&c(h)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.util.object.clone,a=i.util.toFixed,o=i.util.string.capitalize,s=i.util.degreesToRadians,u=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var p=i.perfLimitSizeTotal,v=f.width,C=f.height,y=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(v<=y&&C<=y&&v*C<=p)return v<w&&(f.width=w),C<w&&(f.height=w),f;var E=v/C,B=i.util.limitDimsByArea(E,p),b=i.util.capValue,D=b(w,B.x,y),R=b(w,B.y,y);return v>D&&(f.zoomX/=v/D,f.width=D,f.capped=!0),C>R&&(f.zoomY/=C/R,f.height=R,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),v=p.x*f.scaleX/this.scaleX,C=p.y*f.scaleY/this.scaleY;return{width:v+g,height:C+g,zoomX:f.scaleX,zoomY:f.scaleY,x:v,y:C}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var p=f._currentTransform.target,v=f._currentTransform.action;if(this===p&&v.slice&&v.slice(0,5)==="scale")return!1}var C=this._cacheCanvas,y=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,E=y.width,B=y.height,b,D,R=y.zoomX,J=y.zoomY,Z=E!==this.cacheWidth||B!==this.cacheHeight,q=this.zoomX!==R||this.zoomY!==J,ee=Z||q,re=0,oe=0,U=!1;if(Z){var L=this._cacheCanvas.width,I=this._cacheCanvas.height,S=E>L||B>I,Q=(E<L*.9||B<I*.9)&&L>w&&I>w;U=S||Q,S&&!y.capped&&(E>w||B>w)&&(re=E*.1,oe=B*.1)}return this instanceof i.Text&&this.path&&(ee=!0,U=!0,re+=this.getHeightOfLine(0)*this.zoomX,oe+=this.getHeightOfLine(0)*this.zoomY),ee?(U?(C.width=Math.ceil(E+re),C.height=Math.ceil(B+oe)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,C.width,C.height)),b=y.x/2,D=y.y/2,this.cacheTranslationX=Math.round(C.width/2-b)+b,this.cacheTranslationY=Math.round(C.height/2-D)+D,this.cacheWidth=E,this.cacheHeight=B,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(R,J),this.zoomX=R,this.zoomY=J,!0):!1},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var p=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,v=this.calcTransformMatrix(!p);f.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(f){var p=i.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:a(this.left,p),top:a(this.top,p),width:a(this.width,p),height:a(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,p),scaleX:a(this.scaleX,p),scaleY:a(this.scaleY,p),angle:a(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,p),skewY:a(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(f),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,v,f),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var p=i.util.getKlass(f.type).prototype,v=p.stateProperties;return v.forEach(function(C){C==="left"||C==="top"||(f[C]===p[C]&&delete f[C],Array.isArray(f[C])&&Array.isArray(p[C])&&f[C].length===0&&p[C].length===0&&delete f[C])}),f},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),p=f.scaleX,v=f.scaleY;if(this.canvas){var C=this.canvas.getZoom(),y=this.canvas.getRetinaScaling();p*=C*y,v*=C*y}return{scaleX:p,scaleY:v}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,p){var v=f==="scaleX"||f==="scaleY",C=this[f]!==p,y=!1;return v&&(p=this._constrainScale(p)),f==="scaleX"&&p<0?(this.flipX=!this.flipX,p*=-1):f==="scaleY"&&p<0?(this.flipY=!this.flipY,p*=-1):f==="shadow"&&p&&!(p instanceof i.Shadow)?p=new i.Shadow(p):f==="dirty"&&this.group&&this.group.set("dirty",p),this[f]=p,C&&(y=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,y&&this.group.set("dirty",!0)):y&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(f,p){if(f.save(),p.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",p.absolutePositioned){var v=i.util.invertTransform(this.calcTransformMatrix());f.transform(v[0],v[1],v[2],v[3],v[4],v[5])}p.transform(f),f.scale(1/p.zoomX,1/p.zoomY),f.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),f.restore()},drawObject:function(f,p){var v=this.fill,C=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=v,this.stroke=C},_drawClipPath:function(f,p){p&&(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,p))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var p=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-v/2,p,v)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var p=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,p){var v=p.stroke;v&&(f.lineWidth=p.strokeWidth,f.lineCap=p.strokeLineCap,f.lineDashOffset=p.strokeDashOffset,f.lineJoin=p.strokeLineJoin,f.miterLimit=p.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(f,v):(f.strokeStyle=v.toLive(f,this),this._applyPatternGradientTransform(f,v)):f.strokeStyle=p.stroke)},_setFillStyles:function(f,p){var v=p.fill;v&&(v.toLive?(f.fillStyle=v.toLive(f,this),this._applyPatternGradientTransform(f,p.fill)):f.fillStyle=v)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,p){!p||p.length===0||(1&p.length&&p.push.apply(p,p),f.setLineDash(p))},_renderControls:function(f,p){var v=this.getViewportTransform(),C=this.calcTransformMatrix(),y,w,E;p=p||{},w=typeof p.hasBorders<"u"?p.hasBorders:this.hasBorders,E=typeof p.hasControls<"u"?p.hasControls:this.hasControls,C=i.util.multiplyTransformMatrices(v,C),y=i.util.qrDecompose(C),f.save(),f.translate(y.translateX,y.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(y.angle-=180),f.rotate(s(this.group?y.angle:this.angle)),p.forActiveSelection||this.group?w&&this.drawBordersInGroup(f,y,p):w&&this.drawBorders(f,p),E&&this.drawControls(f,p),f.restore()},_setShadow:function(f){if(this.shadow){var p=this.shadow,v=this.canvas,C,y=v&&v.viewportTransform[0]||1,w=v&&v.viewportTransform[3]||1;p.nonScaling?C={scaleX:1,scaleY:1}:C=this.getObjectScaling(),v&&v._isRetinaScaling()&&(y*=i.devicePixelRatio,w*=i.devicePixelRatio),f.shadowColor=p.color,f.shadowBlur=p.blur*i.browserShadowBlurConstant*(y+w)*(C.scaleX+C.scaleY)/4,f.shadowOffsetX=p.offsetX*y*C.scaleX,f.shadowOffsetY=p.offsetY*w*C.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var v=p.gradientTransform||p.patternTransform,C=-this.width/2+p.offsetX||0,y=-this.height/2+p.offsetY||0;return p.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,C,y):f.transform(1,0,0,1,C,y),v&&f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:C,offsetY:y}},_renderPaintInOrder:function(f){this.paintFirst==="stroke"?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();f.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,p){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),C=i.util.createCanvasElement(),y,w=this.canvas.getRetinaScaling(),E=v.x/this.scaleX/w,B=v.y/this.scaleY/w;C.width=E,C.height=B,y=C.getContext("2d"),y.beginPath(),y.moveTo(0,0),y.lineTo(E,0),y.lineTo(E,B),y.lineTo(0,B),y.closePath(),y.translate(E/2,B/2),y.scale(v.zoomX/this.scaleX/w,v.zoomY/this.scaleY/w),this._applyPatternGradientTransform(y,p),y.fillStyle=p.toLive(f),y.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(w*this.scaleX/v.zoomX,w*this.scaleY/v.zoomY),f.strokeStyle=y.createPattern(C,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=i.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,p.x+=f.offsetLeft,p.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(p,"center","center")},clone:function(f,p){var v=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(v,f):i.Object._fromObject("Object",v,f)},cloneAsImage:function(f,p){var v=this.toCanvasElement(p);return f&&f(new i.Image(v)),this},toCanvasElement:function(f){f||(f={});var p=i.util,v=p.saveObjectTransform(this),C=this.group,y=this.shadow,w=Math.abs,E=(f.multiplier||1)*(f.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,f.withoutTransform&&p.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var B=i.util.createCanvasElement(),b=this.getBoundingRect(!0,!0),D=this.shadow,R,J={x:0,y:0},Z,q,ee;D&&(Z=D.blur,D.nonScaling?R={scaleX:1,scaleY:1}:R=this.getObjectScaling(),J.x=2*Math.round(w(D.offsetX)+Z)*w(R.scaleX),J.y=2*Math.round(w(D.offsetY)+Z)*w(R.scaleY)),q=b.width+J.x,ee=b.height+J.y,B.width=Math.ceil(q),B.height=Math.ceil(ee);var re=new i.StaticCanvas(B,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});f.format==="jpeg"&&(re.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(re.width/2,re.height/2),"center","center");var oe=this.canvas;re.add(this);var U=re.toCanvasElement(E||1,f);return this.shadow=y,this.set("canvas",oe),C&&(this.group=C),this.set(v).setCoords(),re._objects=[],re.dispose(),re=null,U},toDataURL:function(f){return f||(f={}),i.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var p=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",f),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,p){p=p||this.canvas.getPointer(f);var v=new i.Point(p.x,p.y),C=this._getLeftTopCoords();return this.angle&&(v=i.util.rotatePoint(v,C,s(-this.angle))),{x:v.x-C.x,y:v.y-C.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(f,p,v,C){var y=i[f];p=A(p,!0),i.util.enlivenPatterns([p.fill,p.stroke],function(w){typeof w[0]<"u"&&(p.fill=w[0]),typeof w[1]<"u"&&(p.stroke=w[1]),i.util.enlivenObjectEnlivables(p,p,function(){var E=C?new y(p[C],p):new y(p);v&&v(E)})})},i.Object.__uid=0)}(e),function(){var c=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(A,a,o,s,u){var g=A.x,f=A.y,p,v,C;return typeof a=="string"?a=i[a]:a-=.5,typeof s=="string"?s=i[s]:s-=.5,p=s-a,typeof o=="string"?o=h[o]:o-=.5,typeof u=="string"?u=h[u]:u-=.5,v=u-o,(p||v)&&(C=this._getTransformedDimensions(),g=A.x+p*C.x,f=A.y+v*C.y),new t.Point(g,f)},translateToCenterPoint:function(A,a,o){var s=this.translateToGivenOrigin(A,a,o,"center","center");return this.angle?t.util.rotatePoint(s,A,c(this.angle)):s},translateToOriginPoint:function(A,a,o){var s=this.translateToGivenOrigin(A,"center","center",a,o);return this.angle?t.util.rotatePoint(s,A,c(this.angle)):s},getCenterPoint:function(){var A=new t.Point(this.left,this.top);return this.translateToCenterPoint(A,this.originX,this.originY)},getPointByOrigin:function(A,a){var o=this.getCenterPoint();return this.translateToOriginPoint(o,A,a)},toLocalPoint:function(A,a,o){var s=this.getCenterPoint(),u,g;return typeof a<"u"&&typeof o<"u"?u=this.translateToGivenOrigin(s,"center","center",a,o):u=new t.Point(this.left,this.top),g=new t.Point(A.x,A.y),this.angle&&(g=t.util.rotatePoint(g,s,-c(this.angle))),g.subtractEquals(u)},setPositionByOrigin:function(A,a,o){var s=this.translateToCenterPoint(A,a,o),u=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(A){var a=c(this.angle),o=this.getScaledWidth(),s=t.util.cos(a)*o,u=t.util.sin(a)*o,g,f;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof A=="string"?f=i[A]:f=A-.5,this.left+=s*(f-g),this.top+=u*(f-g),this.setCoords(),this.originX=A},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var A=this.getCenterPoint();this.originX="center",this.originY="center",this.left=A.x,this.top=A.y},_resetOrigin:function(){var A=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=A.x,this.top=A.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(o){return[new t.Point(o.tl.x,o.tl.y),new t.Point(o.tr.x,o.tr.y),new t.Point(o.br.x,o.br.y),new t.Point(o.bl.x,o.bl.y)]}var i=t.util,h=i.degreesToRadians,A=i.multiplyTransformMatrices,a=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(o,s){return s?o?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),o?this.aCoords:this.lineCoords)},getCoords:function(o,s){return c(this._getCoords(o,s))},intersectsWithRect:function(o,s,u,g){var f=this.getCoords(u,g),p=t.Intersection.intersectPolygonRectangle(f,o,s);return p.status==="Intersection"},intersectsWithObject:function(o,s,u){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(s,u),o.getCoords(s,u));return g.status==="Intersection"||o.isContainedWithinObject(this,s,u)||this.isContainedWithinObject(o,s,u)},isContainedWithinObject:function(o,s,u){for(var g=this.getCoords(s,u),f=s?o.aCoords:o.lineCoords,p=0,v=o._getImageLines(f);p<4;p++)if(!o.containsPoint(g[p],v))return!1;return!0},isContainedWithinRect:function(o,s,u,g){var f=this.getBoundingRect(u,g);return f.left>=o.x&&f.left+f.width<=s.x&&f.top>=o.y&&f.top+f.height<=s.y},containsPoint:function(o,p,u,g){var f=this._getCoords(u,g),p=p||this._getImageLines(f),v=this._findCrossPoints(o,p);return v!==0&&v%2===1},isOnScreen:function(o){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,g=this.getCoords(!0,o);return g.some(function(f){return f.x<=u.x&&f.x>=s.x&&f.y<=u.y&&f.y>=s.y})||this.intersectsWithRect(s,u,!0,o)?!0:this._containsCenterOfCanvas(s,u,o)},_containsCenterOfCanvas:function(o,s,u){var g={x:(o.x+s.x)/2,y:(o.y+s.y)/2};return!!this.containsPoint(g,null,!0,u)},isPartiallyOnScreen:function(o){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,u,!0,o))return!0;var g=this.getCoords(!0,o).every(function(f){return(f.x>=u.x||f.x<=s.x)&&(f.y>=u.y||f.y<=s.y)});return g&&this._containsCenterOfCanvas(s,u,o)},_getImageLines:function(o){var s={topline:{o:o.tl,d:o.tr},rightline:{o:o.tr,d:o.br},bottomline:{o:o.br,d:o.bl},leftline:{o:o.bl,d:o.tl}};return s},_findCrossPoints:function(o,s){var u,g,f,p,v,C=0,y;for(var w in s)if(y=s[w],!(y.o.y<o.y&&y.d.y<o.y)&&!(y.o.y>=o.y&&y.d.y>=o.y)&&(y.o.x===y.d.x&&y.o.x>=o.x?v=y.o.x:(u=0,g=(y.d.y-y.o.y)/(y.d.x-y.o.x),f=o.y-u*o.x,p=y.o.y-g*y.o.x,v=-(f-p)/(u-g)),v>=o.x&&(C+=1),C===2))break;return C},getBoundingRect:function(o,s){var u=this.getCoords(o,s);return i.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(o){return Math.abs(o)<this.minScaleLimit?o<0?-this.minScaleLimit:this.minScaleLimit:o===0?1e-4:o},scale:function(o){return this._set("scaleX",o),this._set("scaleY",o),this.setCoords()},scaleToWidth:function(o,s){var u=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(o/this.width/u)},scaleToHeight:function(o,s){var u=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(o/this.height/u)},calcLineCoords:function(){var o=this.getViewportTransform(),s=this.padding,u=h(this.angle),g=i.cos(u),f=i.sin(u),p=g*s,v=f*s,C=p+v,y=p-v,w=this.calcACoords(),E={tl:a(w.tl,o),tr:a(w.tr,o),bl:a(w.bl,o),br:a(w.br,o)};return s&&(E.tl.x-=y,E.tl.y-=C,E.tr.x+=C,E.tr.y-=y,E.bl.x-=C,E.bl.y+=y,E.br.x+=y,E.br.y+=C),E},calcOCoords:function(){var o=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),u=this.getViewportTransform(),g=A(u,s),f=A(g,o),f=A(f,[1/u[0],0,0,1/u[3],0,0]),p=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(C,y,w){v[y]=C.positionHandler(p,f,w)}),v},calcACoords:function(){var o=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),u=A(s,o),g=this._getTransformedDimensions(),f=g.x/2,p=g.y/2;return{tl:a({x:-f,y:-p},u),tr:a({x:f,y:-p},u),bl:a({x:-f,y:p},u),br:a({x:f,y:p},u)}},setCoords:function(o){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),o?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var o=this.getCenterPoint();return[1,0,0,1,o.x,o.y]},transformMatrixKey:function(o){var s="_",u="";return!o&&this.group&&(u=this.group.transformMatrixKey(o)+s),u+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(o){var s=this.calcOwnMatrix();if(o||!this.group)return s;var u=this.transformMatrixKey(o),g=this.matrixCache||(this.matrixCache={});return g.key===u?g.value:(this.group&&(s=A(this.group.calcTransformMatrix(!1),s)),g.key=u,g.value=s,s)},calcOwnMatrix:function(){var o=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===o)return s.value;var u=this._calcTranslateMatrix(),g={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=o,s.value=i.composeMatrix(g),s.value},_getNonTransformedDimensions:function(){var o=this.strokeWidth,s=this.width+o,u=this.height+o;return{x:s,y:u}},_getTransformedDimensions:function(o,s){typeof o>"u"&&(o=this.skewX),typeof s>"u"&&(s=this.skewY);var u,g,f,p=o===0&&s===0;if(this.strokeUniform?(g=this.width,f=this.height):(u=this._getNonTransformedDimensions(),g=u.x,f=u.y),p)return this._finalizeDimensions(g*this.scaleX,f*this.scaleY);var v=i.sizeAfterTransform(g,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:o,skewY:s});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(o,s){return this.strokeUniform?{x:o+this.strokeWidth,y:s+this.strokeWidth}:{x:o,y:s}},_calculateCurrentDimensions:function(){var o=this.getViewportTransform(),s=this._getTransformedDimensions(),u=a(s,o,!0);return u.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(h,A){if(A){if(A.toLive)return h+": url(#SVGID_"+A.id+"); ";var a=new t.Color(A),o=h+": "+a.toRgb()+"; ",s=a.getAlpha();return s!==1&&(o+=h+"-opacity: "+s.toString()+"; "),o}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var A=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity<"u"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",C=h?"":this.getSvgFilter(),y=c("fill",this.fill),w=c("stroke",this.stroke);return[w,"stroke-width: ",a,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",f,"; ",y,"fill-rule: ",A,"; ","opacity: ",p,";",C,v].join("")},getSvgSpanStyles:function(h,A){var a="; ",s=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+a:"",o=h.strokeWidth?"stroke-width: "+h.strokeWidth+a:"",s=s,u=h.fontSize?"font-size: "+h.fontSize+"px"+a:"",g=h.fontStyle?"font-style: "+h.fontStyle+a:"",f=h.fontWeight?"font-weight: "+h.fontWeight+a:"",p=h.fill?c("fill",h.fill):"",v=h.stroke?c("stroke",h.stroke):"",C=this.getSvgTextDecoration(h),y=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return C&&(C="text-decoration: "+C+a),[v,o,s,u,g,f,C,p,y,A?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(A){return h[A.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,A){var a=h?this.calcTransformMatrix():this.calcOwnMatrix(),o='transform="'+t.util.matrixToSVG(a);return o+(A||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var A=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,A),'" y="',i(-this.height/2,A),'" width="',i(this.width,A),'" height="',i(this.height,A),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,A){A=A||{};var a=A.reviver,o=A.additionalTransform||"",s=[this.getSvgTransform(!0,o),this.getSvgCommons()].join(""),u=h.indexOf("COMMON_PARTS");return h[u]=s,a?a(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,A){A=A||{};var a=A.noStyle,o=A.reviver,s=a?"":'style="'+this.getSvgStyles()+'" ',u=A.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=g&&g.absolutePositioned,v=this.stroke,C=this.fill,y=this.shadow,w,E=[],B,b=h.indexOf("COMMON_PARTS"),D=A.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,B='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(o)+`</clipPath>
`),p&&E.push("<g ",u,this.getSvgCommons(),` >
`),E.push("<g ",this.getSvgTransform(!1),p?"":u+this.getSvgCommons(),` >
`),w=[s,f,a?"":this.addPaintOrder()," ",D?'transform="'+D+'" ':""].join(""),h[b]=w,C&&C.toLive&&E.push(C.toSVG(this)),v&&v.toLive&&E.push(v.toSVG(this)),y&&E.push(y.toSVG(this)),g&&E.push(B),E.push(h.join("")),E.push(`</g>
`),p&&E.push(`</g>
`),o?o(E.join("")):E.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=t.util.object.extend,i="stateProperties";function h(a,o,s){var u={},g=!0;s.forEach(function(f){u[f]=a[f]}),c(a[o],u,g)}function A(a,o,s){if(a===o)return!0;if(Array.isArray(a)){if(!Array.isArray(o)||a.length!==o.length)return!1;for(var u=0,g=a.length;u<g;u++)if(!A(a[u],o[u]))return!1;return!0}else if(a&&typeof a=="object"){var f=Object.keys(a),p;if(!o||typeof o!="object"||!s&&f.length!==Object.keys(o).length)return!1;for(var u=0,g=f.length;u<g;u++)if(p=f[u],!(p==="canvas"||p==="group")&&!A(a[p],o[p]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(a){a=a||i;var o="_"+a;return Object.keys(this[o]).length<this[a].length?!0:!A(this[o],this,!0)},saveState:function(a){var o=a&&a.propertySet||i,s="_"+o;return this[s]?(h(this,s,this[o]),a&&a.stateProperties&&h(this,s,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var o=a.propertySet||i;return a.propertySet=o,this["_"+o]={},this.saveState(a),this}})}(),function(){var c=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var A=i.x,a=i.y,o,s,u=Object.keys(this.oCoords),g=u.length-1,f;for(this.__corner=0;g>=0;g--)if(f=u[g],!!this.isControlVisible(f)&&(s=this._getImageLines(h?this.oCoords[f].touchCorner:this.oCoords[f].corner),o=this._findCrossPoints({x:A,y:a},s),o!==0&&o%2===1))return this.__corner=f,f;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var A=this.controls[h];i[h].corner=A.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=A.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),A=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/a[0],1/a[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-A.x/2,-A.y/2,A.x,A.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var A=this._calculateCurrentDimensions(),a=this.borderScaleFactor,o=A.x+a,s=A.y+a,u=typeof h.hasControls<"u"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-o/2,-s/2,o,s),u&&(i.beginPath(),this.forEachControl(function(f,p,v){f.withConnection&&f.getVisibility(v,p)&&(g=!0,i.moveTo(f.x*o,f.y*s),i.lineTo(f.x*o+f.offsetX,f.y*s+f.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,A){A=A||{};var a=t.util.sizeAfterTransform(this.width,this.height,h),o=this.strokeWidth,s=this.strokeUniform,u=this.borderScaleFactor,g=a.x+o*(s?this.canvas.getZoom():h.scaleX)+u,f=a.y+o*(s?this.canvas.getZoom():h.scaleY)+u;return i.save(),this._setLineDash(i,A.borderDashArray||this.borderDashArray),i.strokeStyle=A.borderColor||this.borderColor,i.strokeRect(-g/2,-f/2,g,f),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var A=this.canvas.getRetinaScaling(),a,o;return i.setTransform(A,0,0,A,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(s,u,g){o=g.oCoords[u],s.getVisibility(g,u)&&(a&&(o=t.util.transformPoint(o,a)),s.render(i,o.x,o.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var h=function(){},A=i.onComplete||h,a=i.onChange||h,o=this;return t.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){c.set("left",s),o.requestRenderAll(),a()},onComplete:function(){c.setCoords(),A()}})},fxCenterObjectV:function(c,i){i=i||{};var h=function(){},A=i.onComplete||h,a=i.onChange||h,o=this;return t.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){c.set("top",s),o.requestRenderAll(),a()},onComplete:function(){c.setCoords(),A()}})},fxRemove:function(c,i){i=i||{};var h=function(){},A=i.onComplete||h,a=i.onChange||h,o=this;return t.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){c.set("opacity",s),o.requestRenderAll(),a()},onComplete:function(){o.remove(c),A()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,h,A=[];for(i in arguments[0])c.push(i);for(var a=0,o=c.length;a<o;a++)i=c[a],h=a!==o-1,A.push(this._animate(i,arguments[0][i],arguments[1],h));return A}else return this._animate.apply(this,arguments)},_animate:function(c,i,h,A){var a=this,o;i=i.toString(),h?h=t.util.object.clone(h):h={},~c.indexOf(".")&&(o=c.split("."));var s=a.colorProperties.indexOf(c)>-1||o&&a.colorProperties.indexOf(o[1])>-1,u=o?this.get(o[0])[o[1]]:this.get(c);"from"in h||(h.from=u),s||(~i.indexOf("=")?i=u+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(f,p,v){return h.abort.call(a,f,p,v)},onChange:function(f,p,v){o?a[o[0]][o[1]]=f:a.set(c,f),!A&&h.onChange&&h.onChange(f,p,v)},onComplete:function(f,p,v){A||(a.setCoords(),h.onComplete&&h.onComplete(f,p,v))}};return s?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,u){s||(s=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(u)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,u){return this.callSuper("_set",s,u),typeof a[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var u=this.calcLinePoints();s.moveTo(u.x1,u.y1),s.lineTo(u.x2,u.y2),s.lineWidth=this.strokeWidth;var g=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return h(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,g=s*this.width*.5,f=u*this.height*.5,p=s*this.width*-.5,v=u*this.height*-.5;return{x1:g,x2:p,y1:f,y2:v}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,u,g){g=g||{};var f=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),p=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];u(new i.Line(p,h(f,g)))},i.Line.fromObject=function(s,u){function g(p){delete p.points,u&&u(p)}var f=A(s,!0);f.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",f,g,"points")};function o(s,u){var g=s.origin,f=s.axis1,p=s.axis2,v=s.dimension,C=u.nearest,y=u.center,w=u.farthest;return function(){switch(this.get(g)){case C:return Math.min(this.get(f),this.get(p));case y:return Math.min(this.get(f),this.get(p))+.5*this.get(v);case w:return Math.max(this.get(f),this.get(p))}}}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,o){return this.callSuper("_set",a,o),a==="radius"&&this.setRadius(o),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,o=0,s=0,u=(this.endAngle-this.startAngle)%360;if(u===0)a=["<circle ","COMMON_PARTS",'cx="'+o+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),f=h(this.endAngle),p=this.radius,v=i.util.cos(g)*p,C=i.util.sin(g)*p,y=i.util.cos(f)*p,w=i.util.sin(f)*p,E=u>180?"1":"0";a=['<path d="M '+v+" "+C," A "+p+" "+p," 0 ",+E+" 1"," "+y+" "+w,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(a,o){var s=i.parseAttributes(a,i.Circle.ATTRIBUTE_NAMES);if(!A(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,o(new i.Circle(s))};function A(a){return"radius"in a&&a.radius>=0}i.Circle.fromObject=function(a,o){i.Object._fromObject("Circle",a,o)}}(e),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var A=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-A,a),h.lineTo(0,-a),h.lineTo(A,a),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,A=this.height/2,a=[-h+" "+A,"0 "+-A,h+" "+A].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),i.Triangle.fromObject=function(h,A){return i.Object._fromObject("Triangle",h,A)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(A){this.callSuper("initialize",A),this.set("rx",A&&A.rx||0),this.set("ry",A&&A.ry||0)},_set:function(A,a){switch(this.callSuper("_set",A,a),A){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(A){return this.callSuper("toObject",["rx","ry"].concat(A))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(A){A.beginPath(),A.save(),A.transform(1,0,0,this.ry/this.rx,0,0),A.arc(0,0,this.rx,0,h,!1),A.restore(),this._renderPaintInOrder(A)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(A,a){var o=i.parseAttributes(A,i.Ellipse.ATTRIBUTE_NAMES);o.left=(o.left||0)-o.rx,o.top=(o.top||0)-o.ry,a(new i.Ellipse(o))},i.Ellipse.fromObject=function(A,a){i.Object._fromObject("Ellipse",A,a)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(A){this.callSuper("initialize",A),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(A){var a=this.rx?Math.min(this.rx,this.width/2):0,o=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,u=this.height,g=-this.width/2,f=-this.height/2,p=a!==0||o!==0,v=1-.5522847498;A.beginPath(),A.moveTo(g+a,f),A.lineTo(g+s-a,f),p&&A.bezierCurveTo(g+s-v*a,f,g+s,f+v*o,g+s,f+o),A.lineTo(g+s,f+u-o),p&&A.bezierCurveTo(g+s,f+u-v*o,g+s-v*a,f+u,g+s-a,f+u),A.lineTo(g+a,f+u),p&&A.bezierCurveTo(g+v*a,f+u,g,f+u-v*o,g,f+u-o),A.lineTo(g,f+o),p&&A.bezierCurveTo(g,f+v*o,g+v*a,f,g+a,f),A.closePath(),this._renderPaintInOrder(A)},toObject:function(A){return this.callSuper("toObject",["rx","ry"].concat(A))},_toSVG:function(){var A=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',A,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(A,a,o){if(!A)return a(null);o=o||{};var s=i.parseAttributes(A,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var u=new i.Rect(h(o?i.util.object.clone(o):{},s));u.visible=u.visible&&u.width>0&&u.height>0,a(u)},i.Rect.fromObject=function(A,a){return i.Object._fromObject("Rect",A,a)}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.util.array.min,a=i.util.array.max,o=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(u,g){g=g||{},this.points=u||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(u){var g=this._calcDimensions(u),f,p=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-p,this.height=g.height-p,u.fromSVG||(f=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+p/2,y:g.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?g.left:f.x),typeof u.top>"u"&&(this.top=u.fromSVG?g.top:f.y),this.pathOffset={x:g.left+this.width/2+p/2,y:g.top+this.height/2+p/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=A(u,"x")||0,f=A(u,"y")||0,p=a(u,"x")||0,v=a(u,"y")||0,C=p-g,y=v-f;return{left:g,top:f,width:C,height:y}},toObject:function(u){return h(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],g=this.pathOffset.x,f=this.pathOffset.y,p=i.Object.NUM_FRACTION_DIGITS,v=0,C=this.points.length;v<C;v++)u.push(o(this.points[v].x-g,p),",",o(this.points[v].y-f,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var g,f=this.points.length,p=this.pathOffset.x,v=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-p,this.points[0].y-v);for(var C=0;C<f;C++)g=this.points[C],u.lineTo(g.x-p,g.y-v);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(u){return function(g,f,p){if(!g)return f(null);p||(p={});var v=i.parsePointsAttribute(g.getAttribute("points")),C=i.parseAttributes(g,i[u].ATTRIBUTE_NAMES);C.fromSVG=!0,f(new i[u](v,h(C,p)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(u,g){return i.Object._fromObject("Polyline",u,g,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(A){this.commonRender(A)&&(A.closePath(),this._renderPaintInOrder(A))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(A,a){i.Object._fromObject("Polygon",A,a,"points")}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,A=i.util.array.max,a=i.util.object.extend,o=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(u,g){g=o(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(u||[],g)},_setPath:function(u,g){this.path=i.util.makePathSimpler(Array.isArray(u)?u:i.util.parsePath(u)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(u){var g,f=0,p=0,v=0,C=0,y=0,w=0,E=-this.pathOffset.x,B=-this.pathOffset.y;u.beginPath();for(var b=0,D=this.path.length;b<D;++b)switch(g=this.path[b],g[0]){case"L":v=g[1],C=g[2],u.lineTo(v+E,C+B);break;case"M":v=g[1],C=g[2],f=v,p=C,u.moveTo(v+E,C+B);break;case"C":v=g[5],C=g[6],y=g[3],w=g[4],u.bezierCurveTo(g[1]+E,g[2]+B,y+E,w+B,v+E,C+B);break;case"Q":u.quadraticCurveTo(g[1]+E,g[2]+B,g[3]+E,g[4]+B),v=g[3],C=g[4],y=g[1],w=g[2];break;case"z":case"Z":v=f,C=p,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return a(this.callSuper("toObject",u),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(u){var g=this.toObject(["sourcePath"].concat(u));return g.sourcePath&&delete g.path,g},_toSVG:function(){var u=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,u)+", "+s(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},toSVG:function(u){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],g=[],f,p=0,v=0,C=0,y=0,w,E=0,B=this.path.length;E<B;++E){switch(f=this.path[E],f[0]){case"L":C=f[1],y=f[2],w=[];break;case"M":C=f[1],y=f[2],p=C,v=y,w=[];break;case"C":w=i.util.getBoundsOfCurve(C,y,f[1],f[2],f[3],f[4],f[5],f[6]),C=f[5],y=f[6];break;case"Q":w=i.util.getBoundsOfCurve(C,y,f[1],f[2],f[1],f[2],f[3],f[4]),C=f[3],y=f[4];break;case"z":case"Z":C=p,y=v;break}w.forEach(function(ee){u.push(ee.x),g.push(ee.y)}),u.push(C),g.push(y)}var b=h(u)||0,D=h(g)||0,R=A(u)||0,J=A(g)||0,Z=R-b,q=J-D;return{left:b,top:D,width:Z,height:q}}}),i.Path.fromObject=function(u,g){if(typeof u.sourcePath=="string"){var f=u.sourcePath;i.loadSVGFromURL(f,function(p){var v=p[0];v.setOptions(u),u.clipPath?i.util.enlivenObjects([u.clipPath],function(C){v.clipPath=C[0],g&&g(v)}):g&&g(v)})}else i.Object._fromObject("Path",u,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(u,g,f){var p=i.parseAttributes(u,i.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,g(new i.Path(p.d,a(p,f)))}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,A=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,o,s){o=o||{},this._objects=[],s&&this.callSuper("initialize",o),this._objects=a||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(s)this._updateObjectsACoords();else{var g=o&&o.centerPoint;o.originX!==void 0&&(this.originX=o.originX),o.originY!==void 0&&(this.originY=o.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete o.centerPoint,this.callSuper("initialize",o)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,o=this._objects.length;o--;)this._objects[o].setCoords(a)},_updateObjectsCoords:function(o){for(var o=o||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],o)},_updateObjectCoords:function(a,o){var s=a.left,u=a.top,g=!0;a.set({left:s-o.x,top:u-o.y}),a.group=this,a.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var o=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),a&&(o&&i.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,o?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,o){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(a,o);if(a==="canvas")for(;s--;)this._objects[s]._set(a,o);i.Object.prototype._set.call(this,a,o)},toObject:function(a){var o=this.includeDefaultValues,s=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var f=g.includeDefaultValues;g.includeDefaultValues=o;var p=g.toObject(a);return g.includeDefaultValues=f,p}),u=i.Object.prototype.toObject.call(this,a);return u.objects=s,u},toDatalessObject:function(a){var o,s=this.sourcePath;if(s)o=s;else{var u=this.includeDefaultValues;o=this._objects.map(function(f){var p=f.includeDefaultValues;f.includeDefaultValues=u;var v=f.toDatalessObject(a);return f.includeDefaultValues=p,v})}var g=i.Object.prototype.toDatalessObject.call(this,a);return g.objects=o,g},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=i.Object.prototype.shouldCache.call(this);if(a){for(var o=0,s=this._objects.length;o<s;o++)if(this._objects[o].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,o=this._objects.length;a<o;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var o=0,s=this._objects.length;o<s;o++)this._objects[o].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var o=0,s=this._objects.length;o<s;o++)if(this._objects[o].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-g/2,u,g)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(o){i.util.addTransformToObject(o,a),delete o.group,o.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var a=this._objects,o=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var u=new i.ActiveSelection([]);return u.set(s),u.type="activeSelection",o.remove(this),a.forEach(function(g){g.group=u,g.dirty=!0,o.add(g)}),u.canvas=o,u._objects=a,o._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(o){o.setCoords(a)}),this},_calcBounds:function(a){for(var o=[],s=[],u,g,f,p=["tr","br","bl","tl"],v=0,C=this._objects.length,y,w=p.length;v<C;++v){for(u=this._objects[v],f=u.calcACoords(),y=0;y<w;y++)g=p[y],o.push(f[g].x),s.push(f[g].y);u.aCoords=f}this._getBounds(o,s,a)},_getBounds:function(a,o,s){var u=new i.Point(h(a),h(o)),g=new i.Point(A(a),A(o)),f=u.y||0,p=u.x||0,v=g.x-u.x||0,C=g.y-u.y||0;this.width=v,this.height=C,s||this.setPositionByOrigin({x:p,y:f},"left","top")},_toSVG:function(a){for(var o=["<g ","COMMON_PARTS",` >
`],s=0,u=this._objects.length;s<u;s++)o.push("		",this._objects[s].toSVG(a));return o.push(`</g>
`),o},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",o=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),o].join("")},toClipPathSVG:function(a){for(var o=[],s=0,u=this._objects.length;s<u;s++)o.push("	",this._objects[s].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(o,{reviver:a})}}),i.Group.fromObject=function(a,o){var s=a.objects,u=i.util.object.clone(a,!0);if(delete u.objects,typeof s=="string"){i.loadSVGFromURL(s,function(g){var f=i.util.groupSVGElements(g,a,s),p=u.clipPath;delete u.clipPath,f.set(u),p?i.util.enlivenObjects([p],function(v){f.clipPath=v[0],o&&o(f)}):o&&o(f)});return}i.util.enlivenObjects(s,function(g){i.util.enlivenObjectEnlivables(a,u,function(){o&&o(new i.Group(g,u,!0))})})})}(e),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,A){A=A||{},this._objects=h||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;A.originX&&(this.originX=A.originX),A.originY&&(this.originY=A.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,A),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var A=i.Object.prototype.toObject.call(this),a=new i.Group([]);if(delete A.type,a.set(A),h.forEach(function(s){s.canvas.remove(s),s.group=a}),a._objects=h,!this.canvas)return a;var o=this.canvas;return o.add(a),o._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,A,a){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,A),a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var o=0,s=this._objects.length;o<s;o++)this._objects[o]._renderControls(h,a);h.restore()}}),i.ActiveSelection.fromObject=function(h,A){i.util.enlivenObjects(h.objects,function(a){delete h.objects,A&&A(new i.ActiveSelection(a,h,!0))})})}(e),function(c){var i=t.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,A){A||(A={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",A),this._initElement(h,A)},getElement:function(){return this._element||{}},setElement:function(h,A){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(A),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var A=t.filterBackend;A&&A.evictCachesForKey&&A.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var A=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-A,-a),h.lineTo(A,-a),h.lineTo(A,a),h.lineTo(-A,a),h.lineTo(-A,-a),h.closePath()}},toObject:function(h){var A=[];this.filters.forEach(function(o){o&&A.push(o.toObject())});var a=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:A});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],A=[],a,o=this._element,s=-this.width/2,u=-this.height/2,g="",f="";if(!o)return[];if(this.hasCrop()){var p=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+s+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),A.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',u-this.cropY,'" width="',o.width||o.naturalWidth,'" height="',o.height||o.height,f,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,a=["	<rect ",'x="',s,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?h=h.concat(a,A):h=h.concat(A,a),h},getSrc:function(h){var A=h?this._element:this._originalElement;return A?A.toDataURL?A.toDataURL():this.srcFromAttribute?A.getAttribute("src"):A.src:this.src||""},setSrc:function(h,A,a){return t.util.loadImage(h,function(o,s){this.setElement(o,a),this._setWidthHeight(),A&&A(this,s)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,A=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),o=a.scaleX,s=a.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||o>A&&s>A){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=o,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=u.width,v=u.height;g.width=p,g.height=v,this._element=g,this._lastScaleX=h.scaleX=o,this._lastScaleY=h.scaleY=s,t.filterBackend.applyFilters([h],u,p,v,this._element,f),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var A=this._originalElement,a=A.naturalWidth||A.width,o=A.naturalHeight||A.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=a,s.height=o,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,o),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,a,o,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var A=this._element;if(A){var a=this._filterScalingX,o=this._filterScalingY,s=this.width,u=this.height,g=Math.min,f=Math.max,p=f(this.cropX,0),v=f(this.cropY,0),C=A.naturalWidth||A.width,y=A.naturalHeight||A.height,w=p*a,E=v*o,B=g(s*a,C-w),b=g(u*o,y-E),D=-s/2,R=-u/2,J=g(s,C/a-p),Z=g(u,y/o-v);A&&h.drawImage(A,w,E,B,b,D,R,J,Z)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,A){this.setElement(t.util.getById(h),A),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,A){h&&h.length?t.util.enlivenObjects(h,function(a){A&&A(a)},"fabric.Image.filters"):A&&A()},_setWidthHeight:function(h){h||(h={});var A=this.getElement();this.width=h.width||A.naturalWidth||A.width||0,this.height=h.height||A.naturalHeight||A.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),A=this._element.width,a=this._element.height,o=1,s=1,u=0,g=0,f=0,p=0,v,C=this.width,y=this.height,w={width:C,height:y};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(o=s=t.util.findScaleToFit(this._element,w),v=(C-A*o)/2,h.alignX==="Min"&&(u=-v),h.alignX==="Max"&&(u=v),v=(y-a*s)/2,h.alignY==="Min"&&(g=-v),h.alignY==="Max"&&(g=v)),h.meetOrSlice==="slice"&&(o=s=t.util.findScaleToCover(this._element,w),v=A-C/o,h.alignX==="Mid"&&(f=v/2),h.alignX==="Max"&&(f=v),v=a-y/s,h.alignY==="Mid"&&(p=v/2),h.alignY==="Max"&&(p=v),A=C/o,a=y/s)):(o=C/A,s=y/a),{width:A,height:a,scaleX:o,scaleY:s,offsetLeft:u,offsetTop:g,cropX:f,cropY:p}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,A){var a=t.util.object.clone(h);t.util.loadImage(a.src,function(o,s){if(s){A&&A(null,!0);return}t.Image.prototype._initFilters.call(a,a.filters,function(u){a.filters=u||[],t.Image.prototype._initFilters.call(a,[a.resizeFilter],function(g){a.resizeFilter=g[0],t.util.enlivenObjectEnlivables(a,a,function(){var f=new t.Image(o,a);A(f,!1)})})})},null,a.crossOrigin)},t.Image.fromURL=function(h,A,a){t.util.loadImage(h,function(o,s){A&&A(new t.Image(o,a),s)},null,a&&a.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,A,a){var o=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(o["xlink:href"],A,i(a?t.util.object.clone(a):{},o))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},h=c.onComplete||i,A=c.onChange||i,a=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(o){a.rotate(o),A()},onComplete:function(){a.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(h,A){var a="precision "+A+` float;
void main(){}`,o=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(o,a),h.compileShader(o),!!h.getShaderParameter(o,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var A=document.createElement("canvas"),a=A.getContext("webgl")||A.getContext("experimental-webgl"),o=!1;if(a){t.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),o=t.maxTextureSize>=h;for(var s=["highp","mediump","lowp"],u=0;u<3;u++)if(c(a,s[u])){t.webGlPrecision=s[u];break}}return this.isSupported=o,o},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,A){this.dispose(),this.createWebGLCanvas(h,A),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,A)},chooseFastestCopyGLTo2DMethod:function(h,A){var a=typeof window.performance<"u",o;try{new ImageData(1,1),o=!0}catch{o=!1}var s=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(a&&o&&s&&u){var g=t.util.createCanvasElement(),f=new ArrayBuffer(h*A*4);if(t.forceGLPutImageData){this.imageBuffer=f,this.copyGLTo2D=m;return}var p={imageBuffer:f,destinationWidth:h,destinationHeight:A,targetCanvas:g},v,C,y;g.width=h,g.height=A,v=window.performance.now(),d.call(p,this.gl,p),C=window.performance.now()-v,v=window.performance.now(),m.call(p,this.gl,p),y=window.performance.now()-v,C>y?(this.imageBuffer=f,this.copyGLTo2D=m):this.copyGLTo2D=d}},createWebGLCanvas:function(h,A){var a=t.util.createCanvasElement();a.width=h,a.height=A;var o={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=a.getContext("webgl",o);s||(s=a.getContext("experimental-webgl",o)),s&&(s.clearColor(0,0,0,0),this.canvas=a,this.gl=s)},applyFilters:function(h,A,a,o,s,u){var g=this.gl,f;u&&(f=this.getCachedTexture(u,A));var p={originalWidth:A.width||A.originalWidth,originalHeight:A.height||A.originalHeight,sourceWidth:a,sourceHeight:o,destinationWidth:a,destinationHeight:o,context:g,sourceTexture:this.createTexture(g,a,o,!f&&A),targetTexture:this.createTexture(g,a,o),originalTexture:f||this.createTexture(g,a,o,!f&&A),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},v=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,v),h.forEach(function(C){C&&C.applyTo(p)}),l(p),this.copyGLTo2D(g,p),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(p.sourceTexture),g.deleteTexture(p.targetTexture),g.deleteFramebuffer(v),s.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,A,a,o,s){var u=h.createTexture();return h.bindTexture(h.TEXTURE_2D,u),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),o?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,o):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,A,a,0,h.RGBA,h.UNSIGNED_BYTE,null),u},getCachedTexture:function(h,A){if(this.textureCache[h])return this.textureCache[h];var a=this.createTexture(this.gl,A.width,A.height,A);return this.textureCache[h]=a,a},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:d,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,A={renderer:"",vendor:""};if(!h)return A;var a=h.getExtension("WEBGL_debug_renderer_info");if(a){var o=h.getParameter(a.UNMASKED_RENDERER_WEBGL),s=h.getParameter(a.UNMASKED_VENDOR_WEBGL);o&&(A.renderer=o.toLowerCase()),s&&(A.vendor=s.toLowerCase())}return this.gpuInfo=A,A}}}();function l(c){var i=c.targetCanvas,h=i.width,A=i.height,a=c.destinationWidth,o=c.destinationHeight;(h!==a||A!==o)&&(i.width=a,i.height=o)}function d(c,i){var h=c.canvas,A=i.targetCanvas,a=A.getContext("2d");a.translate(0,A.height),a.scale(1,-1);var o=h.height-A.height;a.drawImage(h,0,o,A.width,A.height,0,0,A.width,A.height)}function m(c,i){var h=i.targetCanvas,A=h.getContext("2d"),a=i.destinationWidth,o=i.destinationHeight,s=a*o*4,u=new Uint8Array(this.imageBuffer,0,s),g=new Uint8ClampedArray(this.imageBuffer,0,s);c.readPixels(0,0,a,o,c.RGBA,c.UNSIGNED_BYTE,u);var f=new ImageData(g,a,o);A.putImageData(f,0,0)}(function(){var c=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(h,A,a,o,s){var u=s.getContext("2d");u.drawImage(A,0,0,a,o);var g=u.getImageData(0,0,a,o),f=u.getImageData(0,0,a,o),p={sourceWidth:a,sourceHeight:o,imageData:g,originalEl:A,originalImageData:f,canvasEl:s,ctx:u,filterBackend:this};return h.forEach(function(v){v.applyTo(p)}),(p.imageData.width!==a||p.imageData.height!==o)&&(s.width=p.imageData.width,s.height=p.imageData.height),u.putImageData(p.imageData,0,0),p}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var A=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(A,h),c.compileShader(A),!c.getShaderParameter(A,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(A));var a=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(a,i),c.compileShader(a),!c.getShaderParameter(a,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(a));var o=c.createProgram();if(c.attachShader(o,A),c.attachShader(o,a),c.linkProgram(o),!c.getProgramParameter(o,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(o));var s=this.getAttributeLocations(c,o),u=this.getUniformLocations(c,o)||{};return u.uStepW=c.getUniformLocation(o,"uStepW"),u.uStepH=c.getUniformLocation(o,"uStepH"),{program:o,attributeLocations:s,uniformLocations:u}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,h){var A=i.aPosition,a=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a),c.enableVertexAttribArray(A),c.vertexAttribPointer(A,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,h,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,h,A;c.passes>1?(h=c.destinationWidth,A=c.destinationHeight,(c.sourceWidth!==h||c.sourceHeight!==A)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,h,A)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=t.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var h=i[c].length;h--;)if(this[c][h]!==i[c][h])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,h=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,c.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,h){c.activeTexture(h),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(c,i){var h=new t.Image.filters[c.type](c);return i&&i(h),h},function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.ColorMatrix=A(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var o=a.imageData,s=o.data,u=s.length,g=this.matrix,f,p,v,C,y,w=this.colorsOnly;for(y=0;y<u;y+=4)f=s[y],p=s[y+1],v=s[y+2],w?(s[y]=f*g[0]+p*g[1]+v*g[2]+g[4]*255,s[y+1]=f*g[5]+p*g[6]+v*g[7]+g[9]*255,s[y+2]=f*g[10]+p*g[11]+v*g[12]+g[14]*255):(C=s[y+3],s[y]=f*g[0]+p*g[1]+v*g[2]+C*g[3]+g[4]*255,s[y+1]=f*g[5]+p*g[6]+v*g[7]+C*g[8]+g[9]*255,s[y+2]=f*g[10]+p*g[11]+v*g[12]+C*g[13]+g[14]*255,s[y+3]=f*g[15]+p*g[16]+v*g[17]+C*g[18]+g[19]*255)},getUniformLocations:function(a,o){return{uColorMatrix:a.getUniformLocation(o,"uColorMatrix"),uConstants:a.getUniformLocation(o,"uConstants")}},sendUniformData:function(a,o){var s=this.matrix,u=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],g=[s[4],s[9],s[14],s[19]];a.uniformMatrix4fv(o.uColorMatrix,!1,u),a.uniform4fv(o.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Brightness=A(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var o=a.imageData,s=o.data,u,g=s.length,f=Math.round(this.brightness*255);for(u=0;u<g;u+=4)s[u]=s[u]+f,s[u+1]=s[u+1]+f,s[u+2]=s[u+2]+f}},getUniformLocations:function(a,o){return{uBrightness:a.getUniformLocation(o,"uBrightness")}},sendUniformData:function(a,o){a.uniform1f(o.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.Image.filters,a=i.util.createClass;A.Convolute=a(A.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(o){var s=Math.sqrt(this.matrix.length),u=this.type+"_"+s+"_"+(this.opaque?1:0),g=this.fragmentSource[u];return o.programCache.hasOwnProperty(u)||(o.programCache[u]=this.createProgram(o.context,g)),o.programCache[u]},applyTo2d:function(o){var s=o.imageData,u=s.data,g=this.matrix,f=Math.round(Math.sqrt(g.length)),p=Math.floor(f/2),v=s.width,C=s.height,y=o.ctx.createImageData(v,C),w=y.data,E=this.opaque?1:0,B,b,D,R,J,Z,q,ee,re,oe,U,L,I;for(U=0;U<C;U++)for(oe=0;oe<v;oe++){for(J=(U*v+oe)*4,B=0,b=0,D=0,R=0,I=0;I<f;I++)for(L=0;L<f;L++)q=U+I-p,Z=oe+L-p,!(q<0||q>=C||Z<0||Z>=v)&&(ee=(q*v+Z)*4,re=g[I*f+L],B+=u[ee]*re,b+=u[ee+1]*re,D+=u[ee+2]*re,E||(R+=u[ee+3]*re));w[J]=B,w[J+1]=b,w[J+2]=D,E?w[J+3]=u[J+3]:w[J+3]=R}o.imageData=y},getUniformLocations:function(o,s){return{uMatrix:o.getUniformLocation(s,"uMatrix"),uOpaque:o.getUniformLocation(s,"uOpaque"),uHalfSize:o.getUniformLocation(s,"uHalfSize"),uSize:o.getUniformLocation(s,"uSize")}},sendUniformData:function(o,s){o.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Grayscale=A(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var o=a.imageData,s=o.data,u,g=s.length,f,p=this.mode;for(u=0;u<g;u+=4)p==="average"?f=(s[u]+s[u+1]+s[u+2])/3:p==="lightness"?f=(Math.min(s[u],s[u+1],s[u+2])+Math.max(s[u],s[u+1],s[u+2]))/2:p==="luminosity"&&(f=.21*s[u]+.72*s[u+1]+.07*s[u+2]),s[u]=f,s[u+1]=f,s[u+2]=f},retrieveShader:function(a){var o=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(o)){var s=this.fragmentSource[this.mode];a.programCache[o]=this.createProgram(a.context,s)}return a.programCache[o]},getUniformLocations:function(a,o){return{uMode:a.getUniformLocation(o,"uMode")}},sendUniformData:function(a,o){var s=1;a.uniform1i(o.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Invert=A(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var o=a.imageData,s=o.data,u,g=s.length;for(u=0;u<g;u+=4)s[u]=255-s[u],s[u+1]=255-s[u+1],s[u+2]=255-s[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,o){return{uInvert:a.getUniformLocation(o,"uInvert")}},sendUniformData:function(a,o){a.uniform1i(o.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.Image.filters,a=i.util.createClass;A.Noise=a(A.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(o){if(this.noise!==0){var s=o.imageData,u=s.data,g,f=u.length,p=this.noise,v;for(g=0,f=u.length;g<f;g+=4)v=(.5-Math.random())*p,u[g]+=v,u[g+1]+=v,u[g+2]+=v}},getUniformLocations:function(o,s){return{uNoise:o.getUniformLocation(s,"uNoise"),uSeed:o.getUniformLocation(s,"uSeed")}},sendUniformData:function(o,s){o.uniform1f(s.uNoise,this.noise/255),o.uniform1f(s.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Pixelate=A(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var o=a.imageData,s=o.data,u=o.height,g=o.width,f,p,v,C,y,w,E,B,b,D,R;for(p=0;p<u;p+=this.blocksize)for(v=0;v<g;v+=this.blocksize)for(f=p*4*g+v*4,C=s[f],y=s[f+1],w=s[f+2],E=s[f+3],D=Math.min(p+this.blocksize,u),R=Math.min(v+this.blocksize,g),B=p;B<D;B++)for(b=v;b<R;b++)f=B*4*g+b*4,s[f]=C,s[f+1]=y,s[f+2]=w,s[f+3]=E},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,o){return{uBlocksize:a.getUniformLocation(o,"uBlocksize"),uStepW:a.getUniformLocation(o,"uStepW"),uStepH:a.getUniformLocation(o,"uStepH")}},sendUniformData:function(a,o){a.uniform1f(o.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,A=i.Image.filters,a=i.util.createClass;A.RemoveColor=a(A.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(o){var s=o.imageData,u=s.data,g,f=this.distance*255,p,v,C,y=new i.Color(this.color).getSource(),w=[y[0]-f,y[1]-f,y[2]-f],E=[y[0]+f,y[1]+f,y[2]+f];for(g=0;g<u.length;g+=4)p=u[g],v=u[g+1],C=u[g+2],p>w[0]&&v>w[1]&&C>w[2]&&p<E[0]&&v<E[1]&&C<E[2]&&(u[g+3]=0)},getUniformLocations:function(o,s){return{uLow:o.getUniformLocation(s,"uLow"),uHigh:o.getUniformLocation(s,"uHigh")}},sendUniformData:function(o,s){var u=new i.Color(this.color).getSource(),g=parseFloat(this.distance),f=[0+u[0]/255-g,0+u[1]/255-g,0+u[2]/255-g,1],p=[u[0]/255+g,u[1]/255+g,u[2]/255+g,1];o.uniform4fv(s.uLow,f),o.uniform4fv(s.uHigh,p)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in a)h[o]=A(h.ColorMatrix,{type:o,matrix:a[o],mainParameter:!1,colorsOnly:!0}),i.Image.filters[o].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,A=i.util.createClass;h.BlendColor=A(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var o=this.type+"_"+this.mode,s;return a.programCache.hasOwnProperty(o)||(s=this.buildSource(this.mode),a.programCache[o]=this.createProgram(a.context,s)),a.programCache[o]},applyTo2d:function(a){var o=a.imageData,s=o.data,u=s.length,g,f,p,v,C,y,w,E=1-this.alpha;w=new i.Color(this.color).getSource(),g=w[0]*this.alpha,f=w[1]*this.alpha,p=w[2]*this.alpha;for(var B=0;B<u;B+=4)switch(v=s[B],C=s[B+1],y=s[B+2],this.mode){case"multiply":s[B]=v*g/255,s[B+1]=C*f/255,s[B+2]=y*p/255;break;case"screen":s[B]=255-(255-v)*(255-g)/255,s[B+1]=255-(255-C)*(255-f)/255,s[B+2]=255-(255-y)*(255-p)/255;break;case"add":s[B]=v+g,s[B+1]=C+f,s[B+2]=y+p;break;case"diff":case"difference":s[B]=Math.abs(v-g),s[B+1]=Math.abs(C-f),s[B+2]=Math.abs(y-p);break;case"subtract":s[B]=v-g,s[B+1]=C-f,s[B+2]=y-p;break;case"darken":s[B]=Math.min(v,g),s[B+1]=Math.min(C,f),s[B+2]=Math.min(y,p);break;case"lighten":s[B]=Math.max(v,g),s[B+1]=Math.max(C,f),s[B+2]=Math.max(y,p);break;case"overlay":s[B]=g<128?2*v*g/255:255-2*(255-v)*(255-g)/255,s[B+1]=f<128?2*C*f/255:255-2*(255-C)*(255-f)/255,s[B+2]=p<128?2*y*p/255:255-2*(255-y)*(255-p)/255;break;case"exclusion":s[B]=g+v-2*g*v/255,s[B+1]=f+C-2*f*C/255,s[B+2]=p+y-2*p*y/255;break;case"tint":s[B]=g+v*E,s[B+1]=f+C*E,s[B+2]=p+y*E}},getUniformLocations:function(a,o){return{uColor:a.getUniformLocation(o,"uColor")}},sendUniformData:function(a,o){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,a.uniform4fv(o.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric,h=i.Image.filters,A=i.util.createClass;h.BlendImage=A(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var o=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(o)||(a.programCache[o]=this.createProgram(a.context,s)),a.programCache[o]},applyToWebGL:function(a){var o=a.context,s=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(o,s,o.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(o,o.TEXTURE1)},createTexture:function(a,o){return a.getCachedTexture(o.cacheKey,o._element)},calculateMatrix:function(){var a=this.image,o=a._element.width,s=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/o,-a.top/s,1]},applyTo2d:function(a){var o=a.imageData,s=a.filterBackend.resources,u=o.data,g=u.length,f=o.width,p=o.height,v,C,y,w,E,B,b,D,R,J,Z=this.image,q;s.blendImage||(s.blendImage=i.util.createCanvasElement()),R=s.blendImage,J=R.getContext("2d"),R.width!==f||R.height!==p?(R.width=f,R.height=p):J.clearRect(0,0,f,p),J.setTransform(Z.scaleX,0,0,Z.scaleY,Z.left,Z.top),J.drawImage(Z._element,0,0,f,p),q=J.getImageData(0,0,f,p).data;for(var ee=0;ee<g;ee+=4)switch(E=u[ee],B=u[ee+1],b=u[ee+2],D=u[ee+3],v=q[ee],C=q[ee+1],y=q[ee+2],w=q[ee+3],this.mode){case"multiply":u[ee]=E*v/255,u[ee+1]=B*C/255,u[ee+2]=b*y/255,u[ee+3]=D*w/255;break;case"mask":u[ee+3]=w;break}},getUniformLocations:function(a,o){return{uTransformMatrix:a.getUniformLocation(o,"uTransformMatrix"),uImage:a.getUniformLocation(o,"uImage")}},sendUniformData:function(a,o){var s=this.calculateMatrix();a.uniform1i(o.uImage,1),a.uniformMatrix3fv(o.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(a,o){i.Image.fromObject(a.image,function(s){var u=i.util.object.clone(a);u.image=s,o(new i.Image.filters.BlendImage(u))})}}(e),function(c){var i=c.fabric||(c.fabric={}),h=Math.pow,A=Math.floor,a=Math.sqrt,o=Math.abs,s=Math.round,u=Math.sin,g=Math.ceil,f=i.Image.filters,p=i.util.createClass;f.Resize=p(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,C){return{uDelta:v.getUniformLocation(C,"uDelta"),uTaps:v.getUniformLocation(C,"uTaps")}},sendUniformData:function(v,C){v.uniform2fv(C.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(C.uTaps,this.taps)},retrieveShader:function(v){var C=this.getFilterWindow(),y=this.type+"_"+C;if(!v.programCache.hasOwnProperty(y)){var w=this.generateShader(C);v.programCache[y]=this.createProgram(v.context,w)}return v.programCache[y]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),C=this.tempScale,y=this.getFilterWindow(),w=new Array(y),E=1;E<=y;E++)w[E-1]=v(E*C);return w},generateShader:function(w){for(var C=new Array(w),y=this.fragmentSourceTOP,w,E=1;E<=w;E++)C[E-1]=E+".0 * uDelta";return y+="uniform float uTaps["+w+`];
`,y+=`void main() {
`,y+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,y+=`  float sum = 1.0;
`,C.forEach(function(B,b){y+="  color += texture2D(uTexture, vTexCoord + "+B+") * uTaps["+b+`];
`,y+="  color += texture2D(uTexture, vTexCoord - "+B+") * uTaps["+b+`];
`,y+="  sum += 2.0 * uTaps["+b+`];
`}),y+=`  gl_FragColor = color / sum;
`,y+="}",y},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(C){if(C>=v||C<=-v)return 0;if(C<11920929e-14&&C>-11920929e-14)return 1;C*=Math.PI;var y=C/v;return u(C)/C*u(y)/y}},applyTo2d:function(v){var C=v.imageData,y=this.scaleX,w=this.scaleY;this.rcpScaleX=1/y,this.rcpScaleY=1/w;var E=C.width,B=C.height,b=s(E*y),D=s(B*w),R;this.resizeType==="sliceHack"?R=this.sliceByTwo(v,E,B,b,D):this.resizeType==="hermite"?R=this.hermiteFastResize(v,E,B,b,D):this.resizeType==="bilinear"?R=this.bilinearFiltering(v,E,B,b,D):this.resizeType==="lanczos"&&(R=this.lanczosResize(v,E,B,b,D)),v.imageData=R},sliceByTwo:function(v,C,y,w,E){var B=v.imageData,b=.5,D=!1,R=!1,J=C*b,Z=y*b,q=i.filterBackend.resources,ee,re,oe=0,U=0,L=C,I=0;for(q.sliceByTwo||(q.sliceByTwo=document.createElement("canvas")),ee=q.sliceByTwo,(ee.width<C*1.5||ee.height<y)&&(ee.width=C*1.5,ee.height=y),re=ee.getContext("2d"),re.clearRect(0,0,C*1.5,y),re.putImageData(B,0,0),w=A(w),E=A(E);!D||!R;)C=J,y=Z,w<A(J*b)?J=A(J*b):(J=w,D=!0),E<A(Z*b)?Z=A(Z*b):(Z=E,R=!0),re.drawImage(ee,oe,U,C,y,L,I,J,Z),oe=L,U=I,I+=Z;return re.getImageData(oe,U,w,E)},lanczosResize:function(v,C,y,w,E){function B(Q){var T,M,_,x,O,F,$,N,X,K,ie;for(I.x=(Q+.5)*Z,S.x=A(I.x),T=0;T<E;T++){for(I.y=(T+.5)*q,S.y=A(I.y),O=0,F=0,$=0,N=0,X=0,M=S.x-oe;M<=S.x+oe;M++)if(!(M<0||M>=C)){K=A(1e3*o(M-I.x)),L[K]||(L[K]={});for(var G=S.y-U;G<=S.y+U;G++)G<0||G>=y||(ie=A(1e3*o(G-I.y)),L[K][ie]||(L[K][ie]=J(a(h(K*ee,2)+h(ie*re,2))/1e3)),_=L[K][ie],_>0&&(x=(G*C+M)*4,O+=_,F+=_*b[x],$+=_*b[x+1],N+=_*b[x+2],X+=_*b[x+3]))}x=(T*w+Q)*4,R[x]=F/O,R[x+1]=$/O,R[x+2]=N/O,R[x+3]=X/O}return++Q<w?B(Q):D}var b=v.imageData.data,D=v.ctx.createImageData(w,E),R=D.data,J=this.lanczosCreate(this.lanczosLobes),Z=this.rcpScaleX,q=this.rcpScaleY,ee=2/this.rcpScaleX,re=2/this.rcpScaleY,oe=g(Z*this.lanczosLobes/2),U=g(q*this.lanczosLobes/2),L={},I={},S={};return B(0)},bilinearFiltering:function(v,C,y,w,E){var B,b,D,R,J,Z,q,ee,re,oe,U,L,I=0,S,Q=this.rcpScaleX,T=this.rcpScaleY,M=4*(C-1),_=v.imageData,x=_.data,O=v.ctx.createImageData(w,E),F=O.data;for(q=0;q<E;q++)for(ee=0;ee<w;ee++)for(J=A(Q*ee),Z=A(T*q),re=Q*ee-J,oe=T*q-Z,S=4*(Z*C+J),U=0;U<4;U++)B=x[S+U],b=x[S+4+U],D=x[S+M+U],R=x[S+M+4+U],L=B*(1-re)*(1-oe)+b*re*(1-oe)+D*oe*(1-re)+R*re*oe,F[I++]=L;return O},hermiteFastResize:function(v,C,y,w,E){for(var B=this.rcpScaleX,b=this.rcpScaleY,D=g(B/2),R=g(b/2),J=v.imageData,Z=J.data,q=v.ctx.createImageData(w,E),ee=q.data,re=0;re<E;re++)for(var oe=0;oe<w;oe++){for(var U=(oe+re*w)*4,L=0,I=0,S=0,Q=0,T=0,M=0,_=0,x=(re+.5)*b,O=A(re*b);O<(re+1)*b;O++)for(var F=o(x-(O+.5))/R,$=(oe+.5)*B,N=F*F,X=A(oe*B);X<(oe+1)*B;X++){var K=o($-(X+.5))/D,ie=a(N+K*K);ie>1&&ie<-1||(L=2*ie*ie*ie-3*ie*ie+1,L>0&&(K=4*(X+O*C),_+=L*Z[K+3],S+=L,Z[K+3]<255&&(L=L*Z[K+3]/250),Q+=L*Z[K],T+=L*Z[K+1],M+=L*Z[K+2],I+=L))}ee[U]=Q/I,ee[U+1]=T/I,ee[U+2]=M/I,ee[U+3]=_/S}return q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Contrast=A(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var o=a.imageData,s,g,u=o.data,g=u.length,f=Math.floor(this.contrast*255),p=259*(f+255)/(255*(259-f));for(s=0;s<g;s+=4)u[s]=p*(u[s]-128)+128,u[s+1]=p*(u[s+1]-128)+128,u[s+2]=p*(u[s+2]-128)+128}},getUniformLocations:function(a,o){return{uContrast:a.getUniformLocation(o,"uContrast")}},sendUniformData:function(a,o){a.uniform1f(o.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Saturation=A(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var o=a.imageData,s=o.data,u=s.length,g=-this.saturation,f,p;for(f=0;f<u;f+=4)p=Math.max(s[f],s[f+1],s[f+2]),s[f]+=p!==s[f]?(p-s[f])*g:0,s[f+1]+=p!==s[f+1]?(p-s[f+1])*g:0,s[f+2]+=p!==s[f+2]?(p-s[f+2])*g:0}},getUniformLocations:function(a,o){return{uSaturation:a.getUniformLocation(o,"uSaturation")}},sendUniformData:function(a,o){a.uniform1f(o.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Vibrance=A(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var o=a.imageData,s=o.data,u=s.length,g=-this.vibrance,f,p,v,C;for(f=0;f<u;f+=4)p=Math.max(s[f],s[f+1],s[f+2]),v=(s[f]+s[f+1]+s[f+2])/3,C=Math.abs(p-v)*2/255*g,s[f]+=p!==s[f]?(p-s[f])*C:0,s[f+1]+=p!==s[f+1]?(p-s[f+1])*C:0,s[f+2]+=p!==s[f+2]?(p-s[f+2])*C:0}},getUniformLocations:function(a,o){return{uVibrance:a.getUniformLocation(o,"uVibrance")}},sendUniformData:function(a,o){a.uniform1f(o.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Blur=A(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var o=a.filterBackend.resources,s,u,g=a.imageData.width,f=a.imageData.height;o.blurLayer1||(o.blurLayer1=i.util.createCanvasElement(),o.blurLayer2=i.util.createCanvasElement()),s=o.blurLayer1,u=o.blurLayer2,(s.width!==g||s.height!==f)&&(u.width=s.width=g,u.height=s.height=f);var p=s.getContext("2d"),v=u.getContext("2d"),C=15,y,w,E,B,b=this.blur*.06*.5;for(p.putImageData(a.imageData,0,0),v.clearRect(0,0,g,f),B=-C;B<=C;B++)y=(Math.random()-.5)/4,w=B/C,E=b*w*g+y,v.globalAlpha=1-Math.abs(w),v.drawImage(s,E,y),p.drawImage(u,0,0),v.globalAlpha=1,v.clearRect(0,0,u.width,u.height);for(B=-C;B<=C;B++)y=(Math.random()-.5)/4,w=B/C,E=b*w*f+y,v.globalAlpha=1-Math.abs(w),v.drawImage(s,y,E),p.drawImage(u,0,0),v.globalAlpha=1,v.clearRect(0,0,u.width,u.height);a.ctx.drawImage(s,0,0);var D=a.ctx.getImageData(0,0,s.width,s.height);return p.globalAlpha=1,p.clearRect(0,0,s.width,s.height),D},getUniformLocations:function(a,o){return{delta:a.getUniformLocation(o,"uDelta")}},sendUniformData:function(a,o){var s=this.chooseRightDelta();a.uniform2fv(o.delta,s)},chooseRightDelta:function(){var a=1,o=[0,0],s;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),s=a*this.blur*.12,this.horizontal?o[0]=s:o[1]=s,o}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Gamma=A(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var o=a.imageData,s=o.data,u=this.gamma,g=s.length,f=1/u[0],p=1/u[1],v=1/u[2],C;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),C=0,g=256;C<g;C++)this.rVals[C]=Math.pow(C/255,f)*255,this.gVals[C]=Math.pow(C/255,p)*255,this.bVals[C]=Math.pow(C/255,v)*255;for(C=0,g=s.length;C<g;C+=4)s[C]=this.rVals[s[C]],s[C+1]=this.gVals[s[C+1]],s[C+2]=this.bVals[s[C+2]]},getUniformLocations:function(a,o){return{uGamma:a.getUniformLocation(o,"uGamma")}},sendUniformData:function(a,o){a.uniform3fv(o.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.Composed=A(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(o){o.applyTo(a)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(a,o){var s=a.subFilters||[],u=s.map(function(f){return new i.Image.filters[f.type](f)}),g=new i.Image.filters.Composed({subFilters:u});return o&&o(g),g}}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,A=i.util.createClass;h.HueRotation=A(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,o=i.util.cos(a),s=i.util.sin(a),u=1/3,g=Math.sqrt(u)*s,f=1-o;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=o+f/3,this.matrix[1]=u*f-g,this.matrix[2]=u*f+g,this.matrix[5]=u*f+g,this.matrix[6]=o+u*f,this.matrix[7]=u*f-g,this.matrix[10]=u*f-g,this.matrix[11]=u*f+g,this.matrix[12]=o+u*f},isNeutralState:function(a){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,a)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var A="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(A),cacheProperties:i.Object.prototype.cacheProperties.concat(A),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,o){this.styles=o?o.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",o),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=i.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var a,o,s,u,g,f,p,v=0,C=this._textLines.length;v<C;v++)if(!(this.textAlign!=="justify"&&(v===C-1||this.isEndOfWrapping(v)))&&(u=0,g=this._textLines[v],o=this.getLineWidth(v),o<this.width&&(p=this.textLines[v].match(this._reSpacesAndTabs)))){s=p.length,a=(this.width-o)/s;for(var y=0,w=g.length;y<=w;y++)f=this.__charBounds[v][y],this._reSpaceAndTab.test(g[y])?(f.width+=a,f.kernedWidth+=a,f.left+=u,u+=a):f.left+=u}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),o=this.fontSize;return a.width+=o*a.zoomX,a.height+=o*a.zoomY,a},_render:function(a){var o=this.path;o&&!o.isNotVisible()&&o._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,o,s){if(a.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(o,s)},calcTextWidth:function(){for(var a=this.getLineWidth(0),o=1,s=this._textLines.length;o<s;o++){var u=this.getLineWidth(o);u>a&&(a=u)}return a},_renderTextLine:function(a,o,s,u,g,f){this._renderChars(a,o,s,u,g,f)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var o,s,u=a.fillStyle,g,f,p=this._getLeftOffset(),v=this._getTopOffset(),C=0,y=0,w,E,B=this.path,b,D=0,R=this._textLines.length;D<R;D++){if(o=this.getHeightOfLine(D),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",D)){v+=o;continue}g=this._textLines[D],s=this._getLineLeftOffset(D),y=0,C=0,f=this.getValueOfPropertyAt(D,0,"textBackgroundColor");for(var J=0,Z=g.length;J<Z;J++)w=this.__charBounds[D][J],E=this.getValueOfPropertyAt(D,J,"textBackgroundColor"),B?(a.save(),a.translate(w.renderLeft,w.renderTop),a.rotate(w.angle),a.fillStyle=E,E&&a.fillRect(-w.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),w.width,o/this.lineHeight),a.restore()):E!==f?(b=p+s+C,this.direction==="rtl"&&(b=this.width-b-y),a.fillStyle=f,f&&a.fillRect(b,v,y,o/this.lineHeight),C=w.left,y=w.width,f=E):y+=w.kernedWidth;E&&!B&&(b=p+s+C,this.direction==="rtl"&&(b=this.width-b-y),a.fillStyle=E,a.fillRect(b,v,y,o/this.lineHeight)),v+=o}a.fillStyle=u,this._removeShadow(a)}},getFontCache:function(a){var o=a.fontFamily.toLowerCase();i.charWidthsCache[o]||(i.charWidthsCache[o]={});var s=i.charWidthsCache[o],u=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return s[u]||(s[u]={}),s[u]},_measureChar:function(a,o,s,u){var g=this.getFontCache(o),f=this._getFontDeclaration(o),p=this._getFontDeclaration(u),v=s+a,C=f===p,y,w,E,B=o.fontSize/this.CACHE_FONT_SIZE,b;if(s&&g[s]!==void 0&&(E=g[s]),g[a]!==void 0&&(b=y=g[a]),C&&g[v]!==void 0&&(w=g[v],b=w-E),y===void 0||E===void 0||w===void 0){var D=this.getMeasuringContext();this._setTextStyles(D,o,!0)}return y===void 0&&(b=y=D.measureText(a).width,g[a]=y),E===void 0&&C&&s&&(E=D.measureText(s).width,g[s]=E),C&&w===void 0&&(w=D.measureText(v).width,g[v]=w,b=w-E),{width:y*B,kernedWidth:b*B}},getHeightOfChar:function(a,o){return this.getValueOfPropertyAt(a,o,"fontSize")},measureLine:function(a){var o=this._measureLine(a);return this.charSpacing!==0&&(o.width-=this._getWidthOfCharSpacing()),o.width<0&&(o.width=0),o},_measureLine:function(a){var o=0,s,u,g=this._textLines[a],f,p,v=0,C=new Array(g.length),y=0,w,E,B=this.path,b=this.pathSide==="right";for(this.__charBounds[a]=C,s=0;s<g.length;s++)u=g[s],p=this._getGraphemeBox(u,a,s,f),C[s]=p,o+=p.kernedWidth,f=u;if(C[s]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},B){switch(E=B.segmentsInfo[B.segmentsInfo.length-1].length,w=i.util.getPointOnPath(B.path,0,B.segmentsInfo),w.x+=B.pathOffset.x,w.y+=B.pathOffset.y,this.textAlign){case"left":y=b?E-o:0;break;case"center":y=(E-o)/2;break;case"right":y=b?0:E-o;break}for(y+=this.pathStartOffset*(b?-1:1),s=b?g.length-1:0;b?s>=0:s<g.length;b?s--:s++)p=C[s],y>E?y%=E:y<0&&(y+=E),this._setGraphemeOnPath(y,p,w),y+=p.kernedWidth}return{width:o,numOfSpaces:v}},_setGraphemeOnPath:function(a,o,s){var u=a+o.kernedWidth/2,g=this.path,f=i.util.getPointOnPath(g.path,u,g.segmentsInfo);o.renderLeft=f.x-s.x,o.renderTop=f.y-s.y,o.angle=f.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,o,s,u,g){var f=this.getCompleteStyleDeclaration(o,s),p=u?this.getCompleteStyleDeclaration(o,s-1):{},v=this._measureChar(a,f,u,p),C=v.kernedWidth,y=v.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),y+=w,C+=w);var E={width:y,left:0,height:f.fontSize,kernedWidth:C,deltaY:f.deltaY};if(s>0&&!g){var B=this.__charBounds[o][s-1];E.left=B.left+B.width+v.kernedWidth-v.width}return E},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var o=this._textLines[a],s=this.getHeightOfChar(a,0),u=1,g=o.length;u<g;u++)s=Math.max(this.getHeightOfChar(a,u),s);return this.__lineHeights[a]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,o=0,s=0,u=this._textLines.length;s<u;s++)a=this.getHeightOfLine(s),o+=s===u-1?a/this.lineHeight:a;return o},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,o){a.save();for(var s=0,u=this._getLeftOffset(),g=this._getTopOffset(),f=0,p=this._textLines.length;f<p;f++){var v=this.getHeightOfLine(f),C=v/this.lineHeight,y=this._getLineLeftOffset(f);this._renderTextLine(o,a,this._textLines[f],u+y,g+s+C,f),s+=v}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,o,s,u,g,f){var p=this.getHeightOfLine(f),v=this.textAlign.indexOf("justify")!==-1,C,y,w="",E,B=0,b,D=this.path,R=!v&&this.charSpacing===0&&this.isEmptyStyles(f)&&!D,J=this.direction==="ltr",Z=this.direction==="ltr"?1:-1,q,ee=o.canvas.getAttribute("dir");if(o.save(),ee!==this.direction&&(o.canvas.setAttribute("dir",J?"ltr":"rtl"),o.direction=J?"ltr":"rtl",o.textAlign=J?"left":"right"),g-=p*this._fontSizeFraction/this.lineHeight,R){this._renderChar(a,o,f,0,s.join(""),u,g,p),o.restore();return}for(var re=0,oe=s.length-1;re<=oe;re++)b=re===oe||this.charSpacing||D,w+=s[re],E=this.__charBounds[f][re],B===0?(u+=Z*(E.kernedWidth-E.width),B+=E.width):B+=E.kernedWidth,v&&!b&&this._reSpaceAndTab.test(s[re])&&(b=!0),b||(C=C||this.getCompleteStyleDeclaration(f,re),y=this.getCompleteStyleDeclaration(f,re+1),b=i.util.hasStyleChanged(C,y,!1)),b&&(D?(o.save(),o.translate(E.renderLeft,E.renderTop),o.rotate(E.angle),this._renderChar(a,o,f,re,w,-B/2,0,p),o.restore()):(q=u,this._renderChar(a,o,f,re,w,q,g,p)),w="",C=y,u+=Z*B,B=0);o.restore()},_applyPatternGradientTransformText:function(a){var o=i.util.createCanvasElement(),s,u=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return o.width=u,o.height=g,s=o.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(u,0),s.lineTo(u,g),s.lineTo(0,g),s.closePath(),s.translate(u/2,g/2),s.fillStyle=a.toLive(s),this._applyPatternGradientTransform(s,a),s.fill(),s.createPattern(o,"no-repeat")},handleFiller:function(a,o,s){var u,g;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(u=-this.width/2,g=-this.height/2,a.translate(u,g),a[o]=this._applyPatternGradientTransformText(s),{offsetX:u,offsetY:g}):(a[o]=s.toLive(a,this),this._applyPatternGradientTransform(a,s)):(a[o]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,o){return a.lineWidth=o.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",o.stroke)},_setFillStyles:function(a,o){return this.handleFiller(a,"fillStyle",o.fill)},_renderChar:function(a,o,s,u,g,f,p){var v=this._getStyleDeclaration(s,u),C=this.getCompleteStyleDeclaration(s,u),y=a==="fillText"&&C.fill,w=a==="strokeText"&&C.stroke&&C.strokeWidth,E,B;!w&&!y||(o.save(),y&&(E=this._setFillStyles(o,C)),w&&(B=this._setStrokeStyles(o,C)),o.font=this._getFontDeclaration(C),v&&v.textBackgroundColor&&this._removeShadow(o),v&&v.deltaY&&(p+=v.deltaY),y&&o.fillText(g,f-E.offsetX,p-E.offsetY),w&&o.strokeText(g,f-B.offsetX,p-B.offsetY),o.restore())},setSuperscript:function(a,o){return this._setScript(a,o,this.superscript)},setSubscript:function(a,o){return this._setScript(a,o,this.subscript)},_setScript:function(a,o,s){var u=this.get2DCursorLocation(a,!0),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),f=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),p={fontSize:g*s.size,deltaY:f+g*s.baseline};return this.setSelectionStyles(p,a,o),this},_getLineLeftOffset:function(a){var o=this.getLineWidth(a),s=this.width-o,u=this.textAlign,g=this.direction,p,f=0,p=this.isEndOfWrapping(a);return u==="justify"||u==="justify-center"&&!p||u==="justify-right"&&!p||u==="justify-left"&&!p?0:(u==="center"&&(f=s/2),u==="right"&&(f=s),u==="justify-center"&&(f=s/2),u==="justify-right"&&(f=s),g==="rtl"&&(f-=s),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var o=this.measureLine(a),s=o.width;return this.__lineWidths[a]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,o,s){var u=this._getStyleDeclaration(a,o);return u&&typeof u[s]<"u"?u[s]:this[s]},_renderTextDecoration:function(a,o){if(!(!this[o]&&!this.styleHas(o))){for(var s,u,g,f,p,v,C,y,w=this._getLeftOffset(),E=this._getTopOffset(),B,b,D,R,J,Z,q,ee,re=this.path,oe=this._getWidthOfCharSpacing(),U=this.offsets[o],L=0,I=this._textLines.length;L<I;L++){if(s=this.getHeightOfLine(L),!this[o]&&!this.styleHas(o,L)){E+=s;continue}C=this._textLines[L],Z=s/this.lineHeight,f=this._getLineLeftOffset(L),b=0,D=0,y=this.getValueOfPropertyAt(L,0,o),ee=this.getValueOfPropertyAt(L,0,"fill"),B=E+Z*(1-this._fontSizeFraction),u=this.getHeightOfChar(L,0),p=this.getValueOfPropertyAt(L,0,"deltaY");for(var S=0,Q=C.length;S<Q;S++)if(R=this.__charBounds[L][S],J=this.getValueOfPropertyAt(L,S,o),q=this.getValueOfPropertyAt(L,S,"fill"),g=this.getHeightOfChar(L,S),v=this.getValueOfPropertyAt(L,S,"deltaY"),re&&J&&q)a.save(),a.fillStyle=ee,a.translate(R.renderLeft,R.renderTop),a.rotate(R.angle),a.fillRect(-R.kernedWidth/2,U*g+v,R.kernedWidth,this.fontSize/15),a.restore();else if((J!==y||q!==ee||g!==u||v!==p)&&D>0){var T=w+f+b;this.direction==="rtl"&&(T=this.width-T-D),y&&ee&&(a.fillStyle=ee,a.fillRect(T,B+U*u+p,D,this.fontSize/15)),b=R.left,D=R.width,y=J,ee=q,u=g,p=v}else D+=R.kernedWidth;var T=w+f+b;this.direction==="rtl"&&(T=this.width-T-D),a.fillStyle=q,J&&q&&a.fillRect(T,B+U*u+p,D-oe,this.fontSize/15),E+=s}this._removeShadow(a)}},_getFontDeclaration:function(a,o){var s=a||this,u=this.fontFamily,g=i.Text.genericFonts.indexOf(u.toLowerCase())>-1,f=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||g?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,o?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",f].join(" ")},render:function(a){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a)))},_splitTextIntoLines:function(a){for(var o=a.split(this._reNewline),s=new Array(o.length),u=[`
`],g=[],f=0;f<o.length;f++)s[f]=i.util.string.graphemeSplit(o[f]),g=g.concat(s[f],u);return g.pop(),{_unwrappedLines:s,lines:o,graphemeText:g,graphemeLines:s}},toObject:function(a){var o=A.concat(a),s=this.callSuper("toObject",o);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(a,o){this.callSuper("set",a,o);var s=!1,u=!1;if(typeof a=="object")for(var g in a)g==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(g)!==-1,u=u||g==="path";else s=this._dimensionAffectingProps.indexOf(a)!==-1,u=a==="path";return u&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(a,o,s){if(!a)return o(null);var u=i.parseAttributes(a,i.Text.ATTRIBUTE_NAMES),g=u.textAnchor||"left";if(s=i.util.object.extend(s?h(s):{},u),s.top=s.top||0,s.left=s.left||0,u.textDecoration){var f=u.textDecoration;f.indexOf("underline")!==-1&&(s.underline=!0),f.indexOf("overline")!==-1&&(s.overline=!0),f.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in u&&(s.left+=u.dx),"dy"in u&&(s.top+=u.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in a?p=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(p=a.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=s.strokeWidth;s.strokeWidth=0;var C=new i.Text(p,s),y=C.getScaledHeight()/C.height,w=(C.height+C.strokeWidth)*C.lineHeight-C.height,E=w*y,B=C.getScaledHeight()+E,b=0;g==="center"&&(b=C.getScaledWidth()/2),g==="right"&&(b=C.getScaledWidth()),C.set({left:C.left-b,top:C.top-(B-C.fontSize*(.07+C._fontSizeFraction))/C.lineHeight,strokeWidth:typeof v<"u"?v:1}),o(C)},i.Text.fromObject=function(a,o){var s=h(a),u=a.path;return delete s.path,i.Object._fromObject("Text",s,function(g){g.styles=i.util.stylesFromArray(a.styles,a.text),u?i.Object._fromObject("Path",u,function(f){g.set("path",f),o(g)},"path"):o(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c<"u"&&!this.styles[c])return!0;var i=typeof c>"u"?this.styles:{line:this.styles[c]};for(var h in i)for(var A in i[h])for(var a in i[h][A])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var A in h)for(var a in h[A])if(typeof h[A][a][c]<"u")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,h=0,A,a,o=!0,s=0,u;for(var g in i){A=0;for(var f in i[g]){var u=i[g][f],p=u.hasOwnProperty(c);h++,p?(a?u[c]!==a&&(o=!1):a=u[c],u[c]===this[c]&&delete u[c]):o=!1,Object.keys(u).length!==0?A++:delete i[g][f]}A===0&&delete i[g]}for(var v=0;v<this._textLines.length;v++)s+=this._textLines[v].length;o&&h===s&&(this[c]=a,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,h,A,a;for(A in i){h=i[A];for(a in h)delete h[a][c],Object.keys(h[a]).length===0&&delete h[a];Object.keys(h).length===0&&delete i[A]}}},_extendStyles:function(c,i){var h=this.get2DCursorLocation(c);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(c,i){typeof c>"u"&&(c=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,A=h.length,a=0;a<A;a++){if(c<=h[a].length)return{lineIndex:a,charIndex:c};c-=h[a].length+this.missingNewlineOffset(a)}return{lineIndex:a-1,charIndex:h[a-1].length<c?h[a-1].length:c}},getSelectionStyles:function(c,i,h){typeof c>"u"&&(c=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||c);for(var A=[],a=c;a<i;a++)A.push(this.getStyleAtPosition(a,h));return A},getStyleAtPosition:function(c,i){var h=this.get2DCursorLocation(c),A=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return A||{}},setSelectionStyles:function(c,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var A=i;A<h;A++)this._extendStyles(A,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var h=this.styles&&this.styles[c];return h?h[i]:null},getCompleteStyleDeclaration:function(c,i){for(var h=this._getStyleDeclaration(c,i)||{},A={},a,o=0;o<this._styleProperties.length;o++)a=this._styleProperties[o],A[a]=typeof h[a]>"u"?this[a]:h[a];return A},_setStyleDeclaration:function(c,i,h){this.styles[c][i]=h},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,A=this.canvas.viewportTransform;h.save(),h.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,A=this.height+4;i.clearRect(-h/2,-A/2,h,A)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),A=this._getTopOffset(),a=this._getCursorBoundariesOffsets(i);return{left:h,top:A,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,A,a,o=0,s=0,u,g=this.get2DCursorLocation(i);a=g.charIndex,A=g.lineIndex;for(var f=0;f<A;f++)o+=this.getHeightOfLine(f);h=this._getLineLeftOffset(A);var p=this.__charBounds[A][a];return p&&(s=p.left),this.charSpacing!==0&&a===this._textLines[A].length&&(s-=this._getWidthOfCharSpacing()),u={top:o,left:h+(s>0?s:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(i,h){var A=this.get2DCursorLocation(),a=A.lineIndex,o=A.charIndex>0?A.charIndex-1:0,s=this.getValueOfPropertyAt(a,o,"fontSize"),u=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/u,f=i.topOffset,p=this.getValueOfPropertyAt(a,o,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,o,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,f+i.top+p,g,s)},renderSelection:function(i,h){for(var A=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(A),u=this.get2DCursorLocation(a),g=s.lineIndex,f=u.lineIndex,p=s.charIndex<0?0:s.charIndex,v=u.charIndex<0?0:u.charIndex,C=g;C<=f;C++){var y=this._getLineLeftOffset(C)||0,w=this.getHeightOfLine(C),E=0,B=0,b=0;if(C===g&&(B=this.__charBounds[g][p].left),C>=g&&C<f)b=o&&!this.isEndOfWrapping(C)?this.width:this.getLineWidth(C)||5;else if(C===f)if(v===0)b=this.__charBounds[f][v].left;else{var D=this._getWidthOfCharSpacing();b=this.__charBounds[f][v-1].left+this.__charBounds[f][v-1].width-D}E=w,(this.lineHeight<1||C===f&&this.lineHeight>1)&&(w/=this.lineHeight);var R=i.left+y+B,J=b-B,Z=w,q=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",Z=1,q=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(R=this.width-R-J),h.fillRect(R,i.top+i.topOffset+q,J,Z),i.topOffset+=E}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var A=t.util.stylesFromArray(i.styles,i.text),a=Object.assign({},i,{styles:A});if(c(a),a.styles)for(var o in a.styles)for(var s in a.styles[o])c(a.styles[o][s]);t.Object._fromObject("IText",a,h,"text")}}(),function(){var c=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,A,a){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:A,onComplete:function(){o.isAborted||i[a]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,A=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},A)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,A=i-1;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)h++,A--;for(;/\S/.test(this._text[A])&&A>-1;)h++,A--;return i-h},findWordBoundaryRight:function(i){var h=0,A=i;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)h++,A++;for(;/\S/.test(this._text[A])&&A<this._text.length;)h++,A++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,A=i-1;!/\n/.test(this._text[A])&&A>-1;)h++,A--;return i-h},findLineBoundaryRight:function(i){for(var h=0,A=i;!/\n/.test(this._text[A])&&A<this._text.length;)h++,A++;return i+h},searchWordBoundary:function(i,h){for(var A=this._text,a=this._reSpace.test(A[i])?i-1:i,o=A[a],s=t.reNonWord;!s.test(o)&&a>0&&a<A.length;)a+=h,o=A[a];return s.test(o)&&(a+=h===1?0:1),a},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),A=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),A=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),A=this.selectionStart,a=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||A===a)&&(A===h||a===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==A||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,A){var a=A.slice(0,i),o=t.util.string.graphemeSplit(a).length;if(i===h)return{selectionStart:o,selectionEnd:o};var s=A.slice(i,h),u=t.util.string.graphemeSplit(s).length;return{selectionStart:o,selectionEnd:o+u}},fromGraphemeToStringSelection:function(i,h,A){var a=A.slice(0,i),o=a.join("").length;if(i===h)return{selectionStart:o,selectionEnd:o};var s=A.slice(i,h),u=s.join("").length;return{selectionStart:o,selectionEnd:o+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),A=this.get2DCursorLocation(i),a=A.lineIndex,o=A.charIndex,s=this.getValueOfPropertyAt(a,o,"fontSize")*this.lineHeight,u=h.leftOffset,g=this.calcTransformMatrix(),f={x:h.left+u,y:h.top+h.topOffset+s},p=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,C=v.width/p,y=v.height/p,w=C-s,E=y-s,B=v.clientWidth/C,b=v.clientHeight/y;return f=t.util.transformPoint(f,g),f=t.util.transformPoint(f,this.canvas.viewportTransform),f.x*=B,f.y*=b,f.x<0&&(f.x=0),f.x>w&&(f.x=w),f.y<0&&(f.y=0),f.y>E&&(f.y=E),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var A=this.get2DCursorLocation(i,!0),a=this.get2DCursorLocation(h,!0),o=A.lineIndex,s=A.charIndex,u=a.lineIndex,g=a.charIndex,f,p;if(o!==u){if(this.styles[o])for(f=s;f<this._unwrappedTextLines[o].length;f++)delete this.styles[o][f];if(this.styles[u])for(f=g;f<this._unwrappedTextLines[u].length;f++)p=this.styles[u][f],p&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+f-g]=p);for(f=o+1;f<=u;f++)delete this.styles[f];this.shiftLineStyles(u,o-u)}else if(this.styles[o]){p=this.styles[o];var v=g-s,C,y;for(f=s;f<g;f++)delete p[f];for(y in this.styles[o])C=parseInt(y,10),C>=g&&(p[C-v]=p[y],delete p[y])}},shiftLineStyles:function(i,h){var A=c(this.styles);for(var a in this.styles){var o=parseInt(a,10);o>i&&(this.styles[o+h]=A[o],A[o-h]||delete this.styles[o])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,A,a){var o,s={},u=!1,g=this._unwrappedTextLines[i].length===h;A||(A=1),this.shiftLineStyles(i,A),this.styles[i]&&(o=this.styles[i][h===0?h:h-1]);for(var f in this.styles[i]){var p=parseInt(f,10);p>=h&&(u=!0,s[p-h]=this.styles[i][f],g&&h===0||delete this.styles[i][f])}var v=!1;for(u&&!g&&(this.styles[i+A]=s,v=!0),v&&A--;A>0;)a&&a[A-1]?this.styles[i+A]={0:c(a[A-1])}:o?this.styles[i+A]={0:c(o)}:delete this.styles[i+A],A--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,A,a){this.styles||(this.styles={});var o=this.styles[i],s=o?c(o):{};A||(A=1);for(var u in s){var g=parseInt(u,10);g>=h&&(o[g+A]=s[g],s[g-A]||delete o[g])}if(this._forceClearCache=!0,a){for(;A--;)Object.keys(a[A]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+A]=c(a[A]));return}if(o)for(var f=o[h?h-1:1];f&&A--;)this.styles[i][h+A]=c(f)},insertNewStyleBlock:function(i,h,A){for(var a=this.get2DCursorLocation(h,!0),o=[0],s=0,u=0;u<i.length;u++)i[u]===`
`?(s++,o[s]=0):o[s]++;o[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,o[0],A),A=A&&A.slice(o[0]+1)),s&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+o[0],s);for(var u=1;u<s;u++)o[u]>0?this.insertCharStyleObject(a.lineIndex+u,0,o[u],A):A&&this.styles[a.lineIndex+u]&&A[0]&&(this.styles[a.lineIndex+u][0]=A[0]),A=A&&A.slice(o[u]+1);o[u]>0&&this.insertCharStyleObject(a.lineIndex+u,0,o[u],A)},setSelectionStartEndWithShift:function(i,h,A){A<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=A):A>i&&A<h?this._selectionDirection==="right"?this.selectionEnd=A:this.selectionStart=A:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=A)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),h=this.selectionStart,A=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(h,A,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),h=0,A=0,a=0,o=0,s=0,u,g,f=0,p=this._textLines.length;f<p&&a<=i.y;f++)a+=this.getHeightOfLine(f)*this.scaleY,s=f,f>0&&(o+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));u=this._getLineLeftOffset(s),A=u*this.scaleX,g=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+A);for(var v=0,C=g.length;v<C&&(h=A,A+=this.__charBounds[s][v].kernedWidth*this.scaleX,A<=i.x);v++)o++;return this._getNewSelectionStartFromOffset(i,h,A,o,C)},_getNewSelectionStartFromOffset:function(c,i,h,A,a){var o=c.x-i,s=h-c.x,u=s>o||s<0?0:1,g=A+u;return this.flipX&&(g=a-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,A=this._text.length,a=h.length,o,s,u=a-A,g=this.selectionStart,f=this.selectionEnd,p=g!==f,v,C,y;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),E=g>w.selectionStart;p?(o=this._text.slice(g,f),u+=f-g):a<A&&(E?o=this._text.slice(f+u,f):o=this._text.slice(g,g-u)),s=h.slice(w.selectionEnd-u,w.selectionEnd),o&&o.length&&(s.length&&(v=this.getSelectionStyles(g,g+1,!1),v=s.map(function(){return v[0]})),p?(C=g,y=f):E?(C=f-o.length,y=f):(C=f,y=f+o.length),this.removeStyleFromTo(C,y)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(v=t.copiedTextStyle),this.insertNewStyleBlock(s,g,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(c,i){var h=this._getLineLeftOffset(c),A;return i>0&&(A=this.__charBounds[c][i-1],h+=A.left+A.width),h},getDownCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),A=this.get2DCursorLocation(h),a=A.lineIndex;if(a===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-h;var o=A.charIndex,s=this._getWidthBeforeCursor(a,o),u=this._getIndexOnLine(a+1,s),g=this._textLines[a].slice(o);return g.length+u+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),A=this.get2DCursorLocation(h),a=A.lineIndex;if(a===0||c.metaKey||c.keyCode===33)return-h;var o=A.charIndex,s=this._getWidthBeforeCursor(a,o),u=this._getIndexOnLine(a-1,s),g=this._textLines[a].slice(0,o),f=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+u-g.length+(1-f)},_getIndexOnLine:function(c,i){for(var h=this._textLines[c],A=this._getLineLeftOffset(c),a=A,o=0,s,u,g=0,f=h.length;g<f;g++)if(s=this.__charBounds[c][g].width,a+=s,a>i){u=!0;var p=a-s,v=a,C=Math.abs(p-i),y=Math.abs(v-i);o=y<C?g:g-1;break}return u||(o=h.length-1),o},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var h="get"+c+"CursorOffset",A=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(A):this.moveCursorWithoutShift(A),A!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,h){var A;if(c.altKey)A=this["findWordBoundary"+h](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)A=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof A<"u"&&this[i]!==A)return this[i]=A,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var h="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i>"u"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,h,A){typeof A>"u"&&(A=h),A>h&&this.removeStyleFromTo(h,A);var a=t.util.string.graphemeSplit(c);this.insertNewStyleBlock(a,h,i),this._text=[].concat(this._text.slice(0,h),a,this._text.slice(A)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),A=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(A)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var A=!0,a=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",a?'text-decoration="'+a+'" ':"",'style="',this.getSvgStyles(A),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,A){var a=[],o=[],s=h,u;this._setSVGBg(o);for(var g=0,f=this._textLines.length;g<f;g++)u=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(o,g,A+u,s),this._setSVGTextLineText(a,g,A+u,s),s+=this.getHeightOfLine(g);return{textSpans:a,textBgRects:o}},_createTextCharSpan:function(h,A,a,o){var s=h!==h.trim()||h.match(i),u=this.getSvgSpanStyles(A,s),g=u?'style="'+u+'"':"",f=A.deltaY,p="",v=t.Object.NUM_FRACTION_DIGITS;return f&&(p=' dy="'+c(f,v)+'" '),['<tspan x="',c(a,v),'" y="',c(o,v),'" ',p,g,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,A,a,o){var s=this.getHeightOfLine(A),u=this.textAlign.indexOf("justify")!==-1,g,f,p="",v,C,y=0,w=this._textLines[A],E;o+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var B=0,b=w.length-1;B<=b;B++)E=B===b||this.charSpacing,p+=w[B],v=this.__charBounds[A][B],y===0?(a+=v.kernedWidth-v.width,y+=v.width):y+=v.kernedWidth,u&&!E&&this._reSpaceAndTab.test(w[B])&&(E=!0),E||(g=g||this.getCompleteStyleDeclaration(A,B),f=this.getCompleteStyleDeclaration(A,B+1),E=t.util.hasStyleChanged(g,f,!0)),E&&(C=this._getStyleDeclaration(A,B)||{},h.push(this._createTextCharSpan(p,C,a,o)),p="",g=f,a+=y,y=0)},_pushTextBgRect:function(h,A,a,o,s,u){var g=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(A),' x="',c(a,g),'" y="',c(o,g),'" width="',c(s,g),'" height="',c(u,g),`"></rect>
`)},_setSVGTextLineBg:function(h,A,a,o){for(var s=this._textLines[A],u=this.getHeightOfLine(A)/this.lineHeight,g=0,f=0,p,v,C=this.getValueOfPropertyAt(A,0,"textBackgroundColor"),y=0,w=s.length;y<w;y++)p=this.__charBounds[A][y],v=this.getValueOfPropertyAt(A,y,"textBackgroundColor"),v!==C?(C&&this._pushTextBgRect(h,C,a+f,o,g,u),f=p.left,g=p.width,C=v):g+=p.kernedWidth;v&&this._pushTextBgRect(h,v,a+f,o,g,u)},_getFillAttributes:function(h){var A=h&&typeof h=="string"?new t.Color(h):"";return!A||!A.getSource()||A.getAlpha()===1?'fill="'+h+'"':'opacity="'+A.getAlpha()+'" fill="'+A.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var A=0,a=0,o=0;o<h;o++)A+=this.getHeightOfLine(o);return a=this.getHeightOfLine(o),{lineTop:A,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var A=t.Object.prototype.getSvgStyles.call(this,h);return A+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var A=0,a=0,o=0,s={},u=0;u<h.graphemeLines.length;u++)h.graphemeText[o]===`
`&&u>0?(a=0,o++,A++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[o])&&u>0&&(a++,o++),s[u]={line:A,offset:a},o+=h.graphemeLines[u].length,a+=h.graphemeLines[u].length;return s},styleHas:function(h,A){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[A];a&&(A=a.line)}return i.Text.prototype.styleHas.call(this,h,A)},isEmptyStyles:function(h){if(!this.styles)return!0;var A=0,a=h+1,o,s,u=!1,g=this._styleMap[h],f=this._styleMap[h+1];g&&(h=g.line,A=g.offset),f&&(a=f.line,u=a===h,o=f.offset),s=typeof h>"u"?this.styles:{line:this.styles[h]};for(var p in s)for(var v in s[p])if(v>=A&&(!u||v<o))for(var C in s[p][v])return!1;return!0},_getStyleDeclaration:function(h,A){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[h];if(!a)return null;h=a.line,A=a.offset+A}return this.callSuper("_getStyleDeclaration",h,A)},_setStyleDeclaration:function(h,A,a){var o=this._styleMap[h];h=o.line,A=o.offset+A,this.styles[h][A]=a},_deleteStyleDeclaration:function(h,A){var a=this._styleMap[h];h=a.line,A=a.offset+A,delete this.styles[h][A]},_getLineStyle:function(h){var A=this._styleMap[h];return!!this.styles[A.line]},_setLineStyle:function(h){var A=this._styleMap[h];this.styles[A.line]={}},_wrapText:function(h,A){var a=[],o;for(this.isWrapping=!0,o=0;o<h.length;o++)a=a.concat(this._wrapLine(h[o],o,A));return this.isWrapping=!1,a},_measureWord:function(h,A,a){var o=0,s,u=!0;a=a||0;for(var g=0,f=h.length;g<f;g++){var p=this._getGraphemeBox(h[g],A,g+a,s,u);o+=p.kernedWidth,s=h[g]}return o},_wrapLine:function(h,A,a,R){var s=0,u=this.splitByGrapheme,g=[],f=[],p=u?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),v="",C=0,y=u?"":" ",w=0,E=0,B=0,b=!0,D=this._getWidthOfCharSpacing(),R=R||0;p.length===0&&p.push([]),a-=R;for(var J=0;J<p.length;J++)v=u?p[J]:i.util.string.graphemeSplit(p[J]),w=this._measureWord(v,A,C),C+=v.length,s+=E+w-D,s>a&&!b?(g.push(f),f=[],s=w,b=!0):s+=D,!b&&!u&&f.push(y),f=f.concat(v),E=u?0:this._measureWord([y],A,C),C++,b=!1,w>B&&(B=w);return J&&g.push(f),B+R>this.dynamicMinWidth&&(this.dynamicMinWidth=B-D+R),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var A=i.Text.prototype._splitTextIntoLines.call(this,h),a=this._wrapText(A.lines,this.width),o=new Array(a.length),s=0;s<a.length;s++)o[s]=a[s].join("");return A.lines=o,A.graphemeLines=a,A},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var A in this._styleMap)this._textLines[A]&&(h[this._styleMap[A].line]=1);for(var A in this.styles)h[A]||delete this.styles[A]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,A){var a=i.util.stylesFromArray(h.styles,h.text),o=Object.assign({},h,{styles:a});return i.Object._fromObject("Textbox",o,A,"text")}}(e),function(){var c=t.controlsUtils,i=c.scaleSkewCursorStyleHandler,h=c.scaleCursorStyleHandler,A=c.scalingEqually,a=c.scalingYOrSkewingX,o=c.scalingXOrSkewingY,s=c.scaleOrSkewActionName,u=t.Object.prototype.controls;if(u.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:o,getActionName:s}),u.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:o,getActionName:s}),u.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),u.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),u.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:A}),u.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:A}),u.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:A}),u.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:A}),u.mtr=new t.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=u.mtr,g.tr=u.tr,g.br=u.br,g.tl=u.tl,g.bl=u.bl,g.mt=u.mt,g.mb=u.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Ne);class Uy{constructor(){Ce(this,"listenerMap");this.listenerMap={}}on(t,n){const{listenerMap:r}=this;r[t]?r[t].push(n):r[t]=[n]}off(t,n){const r=this.listenerMap[t];if(!r)return;const l=r.indexOf(n);l>=0&&r.splice(l,1)}emit(t,...n){const r=this.listenerMap[t];r&&r.forEach(l=>{l(...n)})}}const at=new Uy,ce={current:null},Hy=(e,t)=>{let n;return function(){clearTimeout(n),n=setTimeout(()=>{e.call(this,...arguments)},t)}},Yy=e=>new Promise(t=>setTimeout(t,e)),Tc=(e,t)=>{const n=Object.prototype.toString.call(e),r=Object.prototype.toString.call(t);if(n!==r)return!1;if(n==="[object Array]"){for(let l=0;l<e.length;++l)if(!Tc(e[l],t[l]))return!1;return!0}else if(n==="[object Object]"){for(const l in e)if(!Tc(e[l],t[l]))return!1;return!0}return e===t},Dc=e=>{const t=Object.prototype.toString.call(e);if(t==="[object Array]")return e.map(n=>Dc(n));if(t==="[object Object]"){const n={};for(const r in e)n[r]=Dc(e[r]);return n}return e},uo=class{constructor(t){Ce(this,"instance");Ce(this,"mapIdToChild");Ce(this,"mapInstanceToChild");Ce(this,"children");Ce(this,"width");Ce(this,"height");Ce(this,"backgroundImage");Ce(this,"backgroundColor");Ce(this,"bgFilter");Ce(this,"disableSave",!0);Ce(this,"operateStack",[]);Ce(this,"operateStack2",[]);Ce(this,"timer",0);Ce(this,"defaultJson",{type:"canvas",width:1280,height:720,backgroundImage:"",backgroundColor:"",children:[],bgFilter:""});ce.current=this,Ne.fabric.Object.prototype.transparentCorners=!1,Ne.fabric.Object.prototype.cornerStyle="circle",Ne.fabric.Object.prototype.cornerStrokeColor="#0066ff",Ne.fabric.Object.prototype.cornerColor="#0066ff",Ne.fabric.Object.prototype.borderDashArray=[5,5],Ne.fabric.Object.prototype.borderColor="#0066ff",Ne.fabric.Object.prototype.lockScalingFlip=!0,Ne.fabric.Object.prototype.minScaleLimit=.2,Ne.fabric.Image.prototype.lockScalingFlip=!0,this.mapIdToChild=new Map,this.mapInstanceToChild=new Map,this.width=t.width,this.height=t.height,this.backgroundImage=t.backgroundImage||"",this.backgroundColor=t.backgroundColor||"",this.bgFilter=t.bgFilter||"",this.instance=new Ne.fabric.Canvas(t.canvas,{width:t.width,height:t.height,backgroundColor:t.backgroundColor,preserveObjectStacking:!0}),this.instance.freeDrawingBrush.color="rgba(255,192,203,1)",this.instance.freeDrawingBrush.width=10,this.children=[],this.disableSave=!1,this.loadFromJson=this.loadFromJson.bind(this),this.getSize=this.getSize.bind(this),this.resize=this.resize.bind(this),this.replaceBackgroundImage=this.replaceBackgroundImage.bind(this),this.removeBackgroundImage=this.removeBackgroundImage.bind(this),this.setBackgroundColor=this.setBackgroundColor.bind(this),this.changeBgFilter=this.changeBgFilter.bind(this),this.onSelect=this.onSelect.bind(this),this.saveToStack=this.saveToStack.bind(this),this.emitUpdateConfig=Hy(this.emitUpdateConfig.bind(this),0),this.emitStackStatus=this.emitStackStatus.bind(this),this.instance.on("mouse:up",()=>{this.children.forEach(n=>{n.updateConfig()})}),this.instance.on("selection:created",this.onSelect),this.instance.on("selection:updated",this.onSelect),this.instance.on("selection:cleared",this.onSelect),this.instance.on("path:created",async n=>{const r=n.path.path.reduce((d,m)=>d+m.join(" "),""),l=await mA.create({path:r,x:n.path.left,y:n.path.top,width:n.path.width,height:n.path.height,strokeWidth:n.path.strokeWidth,color:n.path.stroke,shadow:n.path.shadow});this.instance.remove(n.path),this.add(l)}),setTimeout(this.onSelect)}generateId(){let t=Math.random()*1e8>>0;for(;this.children.some(n=>n.id===t);)t=Math.random()*1e8>>0;return t}onSelect(){at.emit("selection-change")}emitUpdateConfig(){at.emit("update-config")}binarySearch(t){const n=this.children[this.children.length-1];if(this.children.length===0||t>=n.zIndex)return this.children.length;let r=0,l=this.children.length-1;for(;r<=l;){const d=r+l>>1,m=this.children[d];if(m.zIndex===t)return d;m.zIndex>t?l=d-1:r=d+1}return r}saveToStack(){this.disableSave||(clearTimeout(this.timer),this.timer=window.setTimeout(()=>{const t=this.toJson(),n=this.operateStack.pop();if(Tc(n,t))return;const r=Dc(t);this.operateStack.push(n,r),this.operateStack.length>uo.OPERATE_STACK_MAX_LENGTH&&this.operateStack.shift(),this.operateStack2.length=0,this.emitStackStatus()},200))}emitStackStatus(){at.emit("stack-status",{undo:this.operateStack.length>0,redo:this.operateStack2.length>0})}static async createByJson(t,n){const r=new uo({canvas:t,width:n.width,height:n.height,bgFilter:""});return await r.loadFromJson(n,!1),r}async loadFromJson(t,n=!0){this.disableSave=!0,this.backgroundColor="",this.backgroundImage="",this.width=1280,this.height=720,this.instance.clear(),this.children=[],this.mapIdToChild.clear(),this.mapInstanceToChild.clear(),n||(this.defaultJson=JSON.parse(JSON.stringify(t))),this.resize(t.width,t.height),await this.replaceBackgroundImage(t.backgroundImage),await this.setBackgroundColor(t.backgroundColor),this.changeBgFilter(t.bgFilter);for(let r=0;r<t.children.length;++r){const l=t.children[r];let d=null;l.type==="image"?(l.config.zIndex=l.zIndex||0,d=await Pa.create(l.config)):l.type==="text"?(l.config.zIndex=l.zIndex||5,d=await to.create(l.config)):l.type==="rect"?(l.config.zIndex=l.zIndex||2,d=await S0.create(l.config)):l.type==="path"&&(l.config.zIndex=l.zIndex||4,d=await mA.create(l.config)),d&&this.add(d)}setTimeout(()=>{this.disableSave=!1})}getFormObject(){return{id:42,name:"画布",items:[{id:"replaceBackgroundImage",type:"upload-image",name:"替换背景图片",value:"",handler:this.replaceBackgroundImage},{id:"removeBackgroundImage",type:"button",name:"去除背景图片",value:"",handler:this.removeBackgroundImage},{id:"setBackgroundColor",type:"color",name:"设置背景颜色",value:this.backgroundColor,handler:this.setBackgroundColor},{id:"bgFilter",type:"select",name:"背景图滤镜",options:[{value:"",text:"原图"},{value:"Grayscale",text:"灰度"},{value:"Invert",text:"反色"},{value:"Sepia",text:"复古"},{value:"Vintage",text:"怀旧"},{value:"Kodachrome",text:"彩色"},{value:"Pixelate",text:"像素化"},{value:"Polaroid",text:"宝丽来"}],value:this.bgFilter||"",handler:this.changeBgFilter},{id:"size",type:"double-input",label:["宽","高"],name:"大小",value:[this.width,this.height],handler:this.resize}]}}getSize(){return{width:this.width,height:this.height}}resize(t,n){this.width=t,this.height=n,this.instance.setWidth(t),this.instance.setHeight(n);const r=document.getElementById("grid");r.style.width=`${t}px`,r.style.height=`${n}px`,this.instance.backgroundImage?(this.instance.backgroundImage.dispose(),this.replaceBackgroundImage(this.backgroundImage)):this.render(),this.saveToStack()}setBackgroundColor(t){return new Promise(n=>{this.instance.setBackgroundColor(t,()=>{this.backgroundColor=t,this.render(),this.emitUpdateConfig(),this.saveToStack(),n()})})}replaceBackgroundImage(t){return t===""?this.removeBackgroundImage():new Promise(n=>{this.instance.setBackgroundImage(t,()=>{this.backgroundImage=t;const r=this.instance.backgroundImage,{width:l=1,height:d=1}=r;r.scaleX=this.width/l,r.scaleY=this.height/d,this.bgFilter&&this.changeBgFilter(this.bgFilter),this.saveToStack(),n(),this.render()},{crossOrigin:"anonymous"})})}removeBackgroundImage(){this.instance.setBackgroundImage(null,()=>{this.backgroundImage="",this.saveToStack(),this.render()})}changeBgFilter(t){if(this.bgFilter=t||"",!this.backgroundImage){this.emitUpdateConfig();return}this.instance.backgroundImage.applyFilters(this.bgFilter?[new Ne.fabric.Image.filters[this.bgFilter]]:[]),this.render(),this.emitUpdateConfig(),this.saveToStack()}getSelected(){const t=this.instance.getActiveObjects(),n=[];return t.forEach(r=>{const l=this.mapInstanceToChild.get(r);l&&n.push(l)}),n}add(t){t.id=this.generateId();const n=this.binarySearch(t.zIndex);this.children.splice(n,0,t),this.instance.add(t.instance),this.bgFilter&&this.changeBgFilter(this.bgFilter),t.instance.moveTo(n),this.mapIdToChild.set(t.id,t),this.mapInstanceToChild.set(t.instance,t),this.saveToStack()}changeZIndex(t){const n=this.children.indexOf(t);if(n>=0){this.children.splice(n,1);const r=this.binarySearch(t.zIndex);this.children.splice(r,0,t),t.instance.moveTo(r)}}del(){const t=this.getSelected();this.children=this.children.filter(n=>t.indexOf(n)>=0?(this.instance.remove(n.instance),this.mapIdToChild.delete(n.id),this.mapInstanceToChild.delete(n.instance),!1):!0),this.instance.discardActiveObject(),this.render(),this.onSelect(),this.saveToStack()}async undo(){if(this.operateStack.length===0)return;this.operateStack2.push(this.operateStack.pop());const t=this.operateStack.slice(-1)[0]||this.defaultJson;this.emitStackStatus(),await this.loadFromJson(t),this.emitUpdateConfig()}async redo(){if(this.operateStack2.length===0)return;const t=this.operateStack2.pop();this.operateStack.push(t),this.emitStackStatus(),await this.loadFromJson(t),this.emitUpdateConfig()}async toImage(t){const n=this.instance.toDataURL();if(t){const r=document.createElement("canvas");r.width=this.width/4,r.height=this.height/4;const l=r.getContext("2d"),d=new Image;return d.src=n,await new Promise(m=>{d.onload=m}),l.drawImage(d,0,0,r.width,r.height),r.toDataURL("image/png")}return n}toJson(t){const n={type:"canvas",width:this.width,height:this.height,backgroundImage:this.backgroundImage,backgroundColor:this.backgroundColor,bgFilter:this.bgFilter,children:this.children.map(r=>r.getData())};if(t){const r=new Blob([JSON.stringify(n)],{type:"application/json"}),l=document.createElement("a"),d=URL.createObjectURL(r);l.href=d,l.download=`data-${Date.now()}.json`,l.click(),URL.revokeObjectURL(d)}return n}render(){this.instance.renderAll()}destroy(){this.children=[],this.mapIdToChild.clear(),this.mapInstanceToChild.clear(),this.instance.dispose()}};let oa=uo;Ce(oa,"OPERATE_STACK_MAX_LENGTH",10);const zy="_toast_14ttf_1",fA={"toast-root":"_toast-root_14ttf_1",toast:zy};class Wy{constructor(){Ce(this,"domContainer",null);Ce(this,"reactRoot",null);Ce(this,"id",0);Ce(this,"timer",0);this.destroy=this.destroy.bind(this)}getContainer(){const t=document.createElement("div");return t.id=`toast-root-${++this.id}`,t.className=fA["toast-root"],document.body.append(t),this.domContainer=t,t}destroy(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.domContainer&&(document.body.removeChild(this.domContainer),this.domContainer=null)}show(t,n=2e3){this.destroy();const r=this.getContainer();this.reactRoot=ks.createRoot(r),this.reactRoot.render(z("div",{className:fA.toast,children:t})),clearTimeout(this.timer),this.timer=window.setTimeout(this.destroy,n)}}const Zt=new Wy,Xy="_button_118g8_1",Vy="_loading_118g8_66",Jy="_rotate_118g8_1",us={button:Xy,"button-default":"_button-default_118g8_37","button-loading":"_button-loading_118g8_46","button-primary":"_button-primary_118g8_52",loading:Vy,rotate:Jy};var x0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],l=0;l<arguments.length;l++){var d=arguments[l];if(d){var m=typeof d;if(m==="string"||m==="number")r.push(d);else if(Array.isArray(d)){if(d.length){var c=n.apply(null,d);c&&r.push(c)}}else if(m==="object"){if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]")){r.push(d.toString());continue}for(var i in d)t.call(d,i)&&d[i]&&r.push(i)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(x0);const on=x0.exports;function tn({className:e,style:t,type:n,loading:r,children:l,onClick:d}){const[m,c]=te.exports.useState(!1),i=r===!0||m,h=n||"default",A=on(us.button,us[`button-${h}`],i&&us["button-loading"],e);return pe("div",{className:A,onClick:o=>{if(i||d===void 0)return;const s=d(o);s instanceof Promise&&(c(!0),s.finally(()=>{c(!1)}))},style:t,children:[i&&z(Dt,{type:"icon-loading",className:us.loading}),l]})}const Ky="_icon_5ds2t_1",qy={icon:Ky};function Dt({type:e,className:t,style:n,onClick:r}){const l=on(qy.icon,t);return z("svg",{className:l,style:n,onClick:r,children:z("use",{xlinkHref:`#${e}`})})}function nh({children:e}){const t=te.exports.useMemo(()=>{const n=document.getElementById("portal-root");if(!n){const r=document.createElement("div");return r.id="portal-root",document.body.append(r),r}return n},[]);return hu.exports.createPortal(e,t)}const Zy="_tips_pdf5z_1",e1={tips:Zy};function Oc({className:e,style:t,visible:n,position:r,text:l,children:d,onClick:m}){const c=te.exports.useRef(null),[i,h]=te.exports.useState(!1),[A,a]=te.exports.useState({left:0,top:0}),o=te.exports.useCallback(()=>{const v=c.current;v&&setTimeout(()=>{const{x:C,y,width:w,height:E}=v.children[0].getBoundingClientRect();a({left:C+w/2,top:r==="bottom"?y+E+12:y-44})})},[r]),s=()=>{h(!0)},u=()=>{h(!1)},g=n===void 0?i:n;te.exports.useEffect(()=>{if(o(),g)return window.addEventListener("mousemove",o),window.addEventListener("mousedown",o),()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mousedown",o)}},[g]);const{left:f,top:p}=A;return pe("div",{ref:c,className:e,style:t,onMouseEnter:s,onMouseLeave:u,onClick:m,children:[d,g&&z(nh,{children:z("div",{className:e1.tips,style:{left:f,top:p},children:l})})]})}const t1="_loading_myyfb_1",AA={"loading-wrapper":"_loading-wrapper_myyfb_1",loading:t1,"square-jelly-box-animate":"_square-jelly-box-animate_myyfb_1","square-jelly-box-shadow":"_square-jelly-box-shadow_myyfb_1"};function n1(e){const t=te.exports.useRef(null),n=e.size||96;return te.exports.useLayoutEffect(()=>{const r=t.current;if(!r)return;const l=n/3;r.style.setProperty("--size",`${n}px`),r.style.setProperty("--item-size",`${l}px`)},[]),pe("div",{ref:t,className:AA["loading-wrapper"],children:[z("div",{className:AA.loading}),z("div",{style:{marginTop:8},children:"加载中"})]})}const r1="_select_lsl65_1",i1="_sprites_lsl65_26",a1="_options_lsl65_30",s1="_option_lsl65_30",o1="_arrow_lsl65_73",Vn={"select-wrapper":"_select-wrapper_lsl65_1",select:r1,"select-focus":"_select-focus_lsl65_21",sprites:i1,options:a1,option:s1,"option-selected":"_option-selected_lsl65_66",arrow:o1};function l1({className:e,style:t,options:n,value:r,onChange:l}){const[d,m]=te.exports.useState(n[0].value),[c,i]=te.exports.useState(!1),[h,A]=te.exports.useState({left:0,top:0,width:0}),a=te.exports.useRef(null),o=te.exports.useMemo(()=>n.reduce((v,C)=>(v[C.value],v[C.value]=C,v),{}),[n]),s=te.exports.useCallback(()=>{i(!1),window.removeEventListener("click",s)},[]),u=v=>{c?s():(i(!0),setTimeout(()=>{window.addEventListener("click",s)}))},g=v=>{m(v.value),setTimeout(()=>{l&&l(v.value,v)})},f=te.exports.useCallback(()=>{const v=a.current;if(!v)return;const C=v.getBoundingClientRect(),{x:y,y:w,width:E,height:B}=C;A({left:y,top:w+B+8,width:E})},[]);te.exports.useEffect(()=>{if(c)return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[c]),te.exports.useLayoutEffect(()=>{m(n[0].value)},[n]);const p=r===void 0?d:r;return pe("div",{className:Vn["select-wrapper"],children:[z("div",{ref:a,className:on(Vn.select,c&&Vn["select-focus"],e),style:t,onClick:u,children:o[p]&&o[p].text}),c&&z(nh,{children:z("div",{className:Vn.options,style:h,children:n.map(v=>z("div",{className:on(Vn.option,p===v.value&&Vn["option-selected"]),onClick:()=>g(v),children:v.text},v.value))})}),z(Dt,{type:"icon-arrow-down",className:Vn.arrow})]})}const c1="_input_1i4y0_1",u1="_icon_1i4y0_35",hs={"input-wrapper":"_input-wrapper_1i4y0_1",input:c1,"with-icon":"_with-icon_1i4y0_31",icon:u1};function h1({className:e,style:t,value:n,type:r,placeholder:l,maxLength:d,onChange:m,onSearch:c}){const i=te.exports.useRef(""),h=()=>{r==="search"&&c&&c(i.current)};return pe("div",{className:hs["input-wrapper"],children:[z("input",{className:on(hs.input,r==="search"&&hs["with-icon"],e),placeholder:l,maxLength:d,style:t,value:n,onKeyDown:A=>{A.key==="Enter"&&h()},onChange:A=>{i.current=A.target.value,m&&m(A.target.value),A.target.value===""&&h()}}),r==="search"&&z(Dt,{className:hs.icon,type:"icon-search",onClick:h})]})}const f1={"collection-wrapper":"_collection-wrapper_lhpqc_1"},dA={title:"艺术字",hasMore:!1,items:[{id:"0",type:"material",name:"",internal:!0,tag:"",image:"./fonts/CangErShuYuanTi.png",isFav:!1,isShared:!1,data:{text:"仓耳舒圆体",fontFamily:"CangErShuYuanTi",color:"rgba(255, 255, 255, 1)",strokeColor:"#A63D13",width:200,height:45}},{id:"1",type:"material",name:"",internal:!0,tag:"",image:"./fonts/AlimamaShuHeiTi.png",isFav:!1,isShared:!1,data:{text:"阿里妈妈数黑体",fontFamily:"AlimamaShuHeiTi",width:280,height:45}},{id:"2",type:"material",name:"",internal:!0,tag:"",image:"./fonts/HongLeiZhuoShu.png",isFav:!1,isShared:!1,data:{text:"鸿雷拙书简体",fontFamily:"HongLeiZhuoShu",fontWeight:"bold",width:191,height:45}},{id:"3",type:"material",name:"",internal:!0,tag:"",image:"./fonts/YunFengHanChanTi.png",isFav:!1,isShared:!1,data:{text:"云峰寒蝉体",fontFamily:"YunFengHanChanTi",width:195,height:45}}]};function b0({type:e,noLimit:t=!1,showSearch:n=!0,showDropdown:r=!0,items:l=[],onDropdownItemClick:d,dropdownListGenerator:m}){const c=te.exports.useRef(e==="text"?[dA]:l),i=te.exports.useRef(!1),[h,A]=te.exports.useState(e==="text"?[dA]:l),[a,o]=te.exports.useState(!1),[s,u]=te.exports.useState(!1),g=te.exports.useCallback(async(w,E)=>{const B=ce.current;if(!(!B||i.current)){if(i.current=!0,e==="text"){const b={...w.data,x:E?E.x:0,y:E?E.y:0};delete b.width,delete b.height;const D=await to.create(b);i.current=!1,B.add(D)}else if(w.type==="template")location.replace(`${location.origin}?id=${w.id}`);else if(w.type==="material")if(w.tag==="背景")B.replaceBackgroundImage(w.image);else for(let b=0;b<w.data.children.length;++b){const D=w.data.children[b];let R=null;D.type==="image"?(D.config.zIndex=D.zIndex||0,R=await Pa.create({...D.config,x:D.config.x+(E?E.x:0),y:D.config.y+(E?E.y:0)})):D.type==="text"&&(D.config.zIndex=D.zIndex||5,R=await to.create({...D.config,x:D.config.x+(E?E.x:0),y:D.config.y+(E?E.y:0)})),R&&B.add(R)}i.current=!1}},[e]),f=w=>{A([w]),o(!0)},p=()=>{A(c.current),o(!1)},v=async(w,E)=>{d&&d(w,E)},C=w=>{if(w==="")A(c.current);else{const E=[];c.current.forEach(B=>{if(B.title.indexOf(w)>=0)E.push(B);else{const b=B.items.filter(D=>D.name.indexOf(w)>=0);b.length>0&&E.push({title:B.title,hasMore:!1,items:b})}}),A(E)}u(w!=="")},y=(w,E)=>{w.dataTransfer.setData("text/plain",JSON.stringify(E))};return te.exports.useEffect(()=>{e==="custom"&&(c.current=l,A(l))},[l]),te.exports.useEffect(()=>{const w=(E,B)=>{g(B,{x:E.x-B.data.width/2,y:E.y-B.data.height/2})};return at.on("drop-into-canvas",w),()=>{at.off("drop-into-canvas",w)}},[g]),pe("div",{className:f1["collection-wrapper"],children:[!a&&n&&z(h1,{type:"search",onSearch:C,placeholder:"输入搜索内容"}),h.length===0&&z("div",{className:"no-data",children:"暂无数据"}),h.map((w,E)=>{const B=t||a||s?w.items:w.items.slice(0,4);return pe("div",{className:"collection",children:[a&&!s&&pe("div",{className:"collection-back",onClick:p,children:[z(Dt,{type:"icon-arrow-left"}),w.title]}),!a&&pe("div",{className:"collection-header",children:[w.title&&z("div",{className:"collection-title",children:w.title}),w.hasMore&&pe("div",{className:"collection-more",onClick:()=>f(w),children:["更多 ",z(Dt,{type:"icon-arrow-right"})]})]}),z("div",{className:"collection-items",children:B.map(b=>pe("div",{className:"collection-item",onClick:D=>{D.target.nodeName!=="svg"&&(D.target.classList.contains("collection-dropdown")||g(b))},children:[r&&z(w1,{className:"collection-dropdown",list:m?m(b):[{icon:"icon-heart-fill",text:"收藏",checked:b.isFav}],onItemClick:D=>v(D,b)}),pe("div",{className:"collection-size",children:[b.data.width,"x",b.data.height]}),z("img",{className:"collection-image",src:b.image,onDragStart:D=>y(D,b)}),b.name&&z(p1,{className:"collection-name",children:b.name})]},b.id))})]},E)})]})}const A1="_inline_8cits_12",d1="_animate_8cits_18",g1="_move_8cits_1",gA={inline:A1,animate:d1,move:g1};function p1({className:e,children:t}){const n=te.exports.useRef(null),[r,l]=te.exports.useState(!1);return te.exports.useEffect(()=>{const d=n.current;if(!d)return;(async()=>{const c=d.parentElement.getBoundingClientRect().width;d.getBoundingClientRect().width>c&&l(!0)})()},[]),z("div",{className:e,style:{overflow:"hidden"},children:z("span",{className:on(gA.inline,r&&gA.animate),ref:n,children:t})})}const v1="_dropdown_1phsl_1",m1="_option_1phsl_9",C1="_icon_1phsl_24",y1="_checked_1phsl_28",Er={dropdown:v1,option:m1,icon:C1,checked:y1};function w1({className:e,style:t,list:n,onItemClick:r}){const l=te.exports.useRef(null),[d,m]=te.exports.useState({left:0,top:0}),[c,i]=te.exports.useState(!1),h=te.exports.useCallback(()=>{i(!1),window.removeEventListener("click",h)},[]),A=u=>{c?h():(o(),i(!0),setTimeout(()=>{window.addEventListener("click",h)}))},a=(u,g)=>{u.stopPropagation(),r&&r(g),h()},o=te.exports.useCallback(()=>{const u=l.current;if(!u)return;const{x:g,y:f}=u.getBoundingClientRect();m({left:g+32,top:f})},[]);te.exports.useEffect(()=>(o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}),[]);const s=n.filter(u=>u.hide!==!0);return pe("div",{className:on(Er["dropdown-wrapper"],e),style:t,ref:l,onClick:A,children:[z(Dt,{type:"icon-more"}),c&&z(nh,{children:z("div",{className:Er.dropdown,style:{left:d.left,top:d.top},children:s.map((u,g)=>pe("div",{className:Er.option,onClick:f=>a(f,u),children:[z(Dt,{type:u.icon,className:Er.icon}),z("div",{className:Er.text,children:u.text}),u.checked&&z(Dt,{type:"icon-check",className:Er.checked})]},g))})})]})}const E1="_checked_6ekqq_22",pA={switch:"_switch_6ekqq_1",checked:E1};function vA({checked:e,onChange:t}){const n=()=>{t&&t(!e)};return z("div",{className:on(pA.switch,e&&pA.checked),onClick:n})}class _o{constructor(t,n){Ce(this,"originWidth");Ce(this,"originHeight");Ce(this,"id",0);Ce(this,"zIndex",0);Ce(this,"config");Ce(this,"instance");this.originWidth=n.originWidth,this.originHeight=n.originHeight,delete n.originWidth,delete n.originHeight,this.instance=t,this.config=n,this.updateConfig=this.updateConfig.bind(this),this.setPosition=this.setPosition.bind(this),this.setScale=this.setScale.bind(this),this.resetSize=this.resetSize.bind(this),this.setAngle=this.setAngle.bind(this),this.setZIndex=this.setZIndex.bind(this),this.remove=this.remove.bind(this),this.instance.on("moving",this.updateConfig),this.instance.on("scaling",this.updateConfig),this.instance.on("rotating",this.updateConfig),setTimeout(()=>{this.setScale(n.width,n.height),n.zIndex>0&&this.setZIndex(n.zIndex)})}updateConfig(){const t=ce.current;if(!t)return;const{left:n=0,top:r=0,scaleX:l=1,scaleY:d=1,angle:m=0}=this.instance;this.config.x=n,this.config.y=r,this.config.width=this.originWidth*l,this.config.height=this.originHeight*d,this.config.angle=m,t.emitUpdateConfig(),t.saveToStack()}getBaseFormItems(){const{x:t,y:n,width:r,height:l}=this.config;return[{id:`${this.id}-position`,type:"double-input",label:["X","Y"],name:"位置",value:[t>>0,n>>0],handler:this.setPosition},{id:`${this.id}-scale`,type:"double-input",label:["宽","高"],name:"大小",value:[r>>0,l>>0],handler:this.setScale},{id:`${this.id}-resize`,type:"button",name:"重置大小",value:"",handler:this.resetSize},{id:`${this.id}-angle`,type:"range",name:"旋转角度",max:360,value:this.config.angle>>0,handler:this.setAngle},{id:`${this.id}-zIndex`,type:"range",name:"层级",max:40,value:this.zIndex,handler:this.setZIndex},{id:`${this.id}-remove`,type:"button",name:"移除组件",value:"",handler:this.remove}]}setPosition(t,n){const r=ce.current;r&&(this.config.x=t,this.config.y=n,this.instance.set("left",t),this.instance.set("top",n),r.saveToStack(),r.render())}setScale(t,n){const r=ce.current;if(!r)return;this.config.width=t,this.config.height=n;const l=t/this.originWidth,d=n/this.originHeight;this.instance.set("scaleX",l),this.instance.set("scaleY",d),this.instance.setCoords(),r.saveToStack(),r.render()}resetSize(){const t=ce.current;t&&(this.setScale(this.originWidth,this.originHeight),this.updateConfig(),t.render())}setAngle(t){const n=ce.current;n&&(t=t>>0,this.config.angle=t,this.instance.set("angle",t),n.saveToStack(),n.render())}setZIndex(t){const n=ce.current;n&&(t=t>>0,this.zIndex=t,n.changeZIndex(this),n.saveToStack(),n.render())}remove(){const t=ce.current;t&&(Zt.show("使用快捷键 Del 更方便哦~"),t.del())}}const B1={x:0,y:0,radius:0,angle:0,zIndex:1};class rh extends _o{constructor(n,r){super(n,r);Ce(this,"config");Ce(this,"instance");this.instance=n,this.config=r,this.zIndex=r.zIndex,this.replaceImage=this.replaceImage.bind(this),this.setRadius=this.setRadius.bind(this),this.changeFilter=this.changeFilter.bind(this),r.radius>0&&this.setRadius(r.radius)}static async create(n){if(n.imageUrl===""&&n.imageData){const i=document.createElement("canvas");i.width=n.imageData.width,i.height=n.imageData.height,i.getContext("2d").putImageData(n.imageData,0,0),n.imageUrl=i.toDataURL()}const r=document.createElement("img");r.src=n.imageUrl,r.crossOrigin="anonymous",r.onerror=i=>{Zt.show("图片加载失败")},await new Promise(i=>{r.onload=i});const{width:l,height:d}=r,m=Object.assign({},B1,{width:l,height:d},n),c={width:l,height:d,left:m.x,top:m.y,angle:m.angle,crossOrigin:"anonymous"};return await new Promise(i=>{const h=new Ne.fabric.Image(r,c);i(new rh(h,{imageUrl:m.imageUrl,x:m.x,y:m.y,width:m.width,height:m.height,radius:m.radius,angle:m.angle,filter:m.filter||"",originWidth:l,originHeight:d,zIndex:m.zIndex||0}))})}getFormObject(){const n=this.getBaseFormItems();return{id:this.id,name:"图片",items:[{id:`${this.id}-replaceImage`,type:"upload-image",name:"替换图片",value:"",handler:this.replaceImage},{id:`${this.id}-filter`,type:"select",name:"滤镜",options:[{value:"",text:"原图"},{value:"Grayscale",text:"灰度"},{value:"Invert",text:"反色"},{value:"Sepia",text:"复古"},{value:"Vintage",text:"怀旧"},{value:"Kodachrome",text:"彩色"},{value:"Pixelate",text:"像素化"},{value:"Polaroid",text:"宝丽来"}],value:this.config.filter,handler:this.changeFilter},{id:`${this.id}-radius`,type:"range",name:"圆角",value:this.config.radius,handler:this.setRadius},...n]}}changeFilter(n){const r=ce.current;r&&(this.config.filter=n||"",this.instance.applyFilters(this.config.filter?[new Ne.fabric.Image.filters[this.config.filter]]:[]),r.render(),r.emitUpdateConfig(),r.saveToStack())}setRadius(n){const r=ce.current;if(!r)return;n=n>>0,this.config.radius=n;const l=n/200;this.instance.set("clipPath",new Ne.fabric.Rect({width:this.originWidth,height:this.originHeight,rx:this.originWidth*l,ry:this.originHeight*l,left:-this.originWidth/2,top:-this.originHeight/2})),r.saveToStack(),r.render()}replaceImage(n){const r=ce.current;if(r)return new Promise(l=>{const d=document.createElement("img");d.src=n,d.onload=()=>{const{width:m,height:c}=d;this.config.imageUrl=n,this.instance.setSrc(n,()=>{this.originWidth=m,this.originHeight=c,this.setScale(this.config.width,this.config.height),this.setRadius(this.config.radius),this.config.filter&&this.changeFilter(this.config.filter),r.saveToStack(),l()})},d.onerror=m=>{Zt.show("图片加载失败")}})}getData(){return{type:"image",zIndex:this.zIndex,config:this.config}}}const Pa=rh,I1={text:"Text",fontSize:40,fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal",color:"rgba(0, 0, 0, 1)",strokeColor:"",pattern:"",underline:!1,linethrough:!1,x:0,y:0,width:0,height:0,angle:0,zIndex:5},Fc=new Set;Fc.add("Times New Roman");class ih extends _o{constructor(n,r){super(n,r);Ce(this,"config");Ce(this,"instance");this.instance=n,this.config=r,this.setText=this.setText.bind(this),this.setFontFamily=this.setFontFamily.bind(this),this.setFontSize=this.setFontSize.bind(this),this.setPattern=this.setPattern.bind(this),this.removePattern=this.removePattern.bind(this),this.setColor=this.setColor.bind(this),this.setStrokeColor=this.setStrokeColor.bind(this),this.fontStyleHandler=this.fontStyleHandler.bind(this),this.updateTextConfig=this.updateTextConfig.bind(this),this.instance.on("editing:exited",this.updateTextConfig),this.instance.on("changed",this.updateTextConfig)}static async create(n){const r=Object.assign({originWidth:0,originHeight:0},I1,n);if(!Fc.has(r.fontFamily)){const m=new FontFace(r.fontFamily,`url(./fonts/${r.fontFamily}.ttf)`);await m.load(),document.fonts.add(m),Fc.add(r.fontFamily)}let l="";r.pattern&&(l=await new Promise(m=>{new Ne.fabric.Pattern({source:r.pattern,repeat:"repeat"},m)}));const d=new Ne.fabric.IText(r.text,{left:r.x,top:r.y,angle:r.angle,fill:l||r.color,stroke:r.strokeColor,fontSize:r.fontSize,fontFamily:r.fontFamily,fontWeight:r.fontWeight,cursorColor:"rgb(0, 0, 0)"});return r.width===0&&(r.width=d.width||0),r.height===0&&(r.height=d.height||0),r.originWidth=d.width||0,r.originHeight=d.height||0,new ih(d,r)}updateTextConfig(){const n=ce.current;if(!n)return;const{text:r="",width:l=0,height:d=0,scaleX:m=1,scaleY:c=1}=this.instance;this.originWidth=l,this.originHeight=d,this.config.width=l*m,this.config.height=d*c,this.config.text=r,n.emitUpdateConfig()}setText(n){const r=ce.current;r&&(this.config.text=n,this.instance.set("text",n),this.updateTextConfig(),r.saveToStack(),r.render())}setFontFamily(n){const r=ce.current;r&&(this.config.fontFamily=n,this.instance.set("fontFamily",n),this.updateTextConfig(),r.saveToStack(),r.render())}setColor(n){const r=ce.current;r&&(this.config.color=n,this.config.pattern===""&&this.instance.set("fill",n),this.updateTextConfig(),r.saveToStack(),r.render())}setPattern(n){const r=ce.current;r&&new Ne.fabric.Pattern({source:n,repeat:"repeat"},l=>{this.config.pattern=n,this.instance.set("fill",l),r.saveToStack(),r.render()})}removePattern(){const n=ce.current;n&&(this.config.pattern="",this.instance.set("fill",this.config.color),n.saveToStack(),n.render())}setStrokeColor(n){const r=ce.current;r&&(this.config.strokeColor=n,this.instance.set("stroke",n),this.updateTextConfig(),r.saveToStack(),r.render())}setFontSize(n){const r=ce.current;r&&(this.config.fontSize=n,this.instance.set("fontSize",n),this.updateTextConfig(),r.saveToStack(),r.render())}fontStyleHandler(n){n==="icon-bold"?this.toggleFontWeight():n==="icon-italic"?this.toggleItalic():n==="icon-underline"?this.toggleUnderline():n==="icon-linethrough"&&this.toggleLinethrough()}toggleFontWeight(){const n=ce.current;n&&(this.config.fontWeight==="normal"?(this.config.fontWeight="bold",this.instance.set("fontWeight","bold")):(this.config.fontWeight="normal",this.instance.set("fontWeight","normal")),this.updateTextConfig(),n.saveToStack(),n.render())}toggleItalic(){const n=ce.current;n&&(this.config.fontStyle==="normal"?(this.config.fontStyle="italic",this.instance.set("fontStyle","italic")):(this.config.fontStyle="normal",this.instance.set("fontStyle","normal")),this.updateTextConfig(),n.saveToStack(),n.render())}toggleUnderline(){const n=ce.current;n&&(this.config.underline=!this.config.underline,this.instance.set("underline",this.config.underline),this.updateTextConfig(),n.saveToStack(),n.render())}toggleLinethrough(){const n=ce.current;n&&(this.config.linethrough=!this.config.linethrough,this.instance.set("linethrough",this.config.linethrough),this.updateTextConfig(),n.saveToStack(),n.render())}getFormObject(){const n=this.getBaseFormItems(),{fontWeight:r,fontStyle:l,underline:d,linethrough:m}=this.config;return{id:this.id,name:"文本",items:[{id:`${this.id}-text`,type:"textarea",name:"内容",value:this.config.text,handler:this.setText},{id:`${this.id}-setPattern`,type:"upload-image",name:"设置填充图片",value:"",handler:this.setPattern},{id:`${this.id}-removePattern`,type:"button",name:"移除填充图片",value:"",handler:this.removePattern},{id:`${this.id}-color`,type:"color",name:"颜色",value:this.config.color,handler:this.setColor},{id:`${this.id}-strokeColor`,type:"color",name:"描边颜色",value:this.config.strokeColor,handler:this.setStrokeColor},{id:`${this.id}-fontSize`,type:"range",name:"字体大小",max:200,value:this.config.fontSize,handler:this.setFontSize},{id:`${this.id}-fontStyle`,type:"icon-bar",name:"字体样式",iconTypes:["icon-bold","icon-italic","icon-underline","icon-linethrough"],labels:["加粗","斜体","下划线","删除线"],value:[r==="bold",l==="italic",d,m],handler:this.fontStyleHandler},...n]}}getData(){return{type:"text",zIndex:this.zIndex,config:this.config}}}const to=ih,x1={x:0,y:0,width:200,height:200,fill:"rgba(153, 153, 153, 1)",stroke:"",strokeWidth:0,radius:0,angle:0,zIndex:2};class ah extends _o{constructor(n,r){super(n,r);Ce(this,"config");Ce(this,"instance");this.instance=n,this.config=r,this.zIndex=r.zIndex,this.setFill=this.setFill.bind(this),this.setStrokeWidth=this.setStrokeWidth.bind(this),this.setStroke=this.setStroke.bind(this),this.setRadius=this.setRadius.bind(this)}static async create(n){const r=Object.assign({},x1,n);return await new Promise(l=>{const d=new Ne.fabric.Rect({left:r.x,top:r.y,width:200,height:200,fill:r.fill,stroke:r.stroke,strokeWidth:r.strokeWidth,rx:r.radius,ry:r.radius,strokeUniform:!0});l(new ah(d,{x:r.x,y:r.y,width:r.width,height:r.height,fill:r.fill,stroke:r.stroke,strokeWidth:r.strokeWidth,angle:r.angle,radius:r.radius,originWidth:r.width,originHeight:r.height,zIndex:r.zIndex||0}))})}getFormObject(){const n=this.getBaseFormItems().filter(r=>r.name!=="重置大小");return{id:this.id,name:"矩形",items:[{id:`${this.id}-fill`,type:"color",name:"填充颜色",value:this.config.fill,handler:this.setFill},{id:`${this.id}-stroke`,type:"color",name:"描边颜色",value:this.config.stroke,handler:this.setStroke},{id:`${this.id}-strokeWidth`,type:"range",name:"描边宽度",value:this.config.strokeWidth,handler:this.setStrokeWidth},{id:`${this.id}-radius`,type:"range",name:"圆角",value:this.config.radius,handler:this.setRadius},...n]}}setRadius(n){const r=ce.current;r&&(n=n>>0,this.config.radius=n,this.instance.set("rx",n),this.instance.set("ry",n),r.saveToStack(),r.emitUpdateConfig(),r.render())}setFill(n){const r=ce.current;r&&(this.config.fill=n,this.instance.set("fill",n),r.saveToStack(),r.emitUpdateConfig(),r.render())}setStrokeWidth(n){const r=ce.current;r&&(this.config.strokeWidth=n,this.instance.set("strokeWidth",n),r.saveToStack(),r.emitUpdateConfig(),r.render())}setStroke(n){const r=ce.current;r&&(this.config.stroke=n,this.instance.set("stroke",n),r.emitUpdateConfig(),r.saveToStack(),r.render())}getData(){return{type:"rect",zIndex:this.zIndex,config:this.config}}}const S0=ah,b1={x:0,y:0,angle:0,zIndex:4};class sh extends _o{constructor(n,r){super(n,r);Ce(this,"config");Ce(this,"instance");this.instance=n,this.config=r,this.zIndex=r.zIndex}static async create(n){const r=Object.assign({},b1,n);return await new Promise(l=>{const d=new Ne.fabric.Path(r.path,{fill:null,stroke:r.color,strokeWidth:r.strokeWidth,left:r.x,top:r.y,angle:r.angle,shadow:r.shadow?new Ne.fabric.Shadow({blur:r.shadow.blur,offsetX:r.shadow.offsetX,offsetY:r.shadow.offsetY,affectStroke:!0,color:r.shadow.color}):void 0,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10});l(new sh(d,{path:r.path,x:r.x,y:r.y,width:r.width,height:r.height,strokeWidth:r.strokeWidth,color:r.color,angle:r.angle,shadow:r.shadow,originWidth:r.width,originHeight:r.height,zIndex:r.zIndex||4}))})}getFormObject(){const n=this.getBaseFormItems();return{id:this.id,name:"绘线",items:n.filter(r=>r.name!=="重置大小")}}getData(){return{type:"path",zIndex:this.zIndex,config:this.config}}}const mA=sh,S1="_canvas_boe2o_1",Gi={canvas:S1,"resize-preview":"_resize-preview_boe2o_8","block-r":"_block-r_boe2o_16","block-b":"_block-b_boe2o_17","block-br":"_block-br_boe2o_18"};function _1(){const e=te.exports.useContext(ef),t=te.exports.useRef(null),n=te.exports.useRef(null),r=()=>{const d=ce.current;d&&(d.instance.discardActiveObject(),d.render(),at.emit("selection-change"))},l=(d,m)=>{d.preventDefault();const c=n.current,i=ce.current;if(!c||!i)return;const h=i.getSize(),A={x:d.pageX,y:d.pageY},a=m.indexOf("r")>=0,o=m.indexOf("b")>=0,s=g=>{const f=a?Math.max(0,h.width+g.pageX-A.x):h.width,p=o?Math.max(0,h.height+g.pageY-A.y):h.height;c.style.setProperty("width",`${f}px`),c.style.setProperty("height",`${p}px`)},u=g=>{const f=a?Math.max(0,h.width+g.pageX-A.x):h.width,p=o?Math.max(0,h.height+g.pageY-A.y):h.height;i.resize(f,p),c.style.setProperty("display","none"),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",u)};c.style.setProperty("display","block"),c.style.setProperty("width",`${h.width}px`),c.style.setProperty("height",`${h.height}px`),window.addEventListener("mousemove",s),window.addEventListener("mouseup",u)};return te.exports.useLayoutEffect(()=>{if(t.current)return e.id!==""?oa.createByJson(t.current,e.data):new oa({width:1280,height:720,canvas:t.current}),()=>{ce.current&&ce.current.destroy()}},[]),te.exports.useEffect(()=>{const d=document.getElementsByClassName("upper-canvas")[0];if(!d)return;d.style.outline="0",d.tabIndex=0;const m=A=>{const a=ce.current;if(!a)return;const o=A.key.toUpperCase();if(o==="DELETE"){a.del();return}(A.ctrlKey||A.metaKey)&&(o==="Z"?a.undo():o==="Y"&&a.redo())},c=A=>{document.body.click(),A.stopPropagation()},i=A=>{A.preventDefault()},h=A=>{if(A.preventDefault(),A.dataTransfer){const a=JSON.parse(A.dataTransfer.getData("text"));at.emit("drop-into-canvas",{x:A.offsetX,y:A.offsetY},a)}};return d.addEventListener("click",c),d.addEventListener("keydown",m),d.addEventListener("dragenter",i),d.addEventListener("dragover",i),d.addEventListener("drop",h),()=>{d.removeEventListener("click",c),d.removeEventListener("keydown",m),d.removeEventListener("dragenter",i),d.removeEventListener("dragover",i),d.removeEventListener("drop",h)}},[]),pe("div",{className:Gi.canvas,onClick:r,children:[pe("div",{id:"grid",className:"gap",children:[z("div",{ref:n,className:Gi["resize-preview"]}),z("div",{className:Gi["block-r"],onMouseDown:d=>l(d,"r")}),z("div",{className:Gi["block-b"],onMouseDown:d=>l(d,"b")}),z("div",{className:Gi["block-br"],onMouseDown:d=>l(d,"br")})]}),z("canvas",{className:"gap",ref:t})]})}const Q1="_header_1r0jm_1",k1={header:Q1,"save-modal":"_save-modal_1r0jm_49"};class T1{constructor(t,n){this.layerFrame=t,this.parent=n,this.type="Group",this.children=[]}get name(){var t,n;return(n=(t=this.layerFrame)===null||t===void 0?void 0:t.layerProperties.name)!==null&&n!==void 0?n:""}get opacity(){var t,n;return(n=(t=this.layerFrame)===null||t===void 0?void 0:t.layerProperties.opacity)!==null&&n!==void 0?n:0}get composedOpacity(){return this.parent.composedOpacity*(this.opacity/255)}addChild(t){this.children.push(t)}hasChildren(){return this.children.length!==0}freeze(){this.children.forEach(t=>{var n,r;return(r=(n=t).freeze)===null||r===void 0?void 0:r.call(n)}),Object.freeze(this.children)}}var Se;(function(e){e.SectionDividerSetting="lsct",e.TypeToolObjectSetting="TySh",e.UnicodeLayerName="luni",e.VectorStrokeData="vstk",e.ObjectBasedEffects="lfx2",e.GradientFillSetting="GdFl",e.SolidColorSheetSetting="SoCo",e.PatternFillSetting="PtFl",e.VectorStrokeContentData="vscg",e.BlendOptionsCapacity="iOpa",e.VectorMaskSetting1="vmsk",e.VectorMaskSetting2="vsms",e.HueSaturation="hue2",e.NestedSectionDividerSetting="lsdk",e.LayerId="lyid",e.ArtboardData="artb",e.SmartObjectPlacedLayerData="SoLE",e.PlacedLayerData="SoLd",e.LinkedLayer="lnkD",e.LinkedLayer2="lnk2",e.LinkedLayer3="lnk3"})(Se||(Se={}));var Mc;(function(e){e[e.Normal=0]="Normal",e[e.SceneGroup=1]="SceneGroup"})(Mc||(Mc={}));var Rt;(function(e){e[e.ClosedSubpathLength=0]="ClosedSubpathLength",e[e.ClosedSubpathBezierKnotLinked=1]="ClosedSubpathBezierKnotLinked",e[e.ClosedSubpathBezierKnotUnlinked=2]="ClosedSubpathBezierKnotUnlinked",e[e.OpenSubpathLength=3]="OpenSubpathLength",e[e.OpenSubpathBezierKnotLinked=4]="OpenSubpathBezierKnotLinked",e[e.OpenSubpathBezierKnotUnlinked=5]="OpenSubpathBezierKnotUnlinked",e[e.PathFillRule=6]="PathFillRule",e[e.Clipboard=7]="Clipboard",e[e.InitialFillRule=8]="InitialFillRule"})(Rt||(Rt={}));const Pc=(e,t)=>{const n=Math.max(e.length,t.length);for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0};class de extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype),this.name=new.target.name}}class D1 extends de{}class _0 extends de{}class O1 extends de{}class F1 extends de{}class M1 extends de{}class P1 extends de{}class L1 extends de{}class R1 extends de{}class N1 extends de{}class G1 extends de{}class Q0 extends de{}class k0 extends de{}class j1 extends de{}class $1 extends de{}class U1 extends de{}class H1 extends de{}class Y1 extends de{}class z1 extends de{}class W1 extends de{}class X1 extends de{}class V1 extends de{}class J1 extends de{}class K1 extends de{}class q1 extends de{}class la extends de{}class T0 extends de{}class Z1 extends de{}class CA extends de{}class Cl extends de{}class ew extends de{}class tw extends de{}class nw extends de{}class rw extends de{}class iw extends de{}class aw extends de{}class sw extends de{}class ow extends de{}class lw extends de{}class cw extends de{}class uw extends de{}class yA extends de{}class yl extends de{}class hw extends de{}class fw extends de{}function D0(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);if(n>=2097152)throw new T0;return n*4294967296+r}function Aw(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);if(n>=2097152||n<-2097152||n===-2097152&&r===0)throw new T0;return n*4294967296+r}const dw={u8:1,i8:1,u16:2,i16:2,u32:4,i32:4,f32:4,u64:8,i64:8,f64:8};class jn{constructor(t,n=0){this.dataView=t,this.position=n}static from(t){return new jn(new DataView(t.buffer,t.byteOffset,t.byteLength))}get length(){return this.dataView.byteLength}clone(t){const n=t!==void 0?t:this.position;return new jn(new DataView(this.dataView.buffer,this.dataView.byteOffset,this.dataView.byteLength),n)}pass(t){this.position+=t}unpass(t){this.position-=t}extract(t){if(this.position+t>this.dataView.byteLength)throw new X1;return new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+this.position,t)}iter(){return new Uint8Array(this.dataView.buffer,this.dataView.byteOffset+this.position)}take(t){const n=this.extract(t);return this.pass(t),n}peek(){return this.dataView.getUint8(this.position)}one(){const t=this.dataView.getUint8(this.position);return this.position+=1,t}read(t){const{dataView:n,position:r}=this;switch(this.pass(dw[t]),t){case"u8":return n.getUint8(r);case"u16":return n.getUint16(r);case"u32":return n.getUint32(r);case"u64":return D0(n,r);case"i8":return n.getInt8(r);case"i16":return n.getInt16(r);case"i32":return n.getInt32(r);case"i64":return Aw(n,r);case"f32":return n.getFloat32(r);case"f64":return n.getFloat64(r);default:throw new TypeError(`Invalid ReadType: ${t}`)}}readString(t){const n=this.take(t);return new TextDecoder().decode(n)}readUnicodeString(t=4){const n=this.read("u32")*2,r=this.take(n),l=new TextDecoder("utf-16be").decode(r);return this.padding(4+n,t),l.charCodeAt(l.length-1)===0?l.slice(0,-1):l}readFixedPoint32bit(){return this.read("u32")/(1<<16)}readIdString(){const t=this.read("u32");return this.readString(t||4)}padding(t,n){const r=t%n;r>0&&this.pass(n-r)}}const wl=(e,t,n)=>t<=e&&e<=n;function _s(e){return e.bottom-e.top}function gw(e){return e.right-e.left}function wA(e){return gw(e)*_s(e)}var no;(function(e){e.PassThrough="pass",e.Normal="norm",e.Dissolve="diss",e.Darken="dark",e.Multiply="mul ",e.ColorBurn="idiv",e.LinearBurn="lbrn",e.DarkerColor="dkCl",e.Lighten="lite",e.Screen="scrn",e.ColorDodge="div ",e.LinearDodge="lddg",e.LighterColor="lgCl",e.Overlay="over",e.SoftLight="sLit",e.HardLight="hLit",e.VividLight="vLit",e.LinearLight="lLit",e.PinLight="pLit",e.HardMix="hMix",e.Difference="diff",e.Exclusion="smud",e.Subtract="fsub",e.Divide="fdiv",e.Hue="hue ",e.Saturation="sat ",e.Color="colr",e.Luminosity="lum "})(no||(no={}));function O0(e){const t=Object.keys(no);for(const n of t)if(no[n]===e)return e;throw new G1}var Zr;(function(e){e[e.Base=0]="Base",e[e.NonBase=1]="NonBase"})(Zr||(Zr={}));function pw(e){if(e===Zr.Base)return Zr.Base;if(e===Zr.NonBase)return Zr.NonBase;throw new H1}var Lc;(function(e){e[e.Bitmap=0]="Bitmap",e[e.Grayscale=1]="Grayscale",e[e.Indexed=2]="Indexed",e[e.Rgb=3]="Rgb",e[e.Cmyk=4]="Cmyk",e[e.Multichannel=7]="Multichannel",e[e.Duotone=8]="Duotone",e[e.Lab=9]="Lab"})(Lc||(Lc={}));var Rc;(function(e){e[e.One=1]="One",e[e.Eight=8]="Eight",e[e.Sixteen=16]="Sixteen",e[e.ThirtyTwo=32]="ThirtyTwo"})(Rc||(Rc={}));var Ie;(function(e){e.Alias="alis",e.Boolean="bool",e.Class="type",e.Descriptor="Objc",e.Double="doub",e.Enumerated="enum",e.GlobalClass="GlbC",e.GlobalObject="GlbO",e.Integer="long",e.LargeInteger="comp",e.List="VlLs",e.RawData="tdta",e.Reference="obj ",e.String="TEXT",e.UnitFloat="UntF",e.UnitFloats="UnFl",e.ObjectArray="ObAr"})(Ie||(Ie={}));var Nc;(function(e){e.Angle="#Ang",e.Density="#Rsl",e.Distance="#Rlt",e.Millimeters="#Mlm",e.None="#Nne",e.Percent="#Prc",e.Pixels="#Pxl",e.Points="#Pnt"})(Nc||(Nc={}));function Br(e,t,n){const r=e.items.get(t);if(!r)throw new iw(`Cannot find key "${t}" in descriptor`);if(r.type!==n)throw new aw(`Unexpected descriptor value type: expected "${n}" but got "${r.type}"`);return r}var vi;(function(e){e[e.PSD=1]="PSD",e[e.PSB=2]="PSB"})(vi||(vi={}));const vw=[56,66,80,83],mw=[0,0,0,0,0,0],Cw=[1,8,16,32],yw=1,ww=56,EA=1;function Ew(e){const t=new jn(e),n=t.take(4);if(!Pc(n,vw))throw new D1;const r=t.read("u16");if(!(r===vi.PSD||r===vi.PSB))throw new _0;const l=ch(r),d=t.take(6);if(!Pc(d,mw))throw new O1;const m=t.read("u16");if(!wl(m,yw,ww))throw new P1;const c=t.read("u32"),i=t.read("u32");if(!wl(c,EA,l.maxPixels)||!wl(i,EA,l.maxPixels))throw new L1;const h=t.read("u16");if(!Cw.includes(h))throw new M1;const A=t.read("u16");if(!(A in Lc))throw new F1;return{channelCount:m,version:r,width:i,height:c,depth:h,colorMode:A}}function Bw(e,t,n){const r=(e.length-2)/n,l=e.extract(r),d=n>=2?e.extract(r):void 0,m=n>=3?e.extract(r):void 0,c=n>=4?e.extract(r):void 0;if(t===Rc.Eight)return{red:l,green:d,blue:m,alpha:c};throw new j1(`Unsupported image bit depth: ${t}`)}function Iw(e,t,n,r){let l=0,d=0,m=0,c=0;const i=r.rleScanlineLengthFieldReadType;for(let g=0;g<n;g++)l+=e.read(i);if(t>=2)for(let g=0;g<n;g++)d+=e.read(i);if(t>=3)for(let g=0;g<n;g++)m+=e.read(i);if(t===4)for(let g=0;g<n;g++)c+=e.read(i);const h=2+t*n*r.rleScanlineLengthFieldSize,A=e.clone(h),a=A.take(l),o=d?A.take(d):void 0,s=m?A.take(m):void 0,u=c?A.take(c):void 0;return{red:a,green:o,blue:s,alpha:u}}function xw(e,t,n,r,l){const d=new jn(e),m=d.read("u16");if(!(m in an))throw new Q0;const{red:c,green:i,blue:h,alpha:A}=(()=>{switch(m){case an.RawData:return Bw(d,t,r);case an.RleCompressed:return Iw(d,r,n,l);default:throw new k0}})();return{compression:m,red:c,green:i,blue:h,alpha:A}}function bw(e){const t=e.read("u32");if(t!==1)throw new V1;const n=e.read("u32"),r=e.read("u32"),l=e.read("u32"),d=[];for(let m=0;m<l;++m){const c=e.read("i32"),i=QE(e.read("u8"));d.push({position:c,direction:i})}return{version:t,gridSizeX:n,gridSizeY:r,guides:d}}function Sw(e,t){return e.take(t-e.position)}function _w(e){const t=e.readFixedPoint32bit(),n=e.read("u16"),r=e.read("u16"),l=e.readFixedPoint32bit(),d=e.read("u16"),m=e.read("u16");return{horizontal:t,horizontalUnit:n,widthUnit:r,vertical:l,verticalUnit:d,heightUnit:m}}function Qw(e,t){const n=e.read("u32");if(n===6){const r=e.read("i32"),l=e.read("i32"),d=e.read("i32"),m=e.read("i32"),c=e.readUnicodeString(0),i=e.read("u32"),h=[];for(;h.length<i;){const a=e.read("u32"),o=e.read("u32"),s=kE(e.read("u32")),u=s===1?e.read("u32"):void 0;h.push({id:a,groupId:o,origin:s,associatedLayerId:u,name:e.readUnicodeString(0),type:e.read("u32"),left:e.read("i32"),top:e.read("i32"),right:e.read("i32"),bottom:e.read("i32"),url:e.readUnicodeString(0),target:e.readUnicodeString(0),message:e.readUnicodeString(0),altTag:e.readUnicodeString(0),isCellTextHtml:Boolean(e.read("u8")),cellText:e.readUnicodeString(0),horizontalAlignment:e.read("i32"),verticalAlignment:e.read("i32"),alpha:e.read("u8"),red:e.read("u8"),green:e.read("u8"),blue:e.read("u8")})}const A=e.position<t?zt(e):void 0;return{version:n,boundTop:r,boundLeft:l,boundBottom:d,boundRight:m,sliceGroupName:c,slices:h,descriptor:A}}else if(n===7||n===8){const r=zt(e);return{version:n,descriptor:r}}else throw new K1(`Invalid Slices section version: ${n}`)}const kw=[56,66,73,77];function Tw(e){const t=new jn(e),n=[],r=t.read("u32");for(;t.position<r;){const l=Dw(t);n.push(l)}return{resources:n}}function Dw(e){const t=e.take(4);if(!Pc(t,kw))throw new W1;const n=e.read("i16"),r=Ow(e,2),l=e.read("u32"),d=e.position+l,m=l+l%2,c=e.position;let i=null;switch(n){case ht.GridAndGuides:i=bw(e);break;case ht.Slices:i=Qw(e,d);break;case ht.ICCProfile:i=Sw(e,d);break;case ht.ResolutionInfo:i=_w(e);break;case ht.GlobalLightAltitude:i=e.read("i32");break;case ht.GlobalLightAngle:i=e.read("i32");break}const h=e.position,A=c+m-h;return A>0&&e.pass(A),{id:n,name:r,resource:i}}function Ow(e,t=0){const n=e.read("u8"),r=e.readString(n);if(t){const l=(n+1)%t;l>0&&e.pass(t-l)}return r}const F0=(e,t,n)=>{const{top:r,left:l,bottom:d,right:m,opacity:c,clipping:i,hidden:h,transparencyLocked:A,blendMode:a,layerText:o,engineData:s,maskData:u,additionalLayerInfos:g}=t;return{name:e,top:r,left:l,bottom:d,right:m,opacity:c,clippingMask:i,hidden:h,transparencyLocked:A,blendMode:a,groupId:n,text:o,textProperties:s,maskData:u,additionalLayerProperties:g}};class oh{constructor(t,n){this.channels=t,this.layerProperties=n}static create(t,n,r){const l=F0(t.name,t,r);return new oh(n,l)}get red(){const t=this.channels.get(it.Red);if(t===void 0)throw new U1;return t}get green(){return this.channels.get(it.Green)}get blue(){return this.channels.get(it.Blue)}get alpha(){return this.channels.get(it.TransparencyMask)}get userMask(){return this.channels.get(it.UserSuppliedLayerMask)}get realUserMask(){return this.channels.get(it.RealUserSuppliedLayerMask)}get width(){const{right:t,left:n}=this.layerProperties;return t-n+1}get height(){const{bottom:t,top:n}=this.layerProperties;return t-n+1}}class lh{constructor(t,n){this.id=t,this.layerProperties=n}static create(t,n,r,l){const d=F0(t,r,l);return new lh(n,d)}}function Fw(e){return{data:zt(e)}}function Mw(e){return{fillOpacity:e.read("u8")}}function Pw(e){return{data:zt(e)}}function Gc(e){const t=e.read("i16"),n=e.read("i16"),r=e.read("i16");return{hue:t,saturation:n,lightness:r}}function Lw(e){const t=e.read("i16"),n=e.read("i16"),r=e.read("i16"),l=e.read("i16");return{beginRamp:t,beginSustain:n,endSustain:r,endRamp:l,...Gc(e)}}function Rw(e){return Array.from(Array(6),()=>Lw(e))}function Nw(e){const t=e.read("u16"),n=e.read("u8");e.pass(1);const r=Gc(e),l=Gc(e);return{version:t,colorize:n,colorization:r,master:l,adjustment:n?void 0:Rw(e)}}function Gw(e){return{value:e.read("u32")}}function jw(e,t){const n=[];let r=0;const l=e.position+t;for(;e.position<l&&(r=e.read("u64"));){const d=e.position,m=$w(e);n.push(m);const c=e.position-d,i=r-c;e.pass(i),e.padding(e.position,4)}return{layers:n}}function $w(e){const t=e.readString(4);if(t!=="liFD")throw new ew(`unknown layer type: '${t}'`);const n=e.read("i32"),r=Uw(e),l=e.readUnicodeString(0),d=e.readString(4),m=e.readString(4),c=e.read("u64"),i=e.read("u8")?zt(e):void 0,h=e.take(c),A=n>5?e.readUnicodeString():void 0;return{layerType:t,version:n,uniqueId:r,filename:l,filetype:d,creator:m,data:i,contents:h,uuid:A}}function Uw(e){const t=e.read("u8");return e.readString(t)}function Hw(e){const t=e.read("u32"),n=e.read("u32"),r=Qo(e);return{version:t,descriptor:r,descriptorVersion:n}}function Yw(e){return{data:zt(e)}}function zw(e,t){const n=_E(e.read("u32"));if(t<12)return{dividerType:n};const r=e.readString(4);if(r!=="8BIM")throw new CA(`Invalid Section Divider Setting signature: ${r}`);const l=O0(e.readString(4));if(t<16)return{dividerType:n,dividerSignature:r,blendMode:l};const d=e.read("u32");if(!(d in Mc))throw new CA(`Invalid Section Divider Setting subtype: ${d}`);return{dividerType:n,dividerSignature:r,blendMode:l,subType:d}}function Ww(e){const t=e.readString(4),n=e.read("u32");return{data:zt(e),version:n,identifier:t}}function Xw(e){const t=e.read("u32"),n=Qo(e);return{version:t,data:n}}function Vw(e){const t=e.read("u16");if(t!==1)throw new Cl(`Invalid type tool object setting version: ${t}`);const n=e.read("f64"),r=e.read("f64"),l=e.read("f64"),d=e.read("f64"),m=e.read("f64"),c=e.read("f64"),i=e.read("u16");if(i!==50)throw new Cl(`Invalid text version: ${i}`);const h=zt(e),A=e.read("u16");if(A!==1)throw new Cl(`Invalid warp version: ${A}`);const a=zt(e),o=e.read("f64"),s=e.read("f64"),u=e.read("f64"),g=e.read("f64");return{version:t,transformXX:n,transformXY:r,transformYX:l,transformYY:d,transformTX:m,transformTY:c,textVersion:i,textData:h,warpVersion:A,warpData:a,left:o,top:s,right:u,bottom:g}}function Jw(e){return{name:e.readUnicodeString(0)}}function BA(e){const[t,...n]=e.take(4),r=n[0]*2**16+n[1]*2**8+n[2];return t+r/2**24}function El(e){const t=BA(e),n=BA(e);return{vert:t,horiz:n}}function Kw(e,t){const n=e.read("i16"),r=e.read("i16"),l=e.read("i16");e.pass(6);const d=e.read("i16");return e.pass(10),{type:t,length:n,operation:r,subpathType:l,index:d}}function qw(e,t){const n=Array(4).map(()=>e.read("f32")),r=e.read("f32");return e.pass(6),{type:t,bounds:n,resolution:r}}function Zw(e,t){const n=Boolean(e.read("i16")&1);return e.pass(22),{type:t,fill:n}}function eE(e,t){const n=El(e),r=El(e),l=El(e);return{type:t,preceding:n,anchor:r,leaving:l}}function tE(e){const t=e.read("u16");switch(t){case Rt.OpenSubpathLength:case Rt.ClosedSubpathLength:return Kw(e,t);case Rt.PathFillRule:return e.pass(24),{type:t};case Rt.Clipboard:return qw(e,t);case Rt.InitialFillRule:return Zw(e,t);case Rt.ClosedSubpathBezierKnotLinked:case Rt.ClosedSubpathBezierKnotUnlinked:case Rt.OpenSubpathBezierKnotLinked:case Rt.OpenSubpathBezierKnotUnlinked:return eE(e,t);default:throw new Error(`Unknown PathRecordType: ${t} (bug in offsets?)`)}}function nE(e,t){const n=Math.floor(t/26);return Array.from(Array(n),()=>tE(e))}function rE(e,t){const n=e.read("u32"),r=e.read("u32"),l=nE(e,t);return{version:n,pathRecords:l,invert:Boolean(r&1),notLink:Boolean(r&2),disable:Boolean(r&4)}}function iE(e){const t=e.read("u32"),n=zt(e);return{version:t,data:n}}function aE(e){return{data:zt(e)}}function M0(e,t,n=0){const r=e.readString(4);if(r!=="8BIM"&&r!=="8B64")throw new Z1(`Invalid signature: ${r}`);const l=e.readString(4),d=e.read(oE(l,t)),m=e.position,c=sE(e,r,l,d),i=d-(e.position-m);return e.pass(i),e.padding(d,n),c}function sE(e,t,n,r){switch(n){case Se.NestedSectionDividerSetting:case Se.SectionDividerSetting:return{signature:t,key:n,...zw(e,r)};case Se.TypeToolObjectSetting:return{signature:t,key:n,...Vw(e)};case Se.UnicodeLayerName:return{signature:t,key:n,...Jw(e)};case Se.VectorStrokeData:return{signature:t,key:n,...aE(e)};case Se.ObjectBasedEffects:return{signature:t,key:n,...Hw(e)};case Se.GradientFillSetting:return{signature:t,key:n,...Pw(e)};case Se.SolidColorSheetSetting:return{signature:t,key:n,...Xw(e)};case Se.PatternFillSetting:return{signature:t,key:n,...Yw(e)};case Se.VectorStrokeContentData:return{signature:t,key:n,...iE(e)};case Se.BlendOptionsCapacity:return{signature:t,key:n,...Mw(e)};case Se.VectorMaskSetting1:case Se.VectorMaskSetting2:return{signature:t,key:n,...rE(e,r)};case Se.HueSaturation:return{signature:t,key:n,...Nw(e)};case Se.LayerId:return{signature:t,key:n,...Gw(e)};case Se.ArtboardData:return{signature:t,key:n,...Fw(e)};case Se.PlacedLayerData:case Se.SmartObjectPlacedLayerData:return{signature:t,key:n,...Ww(e)};case Se.LinkedLayer:case Se.LinkedLayer2:case Se.LinkedLayer3:return{signature:t,key:n,...jw(e,r)};default:{const l=e.take(r);return{signature:t,key:n,_isUnknown:!0,data:l}}}}function oE(e,t){if(t.aliLengthFieldSizeIsVariable)switch(e){case"LMsk":case"Lr16":case"Lr32":case"Layr":case"Mt16":case"Mt32":case"Mtrn":case"Alph":case"FMsk":case"Ink2":case"FEid":case"FXid":case"PxSD":case"cinf":return"u64"}return"u32"}const lE="8BIM";function cE(e,t,n){const r=[];for(;r.length<t;)r.push(uE(e,n));return r.map(l=>{const d=pE(e,l.channelInformation,l,n);return[l,d]}).reverse()}function uE(e,t){const[n,r,l,d]=fE(e),m=e.read("u16"),c=[];for(;c.length<m;){const E=e.read("i16"),B=e.read(t.layerRecordSectionChannelLengthFieldReadType)-2;c.push([E,B])}if(e.readString(4)!==lE)throw new R1;const i=O0(e.readString(4)),h=e.read("u8"),A=pw(e.read("u8")),{hidden:a,transparencyLocked:o}=AE(e);e.pass(1);const s=e.read("u32"),u=e.position,g=mE(e);e.pass(e.read("u32"));const f=e.read("u8");let p=e.readString(f);e.padding(f+1,4);const v=[];for(;e.position-u<s;)v.push(M0(e,t));let C,y,w;for(const E of v)if(!E._isUnknown)switch(E.key){case Se.SectionDividerSetting:({dividerType:C}=E);break;case Se.TypeToolObjectSetting:{const B=E.textData.descriptor.items.get("Txt ");B&&B.type===Ie.String&&(y=B.value);const b=E.textData.descriptor.items.get("EngineData");b&&b.type===Ie.RawData&&(w=UE(b.data));break}case Se.UnicodeLayerName:({name:p}=E);break}return{name:p,channelInformation:c,top:n,left:r,bottom:l,right:d,hidden:a,transparencyLocked:o,opacity:h,clipping:A,blendMode:i,additionalLayerInfos:v,dividerType:C,layerText:y,engineData:w,maskData:g}}function hE(e,t){const n=[];for(;e.position<e.length;)n.push(M0(e,t,4));return n}function fE(e){const t=e.read("i32"),n=e.read("i32");let r=e.read("i32");r!==0&&(r-=1);let l=e.read("i32");return l!==0&&(l-=1),[t,n,r,l]}function AE(e){const t=e.read("u8");return{transparencyLocked:Boolean(t&1),hidden:Boolean(t&2)}}function dE(e){const t=e.maskData.realData;if(!t)throw new Error("missing real mask data");return t}function gE(e,t){switch(t){case it.UserSuppliedLayerMask:return _s(e.maskData);case it.RealUserSuppliedLayerMask:return _s(dE(e));default:return _s(e)+1}}function pE(e,t,n,r){const l=new Map,{length:d}=t;for(let m=0;m<d;m++){const[c,i]=t[m],h=bE(e.read("u16"));switch(h){case an.RawData:{const A=e.take(i);l.set(c,{compression:h,data:A});break}case an.RleCompressed:{const A=e.take(i>0?vE(e,gE(n,c),r.rleScanlineLengthFieldReadType):i);l.set(c,{compression:h,data:A});break}}}return l}function vE(e,t,n){return Array.from(Array(t),()=>e.read(n)).reduce((r,l)=>r+l)}function mE(e){const t=e.read("u32"),n=e.position,[r,l,d,m]=P0(e),c=e.read("u8"),i=L0(e),h=t>=36?yE(e):void 0,A=i.masksHaveParametersApplied?CE(e):void 0,a=t-(e.position-n);return e.pass(a),{top:r,left:l,bottom:d,right:m,backgroundColor:c,flags:i,parameters:A,realData:h}}function P0(e){return Array.from(Array(4),()=>e.read("i32"))}var er;(function(e){e[e.PositionRelativeToLayer=1]="PositionRelativeToLayer",e[e.LayerMaskDisabled=2]="LayerMaskDisabled",e[e.InvertMaskWhenBlending=4]="InvertMaskWhenBlending",e[e.UserMaskFromRenderingOtherData=8]="UserMaskFromRenderingOtherData",e[e.MasksHaveParametersApplied=16]="MasksHaveParametersApplied"})(er||(er={}));function L0(e){const t=e.read("u8");return{positionRelativeToLayer:Boolean(t&er.PositionRelativeToLayer),layerMaskDisabled:Boolean(t&er.LayerMaskDisabled),invertMaskWhenBlending:Boolean(t&er.InvertMaskWhenBlending),userMaskFromRenderingOtherData:Boolean(t&er.UserMaskFromRenderingOtherData),masksHaveParametersApplied:Boolean(t&er.MasksHaveParametersApplied)}}var ei;(function(e){e[e.UserMaskDensity=1]="UserMaskDensity",e[e.UserMaskFeather=2]="UserMaskFeather",e[e.VectorMaskDensity=4]="VectorMaskDensity",e[e.VectorMaskFeather=8]="VectorMaskFeather"})(ei||(ei={}));function CE(e){const t=e.read("u8");return{userMaskDensity:t&ei.UserMaskDensity?e.read("u8"):void 0,userMaskFeather:t&ei.UserMaskFeather?e.read("f64"):void 0,vectorMaskDensity:t&ei.VectorMaskDensity?e.read("u8"):void 0,vectorMaskFeather:t&ei.VectorMaskFeather?e.read("f64"):void 0}}function yE(e){const t=L0(e),n=e.read("u8"),[r,l,d,m]=P0(e);return{top:r,left:l,bottom:d,right:m,flags:t,backgroundColor:n}}function wE(e,t){const n=new jn(e);n.pass(t.layerAndMaskSectionLengthFieldSize),n.pass(t.layerInfoSectionLengthFieldSize);const r=n.read("i16"),l=Math.abs(r),d=cE(n,l,t);n.padding(n.position,4),n.pass(n.read("u32"));const m=hE(n,t),c=[],i=[],h=[],A=[{startIndex:0,groupId:0,parentGroupId:0}];let a=0;for(let o=0;o<l;o++){const[s,u]=d[o],g=A[A.length-1].groupId,{dividerType:f}=s;if(f===li.CloseFolder||f===li.OpenFolder)a+=1,A.push({startIndex:c.length,groupId:a,parentGroupId:g,layerRecord:s}),h.push("G");else if(f===li.BoundingSection){const p=A.pop();if(p===void 0)throw new Y1;const v=p.groupId>0?p.groupId:void 0,C=p.layerRecord||s;i.push(lh.create(C.name,p.groupId,C,v)),h.push("D")}else c.push(oh.create(s,u,g)),h.push("L")}return i.sort((o,s)=>o.id-s.id),{layers:c,groups:i,orders:h,globalAdditionalLayerInformation:m}}const EE=26;function Bl(e,t,n=4){const r=(n===4?e.getUint32(t):D0(e,t))+n;return{start:t,end:t+r,size:r}}function BE(e){const t=new DataView(e),n=0,r=EE,l=new DataView(e,n,r),d=Ew(l),m=ch(d.version),c=Bl(t,n+r),i=Bl(t,c.end),h=Bl(t,i.end,m.layerAndMaskSectionLengthFieldSize);return{fileHeader:d,colorModeData:new DataView(e,c.size),imageResources:new DataView(e,i.start,i.size),layerAndMaskInformation:new DataView(e,h.start,h.size),imageData:new DataView(e,h.end)}}const IE={maxPixels:3e4,rleScanlineLengthFieldSize:2,rleScanlineLengthFieldReadType:"u16",layerAndMaskSectionLengthFieldSize:4,layerInfoSectionLengthFieldSize:4,layerRecordSectionChannelLengthFieldReadType:"u32",aliLengthFieldSizeIsVariable:!1},xE={maxPixels:3e5,rleScanlineLengthFieldSize:4,rleScanlineLengthFieldReadType:"u32",layerAndMaskSectionLengthFieldSize:8,layerInfoSectionLengthFieldSize:8,layerRecordSectionChannelLengthFieldReadType:"u64",aliLengthFieldSizeIsVariable:!0};function ch(e){switch(e){case vi.PSD:return IE;case vi.PSB:return xE;default:throw new _0}}var an;(function(e){e[e.RawData=0]="RawData",e[e.RleCompressed=1]="RleCompressed",e[e.ZipWithoutPrediction=2]="ZipWithoutPrediction",e[e.ZipWithPrediction=3]="ZipWithPrediction"})(an||(an={}));function bE(e){if(!(e in an))throw new Q0;return e}var it;(function(e){e[e.Red=0]="Red",e[e.Green=1]="Green",e[e.Blue=2]="Blue",e[e.TransparencyMask=-1]="TransparencyMask",e[e.UserSuppliedLayerMask=-2]="UserSuppliedLayerMask",e[e.RealUserSuppliedLayerMask=-3]="RealUserSuppliedLayerMask"})(it||(it={}));function SE(e){switch(e){case it.Red:return 0;case it.Green:return 1;case it.Blue:return 2;case it.TransparencyMask:return 3;default:throw new $1}}var li;(function(e){e[e.Other=0]="Other",e[e.OpenFolder=1]="OpenFolder",e[e.CloseFolder=2]="CloseFolder",e[e.BoundingSection=3]="BoundingSection"})(li||(li={}));function _E(e){if(e in li)return e;throw new N1}var jc;(function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"})(jc||(jc={}));function QE(e){if(!(e in jc))throw new J1;return e}var ht;(function(e){e[e.GridAndGuides=1032]="GridAndGuides",e[e.Slices=1050]="Slices",e[e.ICCProfile=1039]="ICCProfile",e[e.GlobalLightAngle=1037]="GlobalLightAngle",e[e.GlobalLightAltitude=1049]="GlobalLightAltitude",e[e.ResolutionInfo=1005]="ResolutionInfo"})(ht||(ht={}));var ci;(function(e){e[e.AutoGenerated=0]="AutoGenerated",e[e.LayerGenerated=1]="LayerGenerated",e[e.UserGenerated=2]="UserGenerated"})(ci||(ci={}));function kE(e){if(!(e in ci))throw new q1(`Invalid slice origin: ${e}`);return e}var IA;(function(e){e[e.PixelsPerInch=1]="PixelsPerInch",e[e.PixelsPerCM=2]="PixelsPerCM"})(IA||(IA={}));var xA;(function(e){e[e.Inch=1]="Inch",e[e.CM=2]="CM",e[e.Point=3]="Point",e[e.Pica=4]="Pica",e[e.Column=5]="Column"})(xA||(xA={}));var hn;(function(e){e.Class="Clss",e.Enumerated="Enmr",e.Identifier="Idnt",e.Index="indx",e.Name="name",e.Offset="rele",e.Property="prop"})(hn||(hn={}));function bA(e,t=255){if(!(0<=t&&t<=255))throw new z1;const n=e.length/4,r=SE(it.TransparencyMask),l=t/255;for(let d=0;d<n;d++){const m=d*4+r;e[m]=Math.floor(l*e[m])}return e}let SA,_A,QA,kA,TA,R0,N0,G0,j0,$0=(async()=>{const e="data:application/wasm;base64,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ASABIARGGzYCACACQQA6ABAgAiADNgIIIAIgBEF8cTYCDCABIARGBEAgAi0AEEUNCQwMCwJAIAIoAggiA0UNACADIAMoAgAiA0F/ajYCACADQQFHDQAgAigCCBBLCyABQQNxQQJGDQAMDAsAC0HlicAAQcAAQZyCwAAQUQALIAJBHGpBADYCACACQbSGwAA2AhggAkIBNwIMIAJB0IrAADYCCCACQQhqQZyCwAAQVwALIAIgAUEBRjoADCACQQM2AgggACACQQhqQaiAwAAoAgARAQBB3K3AACgCACEAQdytwAAgAigCCDYCACACIABBA3EiATYCACABQQJHDQUgAEF+aiIDRQ0AA0AgAygCACEBIANBADYCACABRQ0HIAMoAgQgA0EBOgAIIAFBGGoQJSABIAEoAgAiA0F/ajYCACADQQFGBEAgARBLCyIDDQALCyACQSBqJAAPC0G0hsAAQRAgAkHwhsAAQbCLwAAQOwALAAtB3IfAAEHeAEHYiMAAEIABAAsDQBAPIAItABBFDQALDAILIAJBADYCCCACIAJBCGpB3IrAABBGAAtBxIbAAEErQeyKwAAQUQALIAIoAggiAUUNACABIAEoAgAiAUF/ajYCACABQQFHDQAgAigCCBBLQdytwAAoAgAhAQwBC0HcrcAAKAIAIQEMAAsAC/4EAQp/IwBBMGsiAyQAIANBJGogATYCACADQQM6ACggA0KAgICAgAQ3AwggAyAANgIgIANBADYCGCADQQA2AhACQAJAAkAgAigCCCIKRQRAIAJBFGooAgAiBEUNASACKAIAIQEgAigCECEAIARBf2pB/////wFxQQFqIgchBANAIAFBBGooAgAiBQRAIAMoAiAgASgCACAFIAMoAiQoAgwRAgANBAsgACgCACADQQhqIABBBGooAgARAAANAyAAQQhqIQAgAUEIaiEBIARBf2oiBA0ACwwBCyACQQxqKAIAIgBFDQAgAEEFdCELIABBf2pB////P3FBAWohByACKAIAIQEDQCABQQRqKAIAIgAEQCADKAIgIAEoAgAgACADKAIkKAIMEQIADQMLIAMgBCAKaiIFQRxqLQAAOgAoIAMgBUEEaikCAEIgiTcDCCAFQRhqKAIAIQYgAigCECEIQQAhCUEAIQACQAJAAkAgBUEUaigCAEEBaw4CAAIBCyAGQQN0IAhq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dCIEIAIgBCACSxsiAkEIIAJBCEsbIQICQCABBEAgA0EYakEBNgIAIAMgATYCFCADIAAoAgA2AhAMAQsgA0EANgIQCyADIAIgA0EQahA2IAMoAgAEQCADQQhqKAIAIgBFDQEgAygCBCAAEIgBAAsgAygCBCEBIABBBGogAjYCACAAIAE2AgAgA0EgaiQADwsQVgALuQEBAn8jAEEgayIDJAACQCABIAJqIgIgAUkNACAAQQRqKAIAIgFBAXQiBCACIAQgAksbIgJBCCACQQhLGyECAkAgAQRAIANBGGpBATYCACADIAE2AhQgAyAAKAIANgIQDAELIANBADYCEAsgAyACIANBEGoQNSADKAIABEAgA0EIaigCACIARQ0BIAMoAgQgABCIAQALIAMoAgQhASAAQQRqIAI2AgAgACABNgIAIANBIGokAA8LEFYAC7kBAQN/IwBBIGsiAiQAAkAgAUEBaiIDIAFJDQAgAEEEaigCACIBQQF0IgQgAyAEIANLGyIDQQggA0EISxshAwJAIAEEQCACQRhqQQE2AgAgAiABNgIUIAIgACgCADYCEAwBCyACQQA2AhALIAIgAyACQRBqEDUgAigCAARAIAJBCGooAgAiAEUNASACKAIEIAAQiAEACyACKAIEIQEgAEEEaiADNgIAIAAgATYCACACQSBqJAAPCxBWAAurAQEDfwJAIAJBD00EQCAAIQMMAQsgAEEAIABrQQNxIgRqIQUgBARAIAAhAwNAIAMgAToAACADQQFqIgMgBUkNAAsLIAUgAiAEayICQXxxIgRqIQMgBEEBTgRAIAFB/wFxQYGChAhsIQQDQCAFIAQ2AgAgBUEEaiIFIANJDQALCyACQQNxIQILIAIEQCACIANqIQIDQCADIAE6AAAgA0EBaiIDIAJJDQALCyAAC7wBAQJ/IwBBEGsiAiQAIAACf0EBIAAtAAQNABogACgCACEBIAAtAAVFBEAgASgCGEGKlcAAQQcgAUEcaigCACgCDBECAAwBCyABLQAAQQRxRQRAIAEoAhhBhJXAAEEGIAFBHGooAgAoAgwRAgAMAQsgAkEBOgAPIAJBCGogAkEPajYCACACIAEpAhg3AwBBASACEAwNABogASgCGEGDlcAAQQEgASgCHCgCDBECAAsiADoABCACQRBqJAAgAAusAQEDfyMAQTBrIgIkACAB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ACACIAE2AgQgAiAANgIAIAJBHGpBAjYCACACQSxqQRE2AgAgAkICNwIMIAJBrJjAADYCCCACQRE2AiQgAiACQSBqNgIYIAIgAkEEajYCKCACIAI2AiAgAkEIakG8mMAAEFcAC28BAX8jAEEwayICJAAgAiABNgIEIAIgADYCACACQRxqQQI2AgAgAkEsakERNgIAIAJCAjcCDCACQeiXwAA2AgggAkERNgIkIAIgAkEgajYCGCACIAJBBGo2AiggAiACNgIgIAJBCGpB+JfAABBXAAtvAQF/IwBBMGsiAiQAIAIgATYCBCACIAA2AgAgAkEcakECNgIAIAJBLGpBETYCACACQgI3AgwgAkGYl8AANgIIIAJBETYCJCACIAJBIGo2AhggAiACQQRqNgIoIAIgAjYCICACQQhqQciXwAAQVwALbAEBfyMAQTBrIgMkACADIAE2AgQgAyAANgIAIANBHGpBAjYCACADQSxqQRE2AgAgA0ICNwIMIANBzJPAADYCCCADQRE2AiQgAyADQSBqNgIYIAMgAzYCKCADIANBBGo2AiAgA0EIaiACEFcAC1YBAn8jAEEgayICJAAgAUEcaigCACEDIAEoAhggAkEYaiAAQRBqKQIANwMAIAJBEGogAEEIaikCADcDACACIAApAgA3AwggAyACQQhqEA4gAkEgaiQAC2YBAX8jAEEgayICJAAgAkHIicAANgIEIAIgADYCACACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQbyHwAAgAkEEakG8h8AAIAJBCGpBuI/AABAWAAtjAQF/IwBBIGsiAyQAIANB2IrAADYCBCADIAA2AgAgA0EYaiABQRBqKQIANwMAIANBEGogAUEIaikCADcDACADIAEpAgA3AwggA0HMh8AAIANBBGpBzIfAACADQQhqIAIQFgALWQEBfyMAQSBrIgIkACACIAAoAgA2AgQgAkEYaiABQRBqKQIANwMAIAJBEGogAUEIaikCADcDACACIAEpAgA3AwggAkEEakG8hMAAIAJBCGoQDiACQSBqJAALWQEBfyMAQSBrIgIkACACIAAoAgA2AgQgAkEYaiABQRBqKQIANwMAIAJBEGogAUEIaikCADcDACACIAEpAgA3AwggAkEEakGchsAAIAJBCGoQDiACQSBq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TAAAABQBAAAyAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZS9Vc2Vycy95aGthbmcvLmNhcmdvL3JlZ2lzdHJ5L3NyYy9naXRodWIuY29tLTFlY2M2Mjk5ZGI5ZWM4MjMvY29uc29sZV9lcnJvcl9wYW5pY19ob29rLTAuMS43L3NyYy9saWIucnMAALMAEABnAAAAlQAAAA4AAABvdXRwdXQgc2xpY2UgaXMgdG9vIHNtYWxsc3JjL2xpYi5ycwBFARAACgAAAIgAAAAOAAAAaW5wdXQgdGVybWluYXRlZCB3aGlsZSBkZWNvZGluZyB1bmNvbXByZXNzZWQgc2VnbWVudCBpbiBSTEUgc2xpY2UAAABFARAACgAAAJwAAAAWAAAARQEQAAoAAACfAAAAFgAAAGlucHV0IHRlcm1pbmF0ZWQgd2hpbGUgZGVjb2RpbmcgcmVwZWF0IHNlZ21lbnQgaW4gUkxFIHNsaWNlAEUBEAAKAAAApwAAABIAAABFARAACgAAAKwAAAAWAAAAaW52YWxpZCBlbnVtIHZhbHVlIHBhc3NlZAAAAAcAAAAEAAAABAAAAAgAAAAJAAAACgAAAAsAAAAMAAAABAAAAAwAAAANAAAADgAAAGEgRGlzcGxheSBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCBhbiBlcnJvciB1bmV4cGVjdGVkbHkvcnVzdGMvZmU1YjEzZDY4MWYyNWVlNjQ3NGJlMjlkNzQ4YzY1YWRjZDkxZjY5ZS9saWJyYXJ5L2FsbG9jL3NyYy9zdHJpbmcucnMAAKMCEABLAAAAZgkAAA4AAAAPAAAAAAAAAAEAAAAQAAAACgpTdGFjazoKCgAAEwAAAAQAAAAEAAAAFAAAABUAAAAWAAAAYWxyZWFkeSBib3Jyb3dlZGNhbGxlZCBgT3B0aW9uOjp1bndyYXAoKWAgb24gYSBgTm9uZWAgdmFsdWUAEwAAAAAAAAABAAAAFwAAAGNhbGxlZCBgUmVzdWx0Ojp1bndyYXAoKWAgb24gYW4gYEVycmAgdmFsdWUAGAAAAAgAAAAEAAAAGQAAABMAAAAEAAAABAAAABoAAAATAAAABAAAAAQAAAAbAAAAdXNlIG9mIHN0ZDo6dGhyZWFkOjpjdXJyZW50KCkgaXMgbm90IHBvc3NpYmxlIGFmdGVyIHRoZSB0aHJlYWQncyBsb2NhbCBkYXRhIGhhcyBiZWVuIGRlc3Ryb3llZGxpYnJhcnkvc3RkL3NyYy90aHJlYWQvbW9kLnJzADoEEAAdAAAAogIAACMAAABmYWlsZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIHRocmVhZCBJRDogYml0c3BhY2UgZXhoYXVzdGVkAGgEEAA3AAAAOgQQAB0AAAAQBAAAEQAAADoEEAAdAAAAFgQAACoAAAAAbGlicmFyeS9zdGQvc3JjL3N5bmMvb25jZS5yc2Fzc2VydGlvbiBmYWlsZWQ6IHN0YXRlX2FuZF9xdWV1ZS5hZGRyKCkgJiBTVEFURV9NQVNLID09IFJVTk5JTkdPbmNlIGluc3RhbmNlIGhhcyBwcmV2aW91c2x5IGJlZW4gcG9pc29uZWQAJQUQACoAAAACAAAAyQQQABwAAAD/AQAACQAAAMkEEAAcAAAADAIAADUAAABQb2lzb25FcnJvcmxpYnJhcnkvc3RkL3NyYy9zeXNfY29tbW9uL3RocmVhZF9pbmZvLnJzhwUQACkAAAAWAAAAMwAAAG1lbW9yeSBhbGxvY2F0aW9uIG9mICBieXRlcyBmYWlsZWQKAMAFEAAVAAAA1QUQAA4AAABsaWJyYXJ5L3N0ZC9zcmMvYWxsb2MucnP0BRAAGAAAAEkBAAAJAAAAY2Fubm90IG1vZGlmeSB0aGUgcGFuaWMgaG9vayBmcm9tIGEgcGFuaWNraW5nIHRocmVhZBwGEAA0AAAAbGlicmFyeS9zdGQvc3JjL3Bhbmlja2luZy5yc1gGEAAcAAAAfQAAAAkAAABYBhAAHAAAAEYCAAAfAAAAWAYQABwAAABHAgAAHgAAABwAAAAMAAAABAAAAB0AAAATAAAACAAAAAQAAAAeAAAAHwAAABAAAAAEAAAAIAAAACEAAAATAAAACAAAAAQAAAAiAAAAIwAAAGNvbmR2YXIgd2FpdCBub3Qgc3VwcG9ydGVkAADsBhAAGgAAAGxpYnJhcnkvc3RkL3NyYy9zeXMvd2FzbS8uLi91bnN1cHBvcnRlZC9sb2Nrcy9jb25kdmFyLnJzEAcQADgAAAAXAAAACQAAAGNhbm5vdCByZWN1cnNpdmVseSBhY3F1aXJlIG11dGV4WAcQACAAAABsaWJy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",t=async(U={},L)=>{let I;if(L.startsWith("data:")){const S=L.replace(/^data:.*?base64,/,"");let Q;if(typeof Buffer=="function"&&typeof Buffer.from=="function")Q=Buffer.from(S,"base64");else if(typeof atob=="function"){const T=atob(S);Q=new Uint8Array(T.length);for(let M=0;M<T.length;M++)Q[M]=T.charCodeAt(M)}else throw new Error("Cannot decode base64-encoded data URL");I=await WebAssembly.instantiate(Q,U)}else{const S=await fetch(L),Q=S.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&Q.startsWith("application/wasm"))I=await WebAssembly.instantiateStreaming(S,U);else{const T=await S.arrayBuffer();I=await WebAssembly.instantiate(T,U)}}return I.instance.exports},n=new Array(32).fill(void 0);n.push(void 0,null,!0,!1);function r(U){return n[U]}let l=n.length;function d(U){U<36||(n[U]=l,l=U)}function m(U){const L=r(U);return d(U),L}const c=typeof TextDecoder>"u"?(0,st.require)("util").TextDecoder:TextDecoder;let i=new c("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let h=null;function A(){return(h===null||h.buffer!==B.buffer)&&(h=new Uint8Array(B.buffer)),h}function a(U,L){return i.decode(A().subarray(U,U+L))}let o=0;function s(U,L){const I=L(U.length*1);return A().set(U,I/1),o=U.length,I}let u=null;function g(){return(u===null||u.buffer!==B.buffer)&&(u=new Int32Array(B.buffer)),u}function f(U,L){return A().subarray(U/1,U/1+L)}G0=function(U,L,I,S,Q,T,M){try{const F=Z(-16),$=s(L,q),N=o,X=s(S,q),K=o,ie=s(T,q);b(F,U,$,N,I,X,K,Q,ie,o,M);var _=g()[F/4+0],x=g()[F/4+1],O=f(_,x).slice();return ee(_,x*1),O}finally{Z(16)}},j0=function(U,L,I,S,Q,T,M,_,x){try{const N=Z(-16),X=s(L,q),K=o,ie=s(S,q),G=o,P=s(T,q),H=o,W=s(_,q);D(N,U,X,K,I,ie,G,Q,P,H,M,W,o,x);var O=g()[N/4+0],F=g()[N/4+1],$=f(O,F).slice();return ee(O,F*1),$}finally{Z(16)}},R0=function(U,L,I){try{const M=Z(-16),_=s(L,q);R(M,U,_,o,I);var S=g()[M/4+0],Q=g()[M/4+1],T=f(S,Q).slice();return ee(S,Q*1),T}finally{Z(16)}},N0=function(U,L,I,S,Q){try{const x=Z(-16),O=s(L,q),F=o,$=s(S,q);J(x,U,O,F,I,$,o,Q);var T=g()[x/4+0],M=g()[x/4+1],_=f(T,M).slice();return ee(T,M*1),_}finally{Z(16)}};function p(U){l===n.length&&n.push(n.length+1);const L=l;return l=n[L],n[L]=U,L}const v=typeof TextEncoder>"u"?(0,st.require)("util").TextEncoder:TextEncoder;let C=new v("utf-8");const y=typeof C.encodeInto=="function"?function(U,L){return C.encodeInto(U,L)}:function(U,L){const I=C.encode(U);return L.set(I),{read:U.length,written:I.length}};function w(U,L,I){if(I===void 0){const _=C.encode(U),x=L(_.length);return A().subarray(x,x+_.length).set(_),o=_.length,x}let S=U.length,Q=L(S);const T=A();let M=0;for(;M<S;M++){const _=U.charCodeAt(M);if(_>127)break;T[Q+M]=_}if(M!==S){M!==0&&(U=U.slice(M)),Q=I(Q,S,S=M+U.length*3);const _=A().subarray(Q+M,Q+S);M+=y(U,_).written}return o=M,Q}_A=function(){const U=new Error;return p(U)},QA=function(U,L){const I=r(L).stack,S=w(I,q,re),Q=o;g()[U/4+1]=Q,g()[U/4+0]=S},SA=function(U,L){try{}finally{ee(U,L)}},kA=function(U){m(U)},TA=function(U,L){throw new Error(a(U,L))};const E=await t({"./webtoon_psd_decoder_bg.js":{__wbg_new_693216e109162396:_A,__wbg_stack_0ddaca5d1abfb52f:QA,__wbg_error_09919627ac0992f5:SA,__wbindgen_object_drop_ref:kA,__wbindgen_throw:TA}},e),B=E.memory;E.main_js;const b=E.decode_rgb,D=E.decode_rgba,R=E.decode_grayscale,J=E.decode_grayscale_a,Z=E.__wbindgen_add_to_stack_pointer,q=E.__wbindgen_malloc,ee=E.__wbindgen_free,re=E.__wbindgen_realloc,oe=E.__wbindgen_start;oe()})();async function TE(e,t,n,r,l,d){const m=e*t;if(!(m>0&&Number.isInteger(m)))throw new Error(`Pixel count must be a positive integer, got ${m}`);let c;if(r&&l)c=await DE(m,n,r,l,d);else if(!l&&!r)c=await $c(m,n,d);else throw new Error(`Missing ${l?"green":"blue"} channel in RGB image`);return new Uint8ClampedArray(c.buffer,c.byteOffset,c.byteLength)}function ti(e){switch(e){case an.RawData:case an.RleCompressed:return}throw new k0(`Unsupported compression method: ${e}`)}async function DE(e,t,n,r,l){return await $0,ti(t.compression),ti(r.compression),ti(t.compression),l&&ti(l.compression),l?j0(e,t.data,t.compression,n.data,n.compression,r.data,r.compression,l.data,l.compression):G0(e,t.data,t.compression,n.data,n.compression,r.data,r.compression)}async function $c(e,t,n){return await $0,ti(t.compression),n&&ti(n.compression),n?N0(e,t.data,t.compression,n.data,n.compression):R0(e,t.data,t.compression)}function OE(e){const t=BE(e),{fileHeader:n}=t,r=ch(n.version),l=Tw(t.imageResources),d=wE(t.layerAndMaskInformation,r),m=xw(t.imageData,n.depth,n.height,n.channelCount,r);return{fileHeader:n,colorModeData:void 0,imageResources:l,layerAndMaskInfo:d,imageData:m}}function Qo(e){const t=e.readUnicodeString(0),n=e.readIdString(),r=e.read("u32"),l=new Map;for(;l.size<r;){const d=e.readIdString(),m=Uc(e);if(l.has(d))throw new rw(`Duplicate descriptor key: ${d}`);l.set(d,m)}return{name:t,classId:n,items:l}}function zt(e){const t=e.read("u32");if(t!==16)throw new nw(`Invalid descriptor version: ${t}`);const n=Qo(e);return{descriptorVersion:t,descriptor:n}}function Uc(e){const t=e.readString(4);switch(t){case Ie.Alias:{const n=e.read("u32"),r=e.take(n);return{type:t,data:r}}case Ie.Boolean:{const n=Boolean(e.read("u8"));return{type:t,value:n}}case Ie.Class:case Ie.GlobalClass:{const n=e.readUnicodeString(0),r=e.readIdString();return{type:t,name:n,classId:r}}case Ie.Descriptor:case Ie.GlobalObject:{const n=Qo(e);return{type:t,descriptor:n}}case Ie.Double:{const n=e.read("f64");return{type:t,value:n}}case Ie.Enumerated:{const n=e.readIdString(),r=e.readIdString();return{type:t,enumType:n,enumValue:r}}case Ie.Integer:{const n=e.read("i32");return{type:t,value:n}}case Ie.LargeInteger:{const n=e.read("i64");return{type:t,value:n}}case Ie.List:{const n=e.read("u32"),r=[];for(;r.length<n;)r.push(Uc(e));return{type:t,values:r}}case Ie.RawData:{const n=e.read("u32"),r=e.take(n);return{type:t,data:r}}case Ie.Reference:{const n=e.read("u32"),r=[];for(;r.length<n;)r.push(FE(e));return{type:t,references:r}}case Ie.String:{const n=e.readUnicodeString(0);return{type:t,value:n}}case Ie.UnitFloat:{const n=DA(e.readString(4)),r=e.read("f64");return{type:t,unitType:n,value:r}}case Ie.ObjectArray:{e.read("u32");const n=e.readUnicodeString(0),r=e.readIdString(),l=e.read("u32"),d=Array.from(Array(l),()=>{const m=e.readIdString(),c=Uc(e);return{key:m,value:c}});return{type:t,classObj:{name:n,classId:r},items:d}}case Ie.UnitFloats:{const n=DA(e.readString(4)),r=e.read("u32"),l=Array.from(Array(r),()=>e.read("f64"));return{type:t,unitType:n,values:l}}default:throw new tw(`Unexpected descriptor type: ${t}`)}}function FE(e){const t=e.readString(4);switch(t){case hn.Class:{const n=e.readUnicodeString(0),r=e.readIdString();return{type:t,name:n,classId:r}}case hn.Enumerated:{const n=e.readUnicodeString(0),r=e.readIdString(),l=e.readIdString(),d=e.readIdString();return{type:t,name:n,classId:r,typeId:l,enumValue:d}}case hn.Identifier:{const n=e.readString(4);return{type:t,identifier:n}}case hn.Index:{const n=e.read("u32");return{type:t,index:n}}case hn.Name:{const n=e.readUnicodeString(0);return{type:t,name:n}}case hn.Offset:{const n=e.readUnicodeString(0),r=e.readIdString(),l=e.read("u32");return{type:t,name:n,classId:r,offset:l}}case hn.Property:{const n=e.readUnicodeString(0),r=e.readIdString(),l=e.readIdString();return{type:t,name:n,classId:r,keyId:l}}default:throw new sw(`Invalid reference type: ${t}`)}}function DA(e){if(!Object.values(Nc).includes(e))throw new ow(`Invalid Unit Float type: ${e}`);return e}var je;(function(e){e[e.String=0]="String",e[e.DictBeg=1]="DictBeg",e[e.DictEnd=2]="DictEnd",e[e.ArrBeg=3]="ArrBeg",e[e.ArrEnd=4]="ArrEnd",e[e.Name=5]="Name",e[e.Number=6]="Number",e[e.Boolean=7]="Boolean"})(je||(je={}));const Hc=new Set([0,9,12,32,10,13]),ME=new Set([102,116]),Kt={"(":40,")":41,"<":60,">":62,"[":91,"]":93,"/":47,"\\":92},U0=new Set(Object.values(Kt)),H0=[];for(let e=0;e<256;e+=1)H0[e]=Hc.has(e)||U0.has(e);const PE=new TextDecoder("utf-8");function LE(e){const t=e.position;let n=e.position;for(const r of e.iter()){if(H0[r])break;n+=1}return PE.decode(e.take(n-t))}class RE{constructor(t){this.cursor=jn.from(t)}tokens(){const t=[];for(;!this.done();){const n=this.cursor.one();if(Hc.has(n)){for(;!this.done()&&Hc.has(this.cursor.peek());)this.cursor.pass(1);continue}if(U0.has(n)){if(n===Kt["("]){t.push({type:je.String,value:this.text()});continue}if(n===Kt["["]){t.push({type:je.ArrBeg});continue}if(n===Kt["]"]){t.push({type:je.ArrEnd});continue}if(n===Kt["<"]){this.cursor.pass(1),t.push({type:je.DictBeg});continue}if(n===Kt[">"]){this.cursor.pass(1),t.push({type:je.DictEnd});continue}if(n===Kt["/"]){t.push({type:je.Name,value:this.string()});continue}continue}this.cursor.unpass(1),ME.has(n)?t.push({type:je.Boolean,value:this.boolean()}):t.push({type:je.Number,value:this.number()})}return t}done(){return this.cursor.position>=this.cursor.length}text(){const t=this.cursor.peek();if(t===Kt[")"])return this.cursor.pass(1),"";const n=t===255||t===254;let r=new TextDecoder("utf-16be");n&&(r=this.textDecoderFromBOM());const l=[],d=this.cursor.clone();for(;d.peek()!==Kt[")"];)if(d.pass(1),d.peek()===Kt["\\"]){const i=d.position-this.cursor.position;l.push(r.decode(this.cursor.take(i),{stream:!0})),d.pass(2),this.cursor.pass(1),l.push(r.decode(this.cursor.take(1),{stream:!0}))}const m=d.position-this.cursor.position,c=this.cursor.take(m);return l.push(r.decode(c)),this.cursor.pass(1),l.join("")}textDecoderFromBOM(){const t=this.cursor.one(),n=this.cursor.one();if(t===255&&n===254)return new TextDecoder("utf-16le");if(t===254&&n===255)return new TextDecoder("utf-16be");throw new hw(`Unknown BOM value: [${t}, ${n}]`)}string(){return LE(this.cursor)}number(){const t=this.string(),n=Number(t);if(Number.isNaN(n))throw new cw(`parsing '${t}' as Number failed`);return n}boolean(){const t=this.string();if(t==="true")return!0;if(t==="false")return!1;throw new lw(`'${t}' is neither 'true' nor 'false'`)}}const Il=Symbol(je[je.ArrBeg]),xl=Symbol(je[je.DictBeg]);class NE{constructor(t){this.tokens=t,this.stack=[]}parse(){this.runParser();const[t]=this.stack;if(typeof t=="object"&&!Array.isArray(t))return t;throw new uw(`EngineData top-level value is not a dict; is ${typeof t}`)}runParser(){for(const t of this.tokens)switch(t.type){case je.Name:case je.Number:case je.Boolean:case je.String:this.stack.push(t.value);continue;case je.DictBeg:this.stack.push(xl);continue;case je.ArrBeg:this.stack.push(Il);continue;case je.DictEnd:this.stack.push(this.dict());continue;case je.ArrEnd:this.stack.push(this.array().reverse());continue}}dict(){const t={};for(;;){const n=this.stack.pop();if(n===void 0)throw new yA("Stack empty when parsing dict");if(n===xl)return t;if(n===Il)throw new yl("Got ArrBeg while parsing a dict");const r=this.stack.pop();if(typeof r!="string")throw new yl(`Dict key is not Name; is ${typeof r}`);t[r]=n}}array(){const t=[];for(;;){const n=this.stack.pop();if(n===void 0)throw new yA("Stack empty when parsing array");if(n===xl)throw new yl("Got DictBeg while parsing array");if(n===Il)return t;t.push(n)}}}const GE=new Set(["DocumentResources","EngineDict","ResourceDict"]);function jE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $E(e){let t=!0;if(typeof e!="object"||!e)return!1;for(const n of GE)if(jE(e,n)){const r=e[n];t=t&&typeof r=="object"&&!Array.isArray(r)&&Boolean(r)}else return!1;return t}function UE(e){const t=new NE(new RE(e).tokens()).parse();if($E(t))return t;throw new fw(`Object with keys ${JSON.stringify(Object.keys(t))} is not valid EngineData`)}class Y0{async composite(t=!0,n=!0){const{red:r,green:l,blue:d,alpha:m}=this.imageData,{width:c,height:i}=this,h=await TE(c,i,r,l,d,m);if(t===!0)if(n===!0){const A=this.composedOpacity*255;return bA(h,A)}else return bA(h,this.opacity);return h}}class HE extends Y0{constructor(t,n){super(),this.layerFrame=t,this.parent=n,this.type="Layer"}get name(){return this.layerFrame.layerProperties.name}get width(){return this.layerFrame.width}get height(){return this.layerFrame.height}get top(){return this.layerFrame.layerProperties.top}get left(){return this.layerFrame.layerProperties.left}get opacity(){return this.layerFrame.layerProperties.opacity}get composedOpacity(){return this.parent.composedOpacity*(this.opacity/255)}get maskData(){return this.layerFrame.layerProperties.maskData}async userMask(){const t=this.layerFrame.userMask;if(t)return $c(wA(this.maskData),t)}async realUserMask(){const t=this.maskData.realData,n=this.layerFrame.realUserMask;if(!(!t||!n))return $c(wA(t),n)}get isHidden(){return this.layerFrame.layerProperties.hidden}get isTransparencyLocked(){return this.layerFrame.layerProperties.transparencyLocked}get additionalProperties(){return this.layerFrame.layerProperties.additionalLayerProperties}get text(){return this.layerFrame.layerProperties.text}get textProperties(){return this.layerFrame.layerProperties.textProperties}get imageData(){const{red:t,green:n,blue:r,alpha:l}=this.layerFrame;return{red:t,green:n,blue:r,alpha:l}}}function YE(e){return e.type==="Psd"||e.type==="Group"}function OA(e){if(!YE(e))throw new de(`Node (name = '${e.name}', type: '${e.type}') cannot be a parent node`)}class zE{constructor(t,n,r,l,d){this.origin=t,this.left=n,this.top=r,this.right=l,this.bottom=d}}function WE(e){if(e.resource.descriptor){const t=e.resource.descriptor.descriptor.items.get("slices");if(!(t&&t.type===Ie.List))throw new la('Missing key "slices" in slice descriptor');return t.values.reduce((n,r)=>{if(r.type!==Ie.Descriptor)throw new la(`Slice list contains a non-descriptor (type: ${r.type})`);return n.push(XE(r.descriptor)),n},[])}else throw new la("No slice descriptor in slice resource block")}function XE(e){const t=VE(e),n=Br(e,"bounds",Ie.Descriptor).descriptor,r=Br(n,"Top ",Ie.Integer).value,l=Br(n,"Left",Ie.Integer).value,d=Br(n,"Btom",Ie.Integer).value,m=Br(n,"Rght",Ie.Integer).value;return new zE(t,l,r,m,d)}function VE(e){const t=Br(e,"origin",Ie.Enumerated);if(t.enumType!=="ESliceOrigin")throw new la(`Unexpected enum type for slice origin: got "${t.enumType}"`);switch(t.enumValue){case"layerGenerated":return ci.LayerGenerated;case"userGenerated":return ci.UserGenerated;case"autoGenerated":return ci.AutoGenerated;default:throw new la(`Unexpected enum value for slice origin: got "${t.enumValue}"`)}}class uh extends Y0{constructor(t){super(),this.parsingResult=t,this.name="ROOT",this.type="Psd",this.opacity=255,this.composedOpacity=1,this.children=[],this.layers=[],this.guides=[],this.slices=[],this.icc_profile=void 0,this.globalLightAngle=void 0,this.globalLightAltitude=void 0,this.resolutionInfo=void 0,this.additionalLayerProperties=[],this.buildTreeStructure(),this.additionalLayerProperties=t.layerAndMaskInfo.globalAdditionalLayerInformation;for(const n of t.imageResources.resources)if(n.resource!==null)switch(n.id){case ht.GridAndGuides:this.guides=n.resource.guides;break;case ht.Slices:this.slices=WE(n);break;case ht.ICCProfile:this.icc_profile=n.resource;break;case ht.GlobalLightAltitude:this.globalLightAltitude=n.resource;break;case ht.GlobalLightAngle:this.globalLightAngle=n.resource;break;case ht.ResolutionInfo:this.resolutionInfo=n.resource;break}}static parse(t){const n=OE(t);return new uh(n)}get width(){return this.parsingResult.fileHeader.width}get height(){return this.parsingResult.fileHeader.height}get channelCount(){return this.parsingResult.fileHeader.channelCount}get depth(){return this.parsingResult.fileHeader.depth}get colorMode(){return this.parsingResult.fileHeader.colorMode}get imageData(){const{compression:t,red:n,green:r,blue:l,alpha:d}=this.parsingResult.imageData;return{red:{compression:t,data:n},green:r?{compression:t,data:r}:void 0,blue:l?{compression:t,data:l}:void 0,alpha:d?{compression:t,data:d}:void 0}}buildTreeStructure(){const{groups:t,layers:n,orders:r}=this.parsingResult.layerAndMaskInfo,l=[this];let d=0,m=0;r.forEach(c=>{const i=l[l.length-1];switch(c){case"G":{const h=t[d];OA(i);const A=new T1(h,i);l.push(A),i.children.push(A),d+=1;break}case"L":{const h=n[m];OA(i);const A=new HE(h,i);this.layers.push(A),i.children.push(A),m+=1;break}case"D":l.pop()}}),l.length=0,this.children.forEach(c=>{var i,h;return(h=(i=c).freeze)===null||h===void 0?void 0:h.call(i)}),Object.freeze(this.children)}}function JE(){const e=te.exports.useContext(ef),[t,n]=te.exports.useState({undo:!1,redo:!1}),r=async()=>{if(!ce.current)return;const o=await ce.current.toImage(),s=document.createElement("a");s.href=o,s.download=`image-${Date.now()}.png`,s.click()},l=async()=>{ce.current&&ce.current.toJson(!0)},d=()=>{location.replace(location.origin)},m=async o=>{const s=o.target.files&&o.target.files[0];if(s!==null){if(o.target.value="",!s.name.endsWith(".psd"))return Zt.show("请选择正确的文件类型");try{const u=await s.arrayBuffer(),g=uh.parse(u);i(g)}catch{Zt.show("psd 解析失败")}}},c=o=>{let s=!1;return o.isHidden&&(s=!0),(o.width>3600||o.height>3600)&&(s=!0),s},i=async o=>{var p,v;if(!ce.current)return;const s=o.children,u=C=>{const y=[],w=[];for(let E=C.children.length-1;E>=0;--E){const B=C.children[E];B.type==="Layer"?!c(B)&&y.push(B):B.type==="Group"&&w.push(B)}return w.forEach(E=>{y.push(...u(E))}),y},g=[];for(let C=s.length-1;C>=0;--C){const y=s[C];(v=(p=y==null?void 0:y.layerFrame)==null?void 0:p.layerProperties)!=null&&v.hidden||(y.type==="Group"?g.push(u(y)):y.type==="Layer"&&!c(y)&&g.push([y]))}const f=[];for(let C=0;C<g.length;++C){const y=g[C];if(y.length===0)continue;let w=y[0].left,E=y[0].top;const B=document.createElement("canvas"),b=B.getContext("2d");B.width=o.width,B.height=o.height;const D=document.createElement("canvas"),R=D.getContext("2d");for(let Z=0;Z<y.length;++Z){const q=y[Z],ee=await q.composite(!0,!0),re=new ImageData(ee,q.width,q.height);R.clearRect(0,0,D.width,D.height),D.width=q.width,D.height=q.height,R.putImageData(re,0,0),b.drawImage(D,q.left,q.top),w=Math.min(w,q.left),E=Math.min(E,q.top)}R.clearRect(0,0,D.width,D.height),D.width=o.width-w,D.height=o.height-E,R.drawImage(B,w,E,D.width,D.height,0,0,D.width,D.height);const J=await Pa.create({imageUrl:D.toDataURL(),x:w,y:E});f.push(J)}ce.current.resize(o.width,o.height),f.forEach(C=>{ce.current.add(C)})},h=async o=>{const s=ce.current;if(!s)return;const u=o.target.files&&o.target.files[0];if(u!==null){if(o.target.value="",!u.name.endsWith(".json"))return Zt.show("请选择正确的文件类型");try{const g=await u.text(),f=JSON.parse(g);s.loadFromJson(f)}catch{Zt.show("导入失败")}}},A=()=>{!ce.current||!t.undo||(Zt.show("使用快捷键 Ctrl + Z 更方便哦~"),ce.current.undo())},a=()=>{!ce.current||!t.redo||(Zt.show("使用快捷键 Ctrl + Y 更方便哦~"),ce.current.redo())};return te.exports.useEffect(()=>(at.on("stack-status",n),()=>{at.off("stack-status",n)}),[]),pe("div",{className:k1.header,children:[pe("div",{className:"header-left",children:[z("div",{className:"title",children:e.name}),z("div",{className:"divider"}),z(Oc,{className:"icon-wrapper",text:"撤销",style:t.undo?void 0:{color:"#999"},position:"bottom",onClick:A,children:z(Dt,{type:"icon-undo"})}),z(Oc,{className:"icon-wrapper",style:t.redo?void 0:{color:"#999"},text:"重做",position:"bottom",onClick:a,children:z(Dt,{type:"icon-redo"})}),e.id!==""&&z(tn,{style:{marginRight:8},onClick:d,children:"新建画布"})]}),pe("div",{className:"header-right",children:[pe(tn,{style:{marginRight:8},children:["从设计图导入",z("input",{className:"hide-input",type:"file",accept:".psd",onChange:m})]}),pe(tn,{style:{marginRight:8},children:["导入",z("input",{className:"hide-input",type:"file",accept:".json",onChange:h})]}),z(tn,{style:{marginRight:8},onClick:r,children:"导出图片"}),z(tn,{type:"primary",onClick:l,children:"保存"})]})]})}const KE="_sidebar_1c5do_1",qE="_tabs_1c5do_6",ZE="_main_1c5do_51",bl={sidebar:KE,tabs:qE,main:ZE},e2="_attr_1jnav_1",t2={attr:e2},n2={"double-input":"_double-input_1nolq_1"};function z0({item:e}){const{name:t,value:n,label:r,handler:l}=e,[d,m]=te.exports.useState(n.map(String)),c=(i,h)=>{let{value:A}=i.target;if(/[^-\d]/.test(A))return;Number(A)>=1e4&&(A="10000");const a=d.slice();a[h]=A,m(a),A!==""&&!isNaN(Number(A))&&l(...a.map(Number))};return te.exports.useEffect(()=>{m(n.map(String))},[n]),pe("div",{className:n2["double-input"],children:[z("div",{className:"name",children:t}),pe("div",{className:"wrapper",children:[z("input",{className:"controlled-input",value:d[0],onChange:i=>c(i,0)}),z("input",{className:"controlled-input",value:d[1],onChange:i=>c(i,1)}),z("div",{className:"label-first",children:r[0]}),z("div",{className:"label-second",children:r[1]})]})]})}const r2={"upload-image":"_upload-image_ozos7_1"};function i2({item:e}){const{name:t,handler:n}=e,r=l=>{const d=l.target.files&&l.target.files[0];if(d===null)return;l.target.value="";const m=new FileReader;m.readAsDataURL(d),m.onload=c=>{const i=c.target.result;n(i)}};return z("div",{className:r2["upload-image"],children:pe(tn,{className:"button",children:[t,z("input",{className:"hide-input",type:"file",accept:"image/*",onChange:r})]})})}const a2="_range_ibvr5_1",s2={range:a2};function Yc({item:e}){const{name:t,value:n,min:r=0,max:l=100,handler:d}=e,[m,c]=te.exports.useState(n),i=te.exports.useRef(null),h=s=>{const u=i.current;if(!u)return;const{value:g}=s.target;if(g===""){c(r),d(r),u.style.setProperty("--rail-width","0%");return}if(/[^\d]/.test(g))return;let f=Number(g);f>l?f=l:f<r&&(f=r),c(f),d(f);const p=(f-r)/l;u.style.setProperty("--rail-width",`${p*100}%`)},A=te.exports.useCallback(s=>{const u=i.current;if(!u)return;const{clientWidth:g,offsetLeft:f}=u;let p=(s.clientX-f)/g;p>1?p=1:p<0&&(p=0),u.style.setProperty("--rail-width",`${p*100}%`);const v=p*l>>0;c(v),d(v)},[]),a=te.exports.useCallback(()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",a)},[]),o=s=>{if(s.button!==0)return;const u=i.current;if(!u)return;window.addEventListener("mousemove",A),window.addEventListener("mouseup",a);const{clientWidth:g,offsetLeft:f}=u;let p=(s.clientX-f)/g;p>1?p=1:p<0&&(p=0),u.style.setProperty("--rail-width",`${p*100}%`);const v=p*l>>0;c(v),d(v)};return te.exports.useEffect(()=>{const s=i.current;if(!s)return;c(n);const u=(n-r)/l;s.style.setProperty("--rail-width",`${u*100}%`)},[n]),pe("div",{className:s2.range,children:[pe("div",{className:"header-wrapper",children:[z("div",{children:t}),z("input",{className:"range-input",value:m,onChange:h})]}),z("div",{className:"progress",onMouseDown:o,ref:i,children:z("div",{className:"rail",children:z("div",{className:"handle"})})})]})}const o2="_textarea_1390d_1",l2={textarea:o2};function c2({item:e}){const{name:t,value:n,handler:r}=e,[l,d]=te.exports.useState(n),m=c=>{d(c.target.value),r(c.target.value)};return te.exports.useEffect(()=>{d(n)},[n]),pe("div",{className:l2.textarea,children:[z("div",{className:"name",children:t}),z("textarea",{className:"input-area",onChange:m,value:l})]})}const u2="_color_1llze_1",h2={color:u2};var Qt={},La={},f2=typeof za=="object"&&za&&za.Object===Object&&za,W0=f2,A2=W0,d2=typeof self=="object"&&self&&self.Object===Object&&self,g2=A2||d2||Function("return this")(),ln=g2,p2=ln,v2=p2.Symbol,Ra=v2,FA=Ra,X0=Object.prototype,m2=X0.hasOwnProperty,C2=X0.toString,ji=FA?FA.toStringTag:void 0;function y2(e){var t=m2.call(e,ji),n=e[ji];try{e[ji]=void 0;var r=!0}catch{}var l=C2.call(e);return r&&(t?e[ji]=n:delete e[ji]),l}var w2=y2,E2=Object.prototype,B2=E2.toString;function I2(e){return B2.call(e)}var x2=I2,MA=Ra,b2=w2,S2=x2,_2="[object Null]",Q2="[object Undefined]",PA=MA?MA.toStringTag:void 0;function k2(e){return e==null?e===void 0?Q2:_2:PA&&PA in Object(e)?b2(e):S2(e)}var dr=k2,T2=Array.isArray,Wt=T2;function D2(e){return e!=null&&typeof e=="object"}var wn=D2,O2=dr,F2=Wt,M2=wn,P2="[object String]";function L2(e){return typeof e=="string"||!F2(e)&&M2(e)&&O2(e)==P2}var R2=L2;function N2(e){return function(t,n,r){for(var l=-1,d=Object(t),m=r(t),c=m.length;c--;){var i=m[e?c:++l];if(n(d[i],i,d)===!1)break}return t}}var G2=N2,j2=G2,$2=j2(),U2=$2;function H2(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Y2=H2,z2=dr,W2=wn,X2="[object Arguments]";function V2(e){return W2(e)&&z2(e)==X2}var J2=V2,LA=J2,K2=wn,V0=Object.prototype,q2=V0.hasOwnProperty,Z2=V0.propertyIsEnumerable,eB=LA(function(){return arguments}())?LA:function(e){return K2(e)&&q2.call(e,"callee")&&!Z2.call(e,"callee")},J0=eB,Sa={exports:{}};function tB(){return!1}var nB=tB;(function(e,t){var n=ln,r=nB,l=t&&!t.nodeType&&t,d=l&&!0&&e&&!e.nodeType&&e,m=d&&d.exports===l,c=m?n.Buffer:void 0,i=c?c.isBuffer:void 0,h=i||r;e.exports=h})(Sa,Sa.exports);var rB=9007199254740991,iB=/^(?:0|[1-9]\d*)$/;function aB(e,t){var n=typeof e;return t=t??rB,!!t&&(n=="number"||n!="symbol"&&iB.test(e))&&e>-1&&e%1==0&&e<t}var K0=aB,sB=9007199254740991;function oB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sB}var hh=oB,lB=dr,cB=hh,uB=wn,hB="[object Arguments]",fB="[object Array]",AB="[object Boolean]",dB="[object Date]",gB="[object Error]",pB="[object Function]",vB="[object Map]",mB="[object Number]",CB="[object Object]",yB="[object RegExp]",wB="[object Set]",EB="[object String]",BB="[object WeakMap]",IB="[object ArrayBuffer]",xB="[object DataView]",bB="[object Float32Array]",SB="[object Float64Array]",_B="[object Int8Array]",QB="[object Int16Array]",kB="[object Int32Array]",TB="[object Uint8Array]",DB="[object Uint8ClampedArray]",OB="[object Uint16Array]",FB="[object Uint32Array]",ke={};ke[bB]=ke[SB]=ke[_B]=ke[QB]=ke[kB]=ke[TB]=ke[DB]=ke[OB]=ke[FB]=!0;ke[hB]=ke[fB]=ke[IB]=ke[AB]=ke[xB]=ke[dB]=ke[gB]=ke[pB]=ke[vB]=ke[mB]=ke[CB]=ke[yB]=ke[wB]=ke[EB]=ke[BB]=!1;function MB(e){return uB(e)&&cB(e.length)&&!!ke[lB(e)]}var PB=MB;function LB(e){return function(t){return e(t)}}var fh=LB,_a={exports:{}};(function(e,t){var n=W0,r=t&&!t.nodeType&&t,l=r&&!0&&e&&!e.nodeType&&e,d=l&&l.exports===r,m=d&&n.process,c=function(){try{var i=l&&l.require&&l.require("util").types;return i||m&&m.binding&&m.binding("util")}catch{}}();e.exports=c})(_a,_a.exports);var RB=PB,NB=fh,RA=_a.exports,NA=RA&&RA.isTypedArray,GB=NA?NB(NA):RB,q0=GB,jB=Y2,$B=J0,UB=Wt,HB=Sa.exports,YB=K0,zB=q0,WB=Object.prototype,XB=WB.hasOwnProperty;function VB(e,t){var n=UB(e),r=!n&&$B(e),l=!n&&!r&&HB(e),d=!n&&!r&&!l&&zB(e),m=n||r||l||d,c=m?jB(e.length,String):[],i=c.length;for(var h in e)(t||XB.call(e,h))&&!(m&&(h=="length"||l&&(h=="offset"||h=="parent")||d&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||YB(h,i)))&&c.push(h);return c}var Z0=VB,JB=Object.prototype;function KB(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||JB;return e===n}var Ah=KB;function qB(e,t){return function(n){return e(t(n))}}var ev=qB,ZB=ev,eI=ZB(Object.keys,Object),tI=eI,nI=Ah,rI=tI,iI=Object.prototype,aI=iI.hasOwnProperty;function sI(e){if(!nI(e))return rI(e);var t=[];for(var n in Object(e))aI.call(e,n)&&n!="constructor"&&t.push(n);return t}var oI=sI;function lI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wi=lI,cI=dr,uI=wi,hI="[object AsyncFunction]",fI="[object Function]",AI="[object GeneratorFunction]",dI="[object Proxy]";function gI(e){if(!uI(e))return!1;var t=cI(e);return t==fI||t==AI||t==hI||t==dI}var tv=gI,pI=tv,vI=hh;function mI(e){return e!=null&&vI(e.length)&&!pI(e)}var ko=mI,CI=Z0,yI=oI,wI=ko;function EI(e){return wI(e)?CI(e):yI(e)}var Na=EI,BI=U2,II=Na;function xI(e,t){return e&&BI(e,t,II)}var nv=xI;function bI(e){return e}var rv=bI,SI=rv;function _I(e){return typeof e=="function"?e:SI}var QI=_I,kI=nv,TI=QI;function DI(e,t){return e&&kI(e,TI(t))}var dh=DI,OI=ev,FI=OI(Object.getPrototypeOf,Object),gh=FI,MI=dr,PI=gh,LI=wn,RI="[object Object]",NI=Function.prototype,GI=Object.prototype,iv=NI.toString,jI=GI.hasOwnProperty,$I=iv.call(Object);function UI(e){if(!LI(e)||MI(e)!=RI)return!1;var t=PI(e);if(t===null)return!0;var n=jI.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iv.call(n)==$I}var HI=UI;function YI(e,t){for(var n=-1,r=e==null?0:e.length,l=Array(r);++n<r;)l[n]=t(e[n],n,e);return l}var av=YI;function zI(){this.__data__=[],this.size=0}var WI=zI;function XI(e,t){return e===t||e!==e&&t!==t}var ph=XI,VI=ph;function JI(e,t){for(var n=e.length;n--;)if(VI(e[n][0],t))return n;return-1}var To=JI,KI=To,qI=Array.prototype,ZI=qI.splice;function ex(e){var t=this.__data__,n=KI(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ZI.call(t,n,1),--this.size,!0}var tx=ex,nx=To;function rx(e){var t=this.__data__,n=nx(t,e);return n<0?void 0:t[n][1]}var ix=rx,ax=To;function sx(e){return ax(this.__data__,e)>-1}var ox=sx,lx=To;function cx(e,t){var n=this.__data__,r=lx(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var ux=cx,hx=WI,fx=tx,Ax=ix,dx=ox,gx=ux;function Ei(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ei.prototype.clear=hx;Ei.prototype.delete=fx;Ei.prototype.get=Ax;Ei.prototype.has=dx;Ei.prototype.set=gx;var Do=Ei,px=Do;function vx(){this.__data__=new px,this.size=0}var mx=vx;function Cx(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var yx=Cx;function wx(e){return this.__data__.get(e)}var Ex=wx;function Bx(e){return this.__data__.has(e)}var Ix=Bx,xx=ln,bx=xx["__core-js_shared__"],Sx=bx,Sl=Sx,GA=function(){var e=/[^.]+$/.exec(Sl&&Sl.keys&&Sl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _x(e){return!!GA&&GA in e}var Qx=_x,kx=Function.prototype,Tx=kx.toString;function Dx(e){if(e!=null){try{return Tx.call(e)}catch{}try{return e+""}catch{}}return""}var sv=Dx,Ox=tv,Fx=Qx,Mx=wi,Px=sv,Lx=/[\\^$.*+?()[\]{}|]/g,Rx=/^\[object .+?Constructor\]$/,Nx=Function.prototype,Gx=Object.prototype,jx=Nx.toString,$x=Gx.hasOwnProperty,Ux=RegExp("^"+jx.call($x).replace(Lx,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hx(e){if(!Mx(e)||Fx(e))return!1;var t=Ox(e)?Ux:Rx;return t.test(Px(e))}var Yx=Hx;function zx(e,t){return e==null?void 0:e[t]}var Wx=zx,Xx=Yx,Vx=Wx;function Jx(e,t){var n=Vx(e,t);return Xx(n)?n:void 0}var gr=Jx,Kx=gr,qx=ln,Zx=Kx(qx,"Map"),vh=Zx,eb=gr,tb=eb(Object,"create"),Oo=tb,jA=Oo;function nb(){this.__data__=jA?jA(null):{},this.size=0}var rb=nb;function ib(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ab=ib,sb=Oo,ob="__lodash_hash_undefined__",lb=Object.prototype,cb=lb.hasOwnProperty;function ub(e){var t=this.__data__;if(sb){var n=t[e];return n===ob?void 0:n}return cb.call(t,e)?t[e]:void 0}var hb=ub,fb=Oo,Ab=Object.prototype,db=Ab.hasOwnProperty;function gb(e){var t=this.__data__;return fb?t[e]!==void 0:db.call(t,e)}var pb=gb,vb=Oo,mb="__lodash_hash_undefined__";function Cb(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vb&&t===void 0?mb:t,this}var yb=Cb,wb=rb,Eb=ab,Bb=hb,Ib=pb,xb=yb;function Bi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bi.prototype.clear=wb;Bi.prototype.delete=Eb;Bi.prototype.get=Bb;Bi.prototype.has=Ib;Bi.prototype.set=xb;var bb=Bi,$A=bb,Sb=Do,_b=vh;function Qb(){this.size=0,this.__data__={hash:new $A,map:new(_b||Sb),string:new $A}}var kb=Qb;function Tb(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Db=Tb,Ob=Db;function Fb(e,t){var n=e.__data__;return Ob(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Fo=Fb,Mb=Fo;function Pb(e){var t=Mb(this,e).delete(e);return this.size-=t?1:0,t}var Lb=Pb,Rb=Fo;function Nb(e){return Rb(this,e).get(e)}var Gb=Nb,jb=Fo;function $b(e){return jb(this,e).has(e)}var Ub=$b,Hb=Fo;function Yb(e,t){var n=Hb(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var zb=Yb,Wb=kb,Xb=Lb,Vb=Gb,Jb=Ub,Kb=zb;function Ii(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ii.prototype.clear=Wb;Ii.prototype.delete=Xb;Ii.prototype.get=Vb;Ii.prototype.has=Jb;Ii.prototype.set=Kb;var mh=Ii,qb=Do,Zb=vh,eS=mh,tS=200;function nS(e,t){var n=this.__data__;if(n instanceof qb){var r=n.__data__;if(!Zb||r.length<tS-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new eS(r)}return n.set(e,t),this.size=n.size,this}var rS=nS,iS=Do,aS=mx,sS=yx,oS=Ex,lS=Ix,cS=rS;function xi(e){var t=this.__data__=new iS(e);this.size=t.size}xi.prototype.clear=aS;xi.prototype.delete=sS;xi.prototype.get=oS;xi.prototype.has=lS;xi.prototype.set=cS;var Ch=xi,uS="__lodash_hash_undefined__";function hS(e){return this.__data__.set(e,uS),this}var fS=hS;function AS(e){return this.__data__.has(e)}var dS=AS,gS=mh,pS=fS,vS=dS;function ro(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gS;++t<n;)this.add(e[t])}ro.prototype.add=ro.prototype.push=pS;ro.prototype.has=vS;var mS=ro;function CS(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yS=CS;function wS(e,t){return e.has(t)}var ES=wS,BS=mS,IS=yS,xS=ES,bS=1,SS=2;function _S(e,t,n,r,l,d){var m=n&bS,c=e.length,i=t.length;if(c!=i&&!(m&&i>c))return!1;var h=d.get(e),A=d.get(t);if(h&&A)return h==t&&A==e;var a=-1,o=!0,s=n&SS?new BS:void 0;for(d.set(e,t),d.set(t,e);++a<c;){var u=e[a],g=t[a];if(r)var f=m?r(g,u,a,t,e,d):r(u,g,a,e,t,d);if(f!==void 0){if(f)continue;o=!1;break}if(s){if(!IS(t,function(p,v){if(!xS(s,v)&&(u===p||l(u,p,n,r,d)))return s.push(v)})){o=!1;break}}else if(!(u===g||l(u,g,n,r,d))){o=!1;break}}return d.delete(e),d.delete(t),o}var ov=_S,QS=ln,kS=QS.Uint8Array,lv=kS;function TS(e){var t=-1,n=Array(e.size);return e.forEach(function(r,l){n[++t]=[l,r]}),n}var DS=TS;function OS(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var FS=OS,UA=Ra,HA=lv,MS=ph,PS=ov,LS=DS,RS=FS,NS=1,GS=2,jS="[object Boolean]",$S="[object Date]",US="[object Error]",HS="[object Map]",YS="[object Number]",zS="[object RegExp]",WS="[object Set]",XS="[object String]",VS="[object Symbol]",JS="[object ArrayBuffer]",KS="[object DataView]",YA=UA?UA.prototype:void 0,_l=YA?YA.valueOf:void 0;function qS(e,t,n,r,l,d,m){switch(n){case KS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case JS:return!(e.byteLength!=t.byteLength||!d(new HA(e),new HA(t)));case jS:case $S:case YS:return MS(+e,+t);case US:return e.name==t.name&&e.message==t.message;case zS:case XS:return e==t+"";case HS:var c=LS;case WS:var i=r&NS;if(c||(c=RS),e.size!=t.size&&!i)return!1;var h=m.get(e);if(h)return h==t;r|=GS,m.set(e,t);var A=PS(c(e),c(t),r,l,d,m);return m.delete(e),A;case VS:if(_l)return _l.call(e)==_l.call(t)}return!1}var ZS=qS;function e_(e,t){for(var n=-1,r=t.length,l=e.length;++n<r;)e[l+n]=t[n];return e}var cv=e_,t_=cv,n_=Wt;function r_(e,t,n){var r=t(e);return n_(e)?r:t_(r,n(e))}var uv=r_;function i_(e,t){for(var n=-1,r=e==null?0:e.length,l=0,d=[];++n<r;){var m=e[n];t(m,n,e)&&(d[l++]=m)}return d}var a_=i_;function s_(){return[]}var hv=s_,o_=a_,l_=hv,c_=Object.prototype,u_=c_.propertyIsEnumerable,zA=Object.getOwnPropertySymbols,h_=zA?function(e){return e==null?[]:(e=Object(e),o_(zA(e),function(t){return u_.call(e,t)}))}:l_,yh=h_,f_=uv,A_=yh,d_=Na;function g_(e){return f_(e,d_,A_)}var fv=g_,WA=fv,p_=1,v_=Object.prototype,m_=v_.hasOwnProperty;function C_(e,t,n,r,l,d){var m=n&p_,c=WA(e),i=c.length,h=WA(t),A=h.length;if(i!=A&&!m)return!1;for(var a=i;a--;){var o=c[a];if(!(m?o in t:m_.call(t,o)))return!1}var s=d.get(e),u=d.get(t);if(s&&u)return s==t&&u==e;var g=!0;d.set(e,t),d.set(t,e);for(var f=m;++a<i;){o=c[a];var p=e[o],v=t[o];if(r)var C=m?r(v,p,o,t,e,d):r(p,v,o,e,t,d);if(!(C===void 0?p===v||l(p,v,n,r,d):C)){g=!1;break}f||(f=o=="constructor")}if(g&&!f){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof w=="function"&&w instanceof w)&&(g=!1)}return d.delete(e),d.delete(t),g}var y_=C_,w_=gr,E_=ln,B_=w_(E_,"DataView"),I_=B_,x_=gr,b_=ln,S_=x_(b_,"Promise"),__=S_,Q_=gr,k_=ln,T_=Q_(k_,"Set"),D_=T_,O_=gr,F_=ln,M_=O_(F_,"WeakMap"),P_=M_,zc=I_,Wc=vh,Xc=__,Vc=D_,Jc=P_,Av=dr,bi=sv,XA="[object Map]",L_="[object Object]",VA="[object Promise]",JA="[object Set]",KA="[object WeakMap]",qA="[object DataView]",R_=bi(zc),N_=bi(Wc),G_=bi(Xc),j_=bi(Vc),$_=bi(Jc),qn=Av;(zc&&qn(new zc(new ArrayBuffer(1)))!=qA||Wc&&qn(new Wc)!=XA||Xc&&qn(Xc.resolve())!=VA||Vc&&qn(new Vc)!=JA||Jc&&qn(new Jc)!=KA)&&(qn=function(e){var t=Av(e),n=t==L_?e.constructor:void 0,r=n?bi(n):"";if(r)switch(r){case R_:return qA;case N_:return XA;case G_:return VA;case j_:return JA;case $_:return KA}return t});var Mo=qn,Ql=Ch,U_=ov,H_=ZS,Y_=y_,ZA=Mo,ed=Wt,td=Sa.exports,z_=q0,W_=1,nd="[object Arguments]",rd="[object Array]",fs="[object Object]",X_=Object.prototype,id=X_.hasOwnProperty;function V_(e,t,n,r,l,d){var m=ed(e),c=ed(t),i=m?rd:ZA(e),h=c?rd:ZA(t);i=i==nd?fs:i,h=h==nd?fs:h;var A=i==fs,a=h==fs,o=i==h;if(o&&td(e)){if(!td(t))return!1;m=!0,A=!1}if(o&&!A)return d||(d=new Ql),m||z_(e)?U_(e,t,n,r,l,d):H_(e,t,i,n,r,l,d);if(!(n&W_)){var s=A&&id.call(e,"__wrapped__"),u=a&&id.call(t,"__wrapped__");if(s||u){var g=s?e.value():e,f=u?t.value():t;return d||(d=new Ql),l(g,f,n,r,d)}}return o?(d||(d=new Ql),Y_(e,t,n,r,l,d)):!1}var J_=V_,K_=J_,ad=wn;function dv(e,t,n,r,l){return e===t?!0:e==null||t==null||!ad(e)&&!ad(t)?e!==e&&t!==t:K_(e,t,n,r,dv,l)}var gv=dv,q_=Ch,Z_=gv,eQ=1,tQ=2;function nQ(e,t,n,r){var l=n.length,d=l,m=!r;if(e==null)return!d;for(e=Object(e);l--;){var c=n[l];if(m&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<d;){c=n[l];var i=c[0],h=e[i],A=c[1];if(m&&c[2]){if(h===void 0&&!(i in e))return!1}else{var a=new q_;if(r)var o=r(h,A,i,e,t,a);if(!(o===void 0?Z_(A,h,eQ|tQ,r,a):o))return!1}}return!0}var rQ=nQ,iQ=wi;function aQ(e){return e===e&&!iQ(e)}var pv=aQ,sQ=pv,oQ=Na;function lQ(e){for(var t=oQ(e),n=t.length;n--;){var r=t[n],l=e[r];t[n]=[r,l,sQ(l)]}return t}var cQ=lQ;function uQ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var vv=uQ,hQ=rQ,fQ=cQ,AQ=vv;function dQ(e){var t=fQ(e);return t.length==1&&t[0][2]?AQ(t[0][0],t[0][1]):function(n){return n===e||hQ(n,e,t)}}var gQ=dQ,pQ=dr,vQ=wn,mQ="[object Symbol]";function CQ(e){return typeof e=="symbol"||vQ(e)&&pQ(e)==mQ}var wh=CQ,yQ=Wt,wQ=wh,EQ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BQ=/^\w*$/;function IQ(e,t){if(yQ(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||wQ(e)?!0:BQ.test(e)||!EQ.test(e)||t!=null&&e in Object(t)}var Eh=IQ,mv=mh,xQ="Expected a function";function Bh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xQ);var n=function(){var r=arguments,l=t?t.apply(this,r):r[0],d=n.cache;if(d.has(l))return d.get(l);var m=e.apply(this,r);return n.cache=d.set(l,m)||d,m};return n.cache=new(Bh.Cache||mv),n}Bh.Cache=mv;var bQ=Bh,SQ=bQ,_Q=500;function QQ(e){var t=SQ(e,function(r){return n.size===_Q&&n.clear(),r}),n=t.cache;return t}var kQ=QQ,TQ=kQ,DQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OQ=/\\(\\)?/g,FQ=TQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(DQ,function(n,r,l,d){t.push(l?d.replace(OQ,"$1"):r||n)}),t}),MQ=FQ,sd=Ra,PQ=av,LQ=Wt,RQ=wh,NQ=1/0,od=sd?sd.prototype:void 0,ld=od?od.toString:void 0;function Cv(e){if(typeof e=="string")return e;if(LQ(e))return PQ(e,Cv)+"";if(RQ(e))return ld?ld.call(e):"";var t=e+"";return t=="0"&&1/e==-NQ?"-0":t}var GQ=Cv,jQ=GQ;function $Q(e){return e==null?"":jQ(e)}var UQ=$Q,HQ=Wt,YQ=Eh,zQ=MQ,WQ=UQ;function XQ(e,t){return HQ(e)?e:YQ(e,t)?[e]:zQ(WQ(e))}var yv=XQ,VQ=wh,JQ=1/0;function KQ(e){if(typeof e=="string"||VQ(e))return e;var t=e+"";return t=="0"&&1/e==-JQ?"-0":t}var Po=KQ,qQ=yv,ZQ=Po;function e3(e,t){t=qQ(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ZQ(t[n++])];return n&&n==r?e:void 0}var wv=e3,t3=wv;function n3(e,t,n){var r=e==null?void 0:t3(e,t);return r===void 0?n:r}var r3=n3;function i3(e,t){return e!=null&&t in Object(e)}var a3=i3,s3=yv,o3=J0,l3=Wt,c3=K0,u3=hh,h3=Po;function f3(e,t,n){t=s3(t,e);for(var r=-1,l=t.length,d=!1;++r<l;){var m=h3(t[r]);if(!(d=e!=null&&n(e,m)))break;e=e[m]}return d||++r!=l?d:(l=e==null?0:e.length,!!l&&u3(l)&&c3(m,l)&&(l3(e)||o3(e)))}var A3=f3,d3=a3,g3=A3;function p3(e,t){return e!=null&&g3(e,t,d3)}var v3=p3,m3=gv,C3=r3,y3=v3,w3=Eh,E3=pv,B3=vv,I3=Po,x3=1,b3=2;function S3(e,t){return w3(e)&&E3(t)?B3(I3(e),t):function(n){var r=C3(n,e);return r===void 0&&r===t?y3(n,e):m3(t,r,x3|b3)}}var _3=S3;function Q3(e){return function(t){return t==null?void 0:t[e]}}var k3=Q3,T3=wv;function D3(e){return function(t){return T3(t,e)}}var O3=D3,F3=k3,M3=O3,P3=Eh,L3=Po;function R3(e){return P3(e)?F3(L3(e)):M3(e)}var N3=R3,G3=gQ,j3=_3,$3=rv,U3=Wt,H3=N3;function Y3(e){return typeof e=="function"?e:e==null?$3:typeof e=="object"?U3(e)?j3(e[0],e[1]):G3(e):H3(e)}var z3=Y3,W3=ko;function X3(e,t){return function(n,r){if(n==null)return n;if(!W3(n))return e(n,r);for(var l=n.length,d=t?l:-1,m=Object(n);(t?d--:++d<l)&&r(m[d],d,m)!==!1;);return n}}var V3=X3,J3=nv,K3=V3,q3=K3(J3),Z3=q3,ek=Z3,tk=ko;function nk(e,t){var n=-1,r=tk(e)?Array(e.length):[];return ek(e,function(l,d,m){r[++n]=t(l,d,m)}),r}var rk=nk,ik=av,ak=z3,sk=rk,ok=Wt;function lk(e,t){var n=ok(e)?ik:sk;return n(e,ak(t))}var ck=lk;Object.defineProperty(La,"__esModule",{value:!0});La.flattenNames=void 0;var uk=R2,hk=Lo(uk),fk=dh,Ak=Lo(fk),dk=HI,gk=Lo(dk),pk=ck,vk=Lo(pk);function Lo(e){return e&&e.__esModule?e:{default:e}}var mk=La.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,vk.default)(t,function(r){Array.isArray(r)?e(r).map(function(l){return n.push(l)}):(0,gk.default)(r)?(0,Ak.default)(r,function(l,d){l===!0&&n.push(d),n.push(d+"-"+l)}):(0,hk.default)(r)&&n.push(r)}),n};La.default=mk;var Ga={};function Ck(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var yk=Ck,wk=gr,Ek=function(){try{var e=wk(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Bk=Ek,cd=Bk;function Ik(e,t,n){t=="__proto__"&&cd?cd(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Ev=Ik,xk=Ev,bk=ph,Sk=Object.prototype,_k=Sk.hasOwnProperty;function Qk(e,t,n){var r=e[t];(!(_k.call(e,t)&&bk(r,n))||n===void 0&&!(t in e))&&xk(e,t,n)}var Bv=Qk,kk=Bv,Tk=Ev;function Dk(e,t,n,r){var l=!n;n||(n={});for(var d=-1,m=t.length;++d<m;){var c=t[d],i=r?r(n[c],e[c],c,n,e):void 0;i===void 0&&(i=e[c]),l?Tk(n,c,i):kk(n,c,i)}return n}var Ro=Dk,Ok=Ro,Fk=Na;function Mk(e,t){return e&&Ok(t,Fk(t),e)}var Pk=Mk;function Lk(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Rk=Lk,Nk=wi,Gk=Ah,jk=Rk,$k=Object.prototype,Uk=$k.hasOwnProperty;function Hk(e){if(!Nk(e))return jk(e);var t=Gk(e),n=[];for(var r in e)r=="constructor"&&(t||!Uk.call(e,r))||n.push(r);return n}var Yk=Hk,zk=Z0,Wk=Yk,Xk=ko;function Vk(e){return Xk(e)?zk(e,!0):Wk(e)}var Ih=Vk,Jk=Ro,Kk=Ih;function qk(e,t){return e&&Jk(t,Kk(t),e)}var Zk=qk,Kc={exports:{}};(function(e,t){var n=ln,r=t&&!t.nodeType&&t,l=r&&!0&&e&&!e.nodeType&&e,d=l&&l.exports===r,m=d?n.Buffer:void 0,c=m?m.allocUnsafe:void 0;function i(h,A){if(A)return h.slice();var a=h.length,o=c?c(a):new h.constructor(a);return h.copy(o),o}e.exports=i})(Kc,Kc.exports);function eT(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var tT=eT,nT=Ro,rT=yh;function iT(e,t){return nT(e,rT(e),t)}var aT=iT,sT=cv,oT=gh,lT=yh,cT=hv,uT=Object.getOwnPropertySymbols,hT=uT?function(e){for(var t=[];e;)sT(t,lT(e)),e=oT(e);return t}:cT,Iv=hT,fT=Ro,AT=Iv;function dT(e,t){return fT(e,AT(e),t)}var gT=dT,pT=uv,vT=Iv,mT=Ih;function CT(e){return pT(e,mT,vT)}var yT=CT,wT=Object.prototype,ET=wT.hasOwnProperty;function BT(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&ET.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var IT=BT,ud=lv;function xT(e){var t=new e.constructor(e.byteLength);return new ud(t).set(new ud(e)),t}var xh=xT,bT=xh;function ST(e,t){var n=t?bT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _T=ST,QT=/\w*$/;function kT(e){var t=new e.constructor(e.source,QT.exec(e));return t.lastIndex=e.lastIndex,t}var TT=kT,hd=Ra,fd=hd?hd.prototype:void 0,Ad=fd?fd.valueOf:void 0;function DT(e){return Ad?Object(Ad.call(e)):{}}var OT=DT,FT=xh;function MT(e,t){var n=t?FT(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var PT=MT,LT=xh,RT=_T,NT=TT,GT=OT,jT=PT,$T="[object Boolean]",UT="[object Date]",HT="[object Map]",YT="[object Number]",zT="[object RegExp]",WT="[object Set]",XT="[object String]",VT="[object Symbol]",JT="[object ArrayBuffer]",KT="[object DataView]",qT="[object Float32Array]",ZT="[object Float64Array]",e6="[object Int8Array]",t6="[object Int16Array]",n6="[object Int32Array]",r6="[object Uint8Array]",i6="[object Uint8ClampedArray]",a6="[object Uint16Array]",s6="[object Uint32Array]";function o6(e,t,n){var r=e.constructor;switch(t){case JT:return LT(e);case $T:case UT:return new r(+e);case KT:return RT(e,n);case qT:case ZT:case e6:case t6:case n6:case r6:case i6:case a6:case s6:return jT(e,n);case HT:return new r;case YT:case XT:return new r(e);case zT:return NT(e);case WT:return new r;case VT:return GT(e)}}var l6=o6,c6=wi,dd=Object.create,u6=function(){function e(){}return function(t){if(!c6(t))return{};if(dd)return dd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),h6=u6,f6=h6,A6=gh,d6=Ah;function g6(e){return typeof e.constructor=="function"&&!d6(e)?f6(A6(e)):{}}var p6=g6,v6=Mo,m6=wn,C6="[object Map]";function y6(e){return m6(e)&&v6(e)==C6}var w6=y6,E6=w6,B6=fh,gd=_a.exports,pd=gd&&gd.isMap,I6=pd?B6(pd):E6,x6=I6,b6=Mo,S6=wn,_6="[object Set]";function Q6(e){return S6(e)&&b6(e)==_6}var k6=Q6,T6=k6,D6=fh,vd=_a.exports,md=vd&&vd.isSet,O6=md?D6(md):T6,F6=O6,M6=Ch,P6=yk,L6=Bv,R6=Pk,N6=Zk,G6=Kc.exports,j6=tT,$6=aT,U6=gT,H6=fv,Y6=yT,z6=Mo,W6=IT,X6=l6,V6=p6,J6=Wt,K6=Sa.exports,q6=x6,Z6=wi,eD=F6,tD=Na,nD=Ih,rD=1,iD=2,aD=4,xv="[object Arguments]",sD="[object Array]",oD="[object Boolean]",lD="[object Date]",cD="[object Error]",bv="[object Function]",uD="[object GeneratorFunction]",hD="[object Map]",fD="[object Number]",Sv="[object Object]",AD="[object RegExp]",dD="[object Set]",gD="[object String]",pD="[object Symbol]",vD="[object WeakMap]",mD="[object ArrayBuffer]",CD="[object DataView]",yD="[object Float32Array]",wD="[object Float64Array]",ED="[object Int8Array]",BD="[object Int16Array]",ID="[object Int32Array]",xD="[object Uint8Array]",bD="[object Uint8ClampedArray]",SD="[object Uint16Array]",_D="[object Uint32Array]",be={};be[xv]=be[sD]=be[mD]=be[CD]=be[oD]=be[lD]=be[yD]=be[wD]=be[ED]=be[BD]=be[ID]=be[hD]=be[fD]=be[Sv]=be[AD]=be[dD]=be[gD]=be[pD]=be[xD]=be[bD]=be[SD]=be[_D]=!0;be[cD]=be[bv]=be[vD]=!1;function Qs(e,t,n,r,l,d){var m,c=t&rD,i=t&iD,h=t&aD;if(n&&(m=l?n(e,r,l,d):n(e)),m!==void 0)return m;if(!Z6(e))return e;var A=J6(e);if(A){if(m=W6(e),!c)return j6(e,m)}else{var a=z6(e),o=a==bv||a==uD;if(K6(e))return G6(e,c);if(a==Sv||a==xv||o&&!l){if(m=i||o?{}:V6(e),!c)return i?U6(e,N6(m,e)):$6(e,R6(m,e))}else{if(!be[a])return l?e:{};m=X6(e,a,c)}}d||(d=new M6);var s=d.get(e);if(s)return s;d.set(e,m),eD(e)?e.forEach(function(f){m.add(Qs(f,t,n,f,e,d))}):q6(e)&&e.forEach(function(f,p){m.set(p,Qs(f,t,n,p,e,d))});var u=h?i?Y6:H6:i?nD:tD,g=A?void 0:u(e);return P6(g||e,function(f,p){g&&(p=f,f=e[p]),L6(m,p,Qs(f,t,n,p,e,d))}),m}var QD=Qs,kD=QD,TD=1,DD=4;function OD(e){return kD(e,TD|DD)}var FD=OD;Object.defineProperty(Ga,"__esModule",{value:!0});Ga.mergeClasses=void 0;var MD=dh,PD=_v(MD),LD=FD,RD=_v(LD),ND=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _v(e){return e&&e.__esModule?e:{default:e}}var GD=Ga.mergeClasses=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.default&&(0,RD.default)(t.default)||{};return n.map(function(l){var d=t[l];return d&&(0,PD.default)(d,function(m,c){r[c]||(r[c]={}),r[c]=ND({},r[c],d[c])}),l}),r};Ga.default=GD;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.autoprefix=void 0;var jD=dh,Cd=UD(jD),$D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function UD(e){return e&&e.__esModule?e:{default:e}}var HD={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var n=t&&t.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(t,n){var r=n[t];return r||{extend:t}}},YD=ja.autoprefix=function(t){var n={};return(0,Cd.default)(t,function(r,l){var d={};(0,Cd.default)(r,function(m,c){var i=HD[c];i?d=$D({},d,i(m)):d[c]=m}),n[l]=d}),n};ja.default=YD;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.hover=void 0;var zD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WD=te.exports,kl=XD(WD);function XD(e){return e&&e.__esModule?e:{default:e}}function VD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function JD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KD=$a.hover=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){JD(l,r);function l(){var d,m,c,i;VD(this,l);for(var h=arguments.length,A=Array(h),a=0;a<h;a++)A[a]=arguments[a];return i=(m=(c=yd(this,(d=l.__proto__||Object.getPrototypeOf(l)).call.apply(d,[this].concat(A))),c),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return kl.default.createElement(n,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},kl.default.createElement(t,zD({},c.props,c.state)))},m),yd(c,i)}return l}(kl.default.Component)};$a.default=KD;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.active=void 0;var qD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZD=te.exports,Tl=e4(ZD);function e4(e){return e&&e.__esModule?e:{default:e}}function t4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function n4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r4=Ua.active=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){n4(l,r);function l(){var d,m,c,i;t4(this,l);for(var h=arguments.length,A=Array(h),a=0;a<h;a++)A[a]=arguments[a];return i=(m=(c=wd(this,(d=l.__proto__||Object.getPrototypeOf(l)).call.apply(d,[this].concat(A))),c),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return Tl.default.createElement(n,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},Tl.default.createElement(t,qD({},c.props,c.state)))},m),wd(c,i)}return l}(Tl.default.Component)};Ua.default=r4;var bh={};Object.defineProperty(bh,"__esModule",{value:!0});var i4=function(t,n){var r={},l=function(m){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[m]=c};return t===0&&l("first-child"),t===n-1&&l("last-child"),(t===0||t%2===0)&&l("even"),Math.abs(t%2)===1&&l("odd"),l("nth-child",t),r};bh.default=i4;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ReactCSS=Qt.loop=Qt.handleActive=Sh=Qt.handleHover=Qt.hover=void 0;var a4=La,s4=Si(a4),o4=Ga,l4=Si(o4),c4=ja,u4=Si(c4),h4=$a,Qv=Si(h4),f4=Ua,A4=Si(f4),d4=bh,g4=Si(d4);function Si(e){return e&&e.__esModule?e:{default:e}}Qt.hover=Qv.default;var Sh=Qt.handleHover=Qv.default;Qt.handleActive=A4.default;Qt.loop=g4.default;var p4=Qt.ReactCSS=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];var d=(0,s4.default)(r),m=(0,l4.default)(t,d);return(0,u4.default)(m)},Ae=Qt.default=p4,v4=function(t,n,r,l,d){var m=d.clientWidth,c=d.clientHeight,i=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,A=i-(d.getBoundingClientRect().left+window.pageXOffset),a=h-(d.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var o=void 0;if(a<0?o=0:a>c?o=1:o=Math.round(a*100/c)/100,n.a!==o)return{h:n.h,s:n.s,l:n.l,a:o,source:"rgb"}}else{var s=void 0;if(A<0?s=0:A>m?s=1:s=Math.round(A*100/m)/100,l!==s)return{h:n.h,s:n.s,l:n.l,a:s,source:"rgb"}}return null},Dl={},m4=function(t,n,r,l){if(typeof document>"u"&&!l)return null;var d=l?new l:document.createElement("canvas");d.width=r*2,d.height=r*2;var m=d.getContext("2d");return m?(m.fillStyle=t,m.fillRect(0,0,d.width,d.height),m.fillStyle=n,m.fillRect(0,0,r,r),m.translate(r,r),m.fillRect(0,0,r,r),d.toDataURL()):null},C4=function(t,n,r,l){var d=t+"-"+n+"-"+r+(l?"-server":"");if(Dl[d])return Dl[d];var m=m4(t,n,r,l);return Dl[d]=m,m},Ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_i=function(t){var n=t.white,r=t.grey,l=t.size,d=t.renderers,m=t.borderRadius,c=t.boxShadow,i=t.children,h=Ae({default:{grid:{borderRadius:m,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+C4(n,r,l,d.canvas)+") center left"}}});return te.exports.isValidElement(i)?k.cloneElement(i,Ed({},i.props,{style:Ed({},i.props.style,h.grid)})):k.createElement("div",{style:h.grid})};_i.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var y4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w4=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function B4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _h=function(e){B4(t,e);function t(){var n,r,l,d;E4(this,t);for(var m=arguments.length,c=Array(m),i=0;i<m;i++)c[i]=arguments[i];return d=(r=(l=Bd(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(c))),l),l.handleChange=function(h){var A=v4(h,l.props.hsl,l.props.direction,l.props.a,l.container);A&&typeof l.props.onChange=="function"&&l.props.onChange(A,h)},l.handleMouseDown=function(h){l.handleChange(h),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},l.unbindEventListeners=function(){window.removeEventListener("mousemove",l.handleChange),window.removeEventListener("mouseup",l.handleMouseUp)},r),Bd(l,d)}return w4(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,l=this.props.rgb,d=Ae({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:l.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)"},pointer:{left:0,top:l.a*100+"%"}},overwrite:y4({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return k.createElement("div",{style:d.alpha},k.createElement("div",{style:d.checkboard},k.createElement(_i,{renderers:this.props.renderers})),k.createElement("div",{style:d.gradient}),k.createElement("div",{style:d.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("div",{style:d.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:d.slider}))))}}]),t}(te.exports.PureComponent||te.exports.Component),I4=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function x4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q4=1,kv=38,k4=40,T4=[kv,k4],D4=function(t){return T4.indexOf(t)>-1},O4=function(t){return Number(String(t).replace(/%/g,""))},F4=1,ye=function(e){_4(t,e);function t(n){b4(this,t);var r=S4(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(l){r.setUpdatedValue(l.target.value,l)},r.handleKeyDown=function(l){var d=O4(l.target.value);if(!isNaN(d)&&D4(l.keyCode)){var m=r.getArrowOffset(),c=l.keyCode===kv?d+m:d-m;r.setUpdatedValue(c,l)}},r.handleDrag=function(l){if(r.props.dragLabel){var d=Math.round(r.props.value+l.movementX);d>=0&&d<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(d),l)}},r.handleMouseDown=function(l){r.props.dragLabel&&(l.preventDefault(),r.handleDrag(l),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+F4++,r}return I4(t,[{key:"componentDidUpdate",value:function(r,l){this.props.value!==this.state.value&&(r.value!==this.props.value||l.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return x4({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Q4}},{key:"setUpdatedValue",value:function(r,l){var d=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(d,l),this.setState({value:r})}},{key:"render",value:function(){var r=this,l=Ae({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return k.createElement("div",{style:l.wrap},k.createElement("input",{id:this.inputId,style:l.input,ref:function(m){return r.input=m},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?k.createElement("label",{htmlFor:this.inputId,style:l.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(te.exports.PureComponent||te.exports.Component),M4=function(t,n,r,l){var d=l.clientWidth,m=l.clientHeight,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=c-(l.getBoundingClientRect().left+window.pageXOffset),A=i-(l.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var a=void 0;if(A<0)a=359;else if(A>m)a=0;else{var o=-(A*100/m)+100;a=360*o/100}if(r.h!==a)return{h:a,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var s=void 0;if(h<0)s=0;else if(h>d)s=359;else{var u=h*100/d;s=360*u/100}if(r.h!==s)return{h:s,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},P4=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function R4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qi=function(e){R4(t,e);function t(){var n,r,l,d;L4(this,t);for(var m=arguments.length,c=Array(m),i=0;i<m;i++)c[i]=arguments[i];return d=(r=(l=Id(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(c))),l),l.handleChange=function(h){var A=M4(h,l.props.direction,l.props.hsl,l.container);A&&typeof l.props.onChange=="function"&&l.props.onChange(A,h)},l.handleMouseDown=function(h){l.handleChange(h),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},r),Id(l,d)}return P4(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,l=this.props.direction,d=l===void 0?"horizontal":l,m=Ae({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:d==="vertical"});return k.createElement("div",{style:m.hue},k.createElement("div",{className:"hue-"+d,style:m.container,ref:function(i){return r.container=i},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),k.createElement("div",{style:m.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:m.slider}))))}}]),t}(te.exports.PureComponent||te.exports.Component),ae={exports:{}},N4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G4=N4,j4=G4;function Tv(){}function Dv(){}Dv.resetWarningCache=Tv;var $4=function(){function e(r,l,d,m,c,i){if(i!==j4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Dv,resetWarningCache:Tv};return n.PropTypes=n,n};ae.exports=$4();function U4(){this.__data__=[],this.size=0}function Ha(e,t){return e===t||e!==e&&t!==t}function No(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}var H4=Array.prototype,Y4=H4.splice;function z4(e){var t=this.__data__,n=No(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Y4.call(t,n,1),--this.size,!0}function W4(e){var t=this.__data__,n=No(t,e);return n<0?void 0:t[n][1]}function X4(e){return No(this.__data__,e)>-1}function V4(e,t){var n=this.__data__,r=No(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function En(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}En.prototype.clear=U4;En.prototype.delete=z4;En.prototype.get=W4;En.prototype.has=X4;En.prototype.set=V4;function J4(){this.__data__=new En,this.size=0}function K4(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function q4(e){return this.__data__.get(e)}function Z4(e){return this.__data__.has(e)}var e5=typeof global=="object"&&global&&global.Object===Object&&global;const Ov=e5;var t5=typeof self=="object"&&self&&self.Object===Object&&self,n5=Ov||t5||Function("return this")();const Xt=n5;var r5=Xt.Symbol;const $n=r5;var Fv=Object.prototype,i5=Fv.hasOwnProperty,a5=Fv.toString,$i=$n?$n.toStringTag:void 0;function s5(e){var t=i5.call(e,$i),n=e[$i];try{e[$i]=void 0;var r=!0}catch{}var l=a5.call(e);return r&&(t?e[$i]=n:delete e[$i]),l}var o5=Object.prototype,l5=o5.toString;function c5(e){return l5.call(e)}var u5="[object Null]",h5="[object Undefined]",xd=$n?$n.toStringTag:void 0;function pr(e){return e==null?e===void 0?h5:u5:xd&&xd in Object(e)?s5(e):c5(e)}function Mt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var f5="[object AsyncFunction]",A5="[object Function]",d5="[object GeneratorFunction]",g5="[object Proxy]";function Qh(e){if(!Mt(e))return!1;var t=pr(e);return t==A5||t==d5||t==f5||t==g5}var p5=Xt["__core-js_shared__"];const Ol=p5;var bd=function(){var e=/[^.]+$/.exec(Ol&&Ol.keys&&Ol.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function v5(e){return!!bd&&bd in e}var m5=Function.prototype,C5=m5.toString;function vr(e){if(e!=null){try{return C5.call(e)}catch{}try{return e+""}catch{}}return""}var y5=/[\\^$.*+?()[\]{}|]/g,w5=/^\[object .+?Constructor\]$/,E5=Function.prototype,B5=Object.prototype,I5=E5.toString,x5=B5.hasOwnProperty,b5=RegExp("^"+I5.call(x5).replace(y5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S5(e){if(!Mt(e)||v5(e))return!1;var t=Qh(e)?b5:w5;return t.test(vr(e))}function _5(e,t){return e==null?void 0:e[t]}function mr(e,t){var n=_5(e,t);return S5(n)?n:void 0}var Q5=mr(Xt,"Map");const Qa=Q5;var k5=mr(Object,"create");const ka=k5;function T5(){this.__data__=ka?ka(null):{},this.size=0}function D5(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var O5="__lodash_hash_undefined__",F5=Object.prototype,M5=F5.hasOwnProperty;function P5(e){var t=this.__data__;if(ka){var n=t[e];return n===O5?void 0:n}return M5.call(t,e)?t[e]:void 0}var L5=Object.prototype,R5=L5.hasOwnProperty;function N5(e){var t=this.__data__;return ka?t[e]!==void 0:R5.call(t,e)}var G5="__lodash_hash_undefined__";function j5(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ka&&t===void 0?G5:t,this}function hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hr.prototype.clear=T5;hr.prototype.delete=D5;hr.prototype.get=P5;hr.prototype.has=N5;hr.prototype.set=j5;function $5(){this.size=0,this.__data__={hash:new hr,map:new(Qa||En),string:new hr}}function U5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Go(e,t){var n=e.__data__;return U5(t)?n[typeof t=="string"?"string":"hash"]:n.map}function H5(e){var t=Go(this,e).delete(e);return this.size-=t?1:0,t}function Y5(e){return Go(this,e).get(e)}function z5(e){return Go(this,e).has(e)}function W5(e,t){var n=Go(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Bn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bn.prototype.clear=$5;Bn.prototype.delete=H5;Bn.prototype.get=Y5;Bn.prototype.has=z5;Bn.prototype.set=W5;var X5=200;function V5(e,t){var n=this.__data__;if(n instanceof En){var r=n.__data__;if(!Qa||r.length<X5-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bn(r)}return n.set(e,t),this.size=n.size,this}function sn(e){var t=this.__data__=new En(e);this.size=t.size}sn.prototype.clear=J4;sn.prototype.delete=K4;sn.prototype.get=q4;sn.prototype.has=Z4;sn.prototype.set=V5;var J5=function(){try{var e=mr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const io=J5;function kh(e,t,n){t=="__proto__"&&io?io(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function qc(e,t,n){(n!==void 0&&!Ha(e[t],n)||n===void 0&&!(t in e))&&kh(e,t,n)}function K5(e){return function(t,n,r){for(var l=-1,d=Object(t),m=r(t),c=m.length;c--;){var i=m[e?c:++l];if(n(d[i],i,d)===!1)break}return t}}var q5=K5();const Mv=q5;var Pv=typeof wt=="object"&&wt&&!wt.nodeType&&wt,Sd=Pv&&typeof st=="object"&&st&&!st.nodeType&&st,Z5=Sd&&Sd.exports===Pv,_d=Z5?Xt.Buffer:void 0,Qd=_d?_d.allocUnsafe:void 0;function eO(e,t){if(t)return e.slice();var n=e.length,r=Qd?Qd(n):new e.constructor(n);return e.copy(r),r}var tO=Xt.Uint8Array;const ao=tO;function nO(e){var t=new e.constructor(e.byteLength);return new ao(t).set(new ao(e)),t}function rO(e,t){var n=t?nO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function iO(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var kd=Object.create,aO=function(){function e(){}return function(t){if(!Mt(t))return{};if(kd)return kd(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const sO=aO;function Lv(e,t){return function(n){return e(t(n))}}var oO=Lv(Object.getPrototypeOf,Object);const Rv=oO;var lO=Object.prototype;function Th(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lO;return e===n}function cO(e){return typeof e.constructor=="function"&&!Th(e)?sO(Rv(e)):{}}function Un(e){return e!=null&&typeof e=="object"}var uO="[object Arguments]";function Td(e){return Un(e)&&pr(e)==uO}var Nv=Object.prototype,hO=Nv.hasOwnProperty,fO=Nv.propertyIsEnumerable,AO=Td(function(){return arguments}())?Td:function(e){return Un(e)&&hO.call(e,"callee")&&!fO.call(e,"callee")};const so=AO;var dO=Array.isArray;const It=dO;var gO=9007199254740991;function Dh(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gO}function ki(e){return e!=null&&Dh(e.length)&&!Qh(e)}function pO(e){return Un(e)&&ki(e)}function vO(){return!1}var Gv=typeof wt=="object"&&wt&&!wt.nodeType&&wt,Dd=Gv&&typeof st=="object"&&st&&!st.nodeType&&st,mO=Dd&&Dd.exports===Gv,Od=mO?Xt.Buffer:void 0,CO=Od?Od.isBuffer:void 0,yO=CO||vO;const oo=yO;var wO="[object Object]",EO=Function.prototype,BO=Object.prototype,jv=EO.toString,IO=BO.hasOwnProperty,xO=jv.call(Object);function bO(e){if(!Un(e)||pr(e)!=wO)return!1;var t=Rv(e);if(t===null)return!0;var n=IO.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jv.call(n)==xO}var SO="[object Arguments]",_O="[object Array]",QO="[object Boolean]",kO="[object Date]",TO="[object Error]",DO="[object Function]",OO="[object Map]",FO="[object Number]",MO="[object Object]",PO="[object RegExp]",LO="[object Set]",RO="[object String]",NO="[object WeakMap]",GO="[object ArrayBuffer]",jO="[object DataView]",$O="[object Float32Array]",UO="[object Float64Array]",HO="[object Int8Array]",YO="[object Int16Array]",zO="[object Int32Array]",WO="[object Uint8Array]",XO="[object Uint8ClampedArray]",VO="[object Uint16Array]",JO="[object Uint32Array]",Te={};Te[$O]=Te[UO]=Te[HO]=Te[YO]=Te[zO]=Te[WO]=Te[XO]=Te[VO]=Te[JO]=!0;Te[SO]=Te[_O]=Te[GO]=Te[QO]=Te[jO]=Te[kO]=Te[TO]=Te[DO]=Te[OO]=Te[FO]=Te[MO]=Te[PO]=Te[LO]=Te[RO]=Te[NO]=!1;function KO(e){return Un(e)&&Dh(e.length)&&!!Te[pr(e)]}function qO(e){return function(t){return e(t)}}var $v=typeof wt=="object"&&wt&&!wt.nodeType&&wt,ca=$v&&typeof st=="object"&&st&&!st.nodeType&&st,ZO=ca&&ca.exports===$v,Fl=ZO&&Ov.process,eF=function(){try{var e=ca&&ca.require&&ca.require("util").types;return e||Fl&&Fl.binding&&Fl.binding("util")}catch{}}();const Fd=eF;var Md=Fd&&Fd.isTypedArray,tF=Md?qO(Md):KO;const Oh=tF;function Zc(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var nF=Object.prototype,rF=nF.hasOwnProperty;function iF(e,t,n){var r=e[t];(!(rF.call(e,t)&&Ha(r,n))||n===void 0&&!(t in e))&&kh(e,t,n)}function aF(e,t,n,r){var l=!n;n||(n={});for(var d=-1,m=t.length;++d<m;){var c=t[d],i=r?r(n[c],e[c],c,n,e):void 0;i===void 0&&(i=e[c]),l?kh(n,c,i):iF(n,c,i)}return n}function sF(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var oF=9007199254740991,lF=/^(?:0|[1-9]\d*)$/;function Fh(e,t){var n=typeof e;return t=t??oF,!!t&&(n=="number"||n!="symbol"&&lF.test(e))&&e>-1&&e%1==0&&e<t}var cF=Object.prototype,uF=cF.hasOwnProperty;function Uv(e,t){var n=It(e),r=!n&&so(e),l=!n&&!r&&oo(e),d=!n&&!r&&!l&&Oh(e),m=n||r||l||d,c=m?sF(e.length,String):[],i=c.length;for(var h in e)(t||uF.call(e,h))&&!(m&&(h=="length"||l&&(h=="offset"||h=="parent")||d&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Fh(h,i)))&&c.push(h);return c}function hF(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var fF=Object.prototype,AF=fF.hasOwnProperty;function dF(e){if(!Mt(e))return hF(e);var t=Th(e),n=[];for(var r in e)r=="constructor"&&(t||!AF.call(e,r))||n.push(r);return n}function Hv(e){return ki(e)?Uv(e,!0):dF(e)}function gF(e){return aF(e,Hv(e))}function pF(e,t,n,r,l,d,m){var c=Zc(e,n),i=Zc(t,n),h=m.get(i);if(h){qc(e,n,h);return}var A=d?d(c,i,n+"",e,t,m):void 0,a=A===void 0;if(a){var o=It(i),s=!o&&oo(i),u=!o&&!s&&Oh(i);A=i,o||s||u?It(c)?A=c:pO(c)?A=iO(c):s?(a=!1,A=eO(i,!0)):u?(a=!1,A=rO(i,!0)):A=[]:bO(i)||so(i)?(A=c,so(c)?A=gF(c):(!Mt(c)||Qh(c))&&(A=cO(i))):a=!1}a&&(m.set(i,A),l(A,i,r,d,m),m.delete(i)),qc(e,n,A)}function Yv(e,t,n,r,l){e!==t&&Mv(t,function(d,m){if(l||(l=new sn),Mt(d))pF(e,t,m,n,Yv,r,l);else{var c=r?r(Zc(e,m),d,m+"",e,t,l):void 0;c===void 0&&(c=d),qc(e,m,c)}},Hv)}function jo(e){return e}function vF(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Pd=Math.max;function mF(e,t,n){return t=Pd(t===void 0?e.length-1:t,0),function(){for(var r=arguments,l=-1,d=Pd(r.length-t,0),m=Array(d);++l<d;)m[l]=r[t+l];l=-1;for(var c=Array(t+1);++l<t;)c[l]=r[l];return c[t]=n(m),vF(e,this,c)}}function CF(e){return function(){return e}}var yF=io?function(e,t){return io(e,"toString",{configurable:!0,enumerable:!1,value:CF(t),writable:!0})}:jo;const wF=yF;var EF=800,BF=16,IF=Date.now;function xF(e){var t=0,n=0;return function(){var r=IF(),l=BF-(r-n);if(n=r,l>0){if(++t>=EF)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bF=xF(wF);const SF=bF;function _F(e,t){return SF(mF(e,t,jo),e+"")}function QF(e,t,n){if(!Mt(n))return!1;var r=typeof t;return(r=="number"?ki(n)&&Fh(t,n.length):r=="string"&&t in n)?Ha(n[t],e):!1}function kF(e){return _F(function(t,n){var r=-1,l=n.length,d=l>1?n[l-1]:void 0,m=l>2?n[2]:void 0;for(d=e.length>3&&typeof d=="function"?(l--,d):void 0,m&&QF(n[0],n[1],m)&&(d=l<3?void 0:d,l=1),t=Object(t);++r<l;){var c=n[r];c&&e(t,c,r,d)}return t})}var TF=kF(function(e,t,n){Yv(e,t,n)});const pt=TF;var Ya=function(t){var n=t.zDepth,r=t.radius,l=t.background,d=t.children,m=t.styles,c=m===void 0?{}:m,i=Ae(pt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:l}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},c),{"zDepth-1":n===1});return k.createElement("div",{style:i.wrap},k.createElement("div",{style:i.bg}),k.createElement("div",{style:i.content},d))};Ya.propTypes={background:ae.exports.string,zDepth:ae.exports.oneOf([0,1,2,3,4,5]),radius:ae.exports.number,styles:ae.exports.object};Ya.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var DF=function(){return Xt.Date.now()};const Ml=DF;var OF=/\s/;function FF(e){for(var t=e.length;t--&&OF.test(e.charAt(t)););return t}var MF=/^\s+/;function PF(e){return e&&e.slice(0,FF(e)+1).replace(MF,"")}var LF="[object Symbol]";function $o(e){return typeof e=="symbol"||Un(e)&&pr(e)==LF}var Ld=0/0,RF=/^[-+]0x[0-9a-f]+$/i,NF=/^0b[01]+$/i,GF=/^0o[0-7]+$/i,jF=parseInt;function Rd(e){if(typeof e=="number")return e;if($o(e))return Ld;if(Mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=PF(e);var n=NF.test(e);return n||GF.test(e)?jF(e.slice(2),n?2:8):RF.test(e)?Ld:+e}var $F="Expected a function",UF=Math.max,HF=Math.min;function zv(e,t,n){var r,l,d,m,c,i,h=0,A=!1,a=!1,o=!0;if(typeof e!="function")throw new TypeError($F);t=Rd(t)||0,Mt(n)&&(A=!!n.leading,a="maxWait"in n,d=a?UF(Rd(n.maxWait)||0,t):d,o="trailing"in n?!!n.trailing:o);function s(E){var B=r,b=l;return r=l=void 0,h=E,m=e.apply(b,B),m}function u(E){return h=E,c=setTimeout(p,t),A?s(E):m}function g(E){var B=E-i,b=E-h,D=t-B;return a?HF(D,d-b):D}function f(E){var B=E-i,b=E-h;return i===void 0||B>=t||B<0||a&&b>=d}function p(){var E=Ml();if(f(E))return v(E);c=setTimeout(p,g(E))}function v(E){return c=void 0,o&&r?s(E):(r=l=void 0,m)}function C(){c!==void 0&&clearTimeout(c),h=0,r=i=l=c=void 0}function y(){return c===void 0?m:v(Ml())}function w(){var E=Ml(),B=f(E);if(r=arguments,l=this,i=E,B){if(c===void 0)return u(i);if(a)return clearTimeout(c),c=setTimeout(p,t),s(i)}return c===void 0&&(c=setTimeout(p,t)),m}return w.cancel=C,w.flush=y,w}var YF="Expected a function";function zF(e,t,n){var r=!0,l=!0;if(typeof e!="function")throw new TypeError(YF);return Mt(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),zv(e,t,{leading:r,maxWait:t,trailing:l})}var WF=function(t,n,r){var l=r.getBoundingClientRect(),d=l.width,m=l.height,c=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=c-(r.getBoundingClientRect().left+window.pageXOffset),A=i-(r.getBoundingClientRect().top+window.pageYOffset);h<0?h=0:h>d&&(h=d),A<0?A=0:A>m&&(A=m);var a=h/d,o=1-A/m;return{h:n.h,s:a,v:o,a:n.a,source:"hsv"}},XF=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function VF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function KF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Uo=function(e){KF(t,e);function t(n){VF(this,t);var r=JF(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.handleChange=function(l){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,WF(l,r.props.hsl,r.container),l)},r.handleMouseDown=function(l){r.handleChange(l);var d=r.getContainerRenderWindow();d.addEventListener("mousemove",r.handleChange),d.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=zF(function(l,d,m){l(d,m)},50),r}return XF(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,l=window;!l.document.contains(r)&&l.parent!==l;)l=l.parent;return l}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,l=this.props.style||{},d=l.color,m=l.white,c=l.black,i=l.pointer,h=l.circle,A=Ae({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:d,white:m,black:c,pointer:i,circle:h}},{custom:!!this.props.style});return k.createElement("div",{style:A.color,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},k.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),k.createElement("div",{style:A.white,className:"saturation-white"},k.createElement("div",{style:A.black,className:"saturation-black"}),k.createElement("div",{style:A.pointer},this.props.pointer?k.createElement(this.props.pointer,this.props):k.createElement("div",{style:A.circle}))))}}]),t}(te.exports.PureComponent||te.exports.Component);function qF(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var ZF=Lv(Object.keys,Object);const eM=ZF;var tM=Object.prototype,nM=tM.hasOwnProperty;function rM(e){if(!Th(e))return eM(e);var t=[];for(var n in Object(e))nM.call(e,n)&&n!="constructor"&&t.push(n);return t}function Mh(e){return ki(e)?Uv(e):rM(e)}function iM(e,t){return e&&Mv(e,t,Mh)}function aM(e,t){return function(n,r){if(n==null)return n;if(!ki(n))return e(n,r);for(var l=n.length,d=t?l:-1,m=Object(n);(t?d--:++d<l)&&r(m[d],d,m)!==!1;);return n}}var sM=aM(iM);const Wv=sM;function oM(e){return typeof e=="function"?e:jo}function lM(e,t){var n=It(e)?qF:Wv;return n(e,oM(t))}function lo(e){return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}var cM=/^\s+/,uM=/\s+$/;function ue(e,t){if(e=e||"",t=t||{},e instanceof ue)return e;if(!(this instanceof ue))return new ue(e,t);var n=hM(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}ue.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,l,d,m,c;return n=t.r/255,r=t.g/255,l=t.b/255,n<=.03928?d=n/12.92:d=Math.pow((n+.055)/1.055,2.4),r<=.03928?m=r/12.92:m=Math.pow((r+.055)/1.055,2.4),l<=.03928?c=l/12.92:c=Math.pow((l+.055)/1.055,2.4),.2126*d+.7152*m+.0722*c},setAlpha:function(t){return this._a=Xv(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Gd(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Gd(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),l=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+l+"%)":"hsva("+n+", "+r+"%, "+l+"%, "+this._roundA+")"},toHsl:function(){var t=Nd(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Nd(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),l=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+l+"%)":"hsla("+n+", "+r+"%, "+l+"%, "+this._roundA+")"},toHex:function(t){return jd(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return gM(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Fe(this._r,255)*100)+"%",g:Math.round(Fe(this._g,255)*100)+"%",b:Math.round(Fe(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Fe(this._r,255)*100)+"%, "+Math.round(Fe(this._g,255)*100)+"%, "+Math.round(Fe(this._b,255)*100)+"%)":"rgba("+Math.round(Fe(this._r,255)*100)+"%, "+Math.round(Fe(this._g,255)*100)+"%, "+Math.round(Fe(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:SM[jd(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+$d(this._r,this._g,this._b,this._a),r=n,l=this._gradientType?"GradientType = 1, ":"";if(t){var d=ue(t);r="#"+$d(d._r,d._g,d._b,d._a)}return"progid:DXImageTransform.Microsoft.gradient("+l+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,l=this._a<1&&this._a>=0,d=!n&&l&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return d?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return ue(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(CM,arguments)},brighten:function(){return this._applyModification(yM,arguments)},darken:function(){return this._applyModification(wM,arguments)},desaturate:function(){return this._applyModification(pM,arguments)},saturate:function(){return this._applyModification(vM,arguments)},greyscale:function(){return this._applyModification(mM,arguments)},spin:function(){return this._applyModification(EM,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(xM,arguments)},complement:function(){return this._applyCombination(BM,arguments)},monochromatic:function(){return this._applyCombination(bM,arguments)},splitcomplement:function(){return this._applyCombination(IM,arguments)},triad:function(){return this._applyCombination(Ud,[3])},tetrad:function(){return this._applyCombination(Ud,[4])}};ue.fromRatio=function(e,t){if(lo(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Vi(e[r]));e=n}return ue(e,t)};function hM(e){var t={r:0,g:0,b:0},n=1,r=null,l=null,d=null,m=!1,c=!1;return typeof e=="string"&&(e=TM(e)),lo(e)=="object"&&(cn(e.r)&&cn(e.g)&&cn(e.b)?(t=fM(e.r,e.g,e.b),m=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):cn(e.h)&&cn(e.s)&&cn(e.v)?(r=Vi(e.s),l=Vi(e.v),t=dM(e.h,r,l),m=!0,c="hsv"):cn(e.h)&&cn(e.s)&&cn(e.l)&&(r=Vi(e.s),d=Vi(e.l),t=AM(e.h,r,d),m=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Xv(n),{ok:m,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function fM(e,t,n){return{r:Fe(e,255)*255,g:Fe(t,255)*255,b:Fe(n,255)*255}}function Nd(e,t,n){e=Fe(e,255),t=Fe(t,255),n=Fe(n,255);var r=Math.max(e,t,n),l=Math.min(e,t,n),d,m,c=(r+l)/2;if(r==l)d=m=0;else{var i=r-l;switch(m=c>.5?i/(2-r-l):i/(r+l),r){case e:d=(t-n)/i+(t<n?6:0);break;case t:d=(n-e)/i+2;break;case n:d=(e-t)/i+4;break}d/=6}return{h:d,s:m,l:c}}function AM(e,t,n){var r,l,d;e=Fe(e,360),t=Fe(t,100),n=Fe(n,100);function m(h,A,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?h+(A-h)*6*a:a<1/2?A:a<2/3?h+(A-h)*(2/3-a)*6:h}if(t===0)r=l=d=n;else{var c=n<.5?n*(1+t):n+t-n*t,i=2*n-c;r=m(i,c,e+1/3),l=m(i,c,e),d=m(i,c,e-1/3)}return{r:r*255,g:l*255,b:d*255}}function Gd(e,t,n){e=Fe(e,255),t=Fe(t,255),n=Fe(n,255);var r=Math.max(e,t,n),l=Math.min(e,t,n),d,m,c=r,i=r-l;if(m=r===0?0:i/r,r==l)d=0;else{switch(r){case e:d=(t-n)/i+(t<n?6:0);break;case t:d=(n-e)/i+2;break;case n:d=(e-t)/i+4;break}d/=6}return{h:d,s:m,v:c}}function dM(e,t,n){e=Fe(e,360)*6,t=Fe(t,100),n=Fe(n,100);var r=Math.floor(e),l=e-r,d=n*(1-t),m=n*(1-l*t),c=n*(1-(1-l)*t),i=r%6,h=[n,m,d,d,c,n][i],A=[c,n,n,m,d,d][i],a=[d,d,c,n,n,m][i];return{r:h*255,g:A*255,b:a*255}}function jd(e,t,n,r){var l=[$t(Math.round(e).toString(16)),$t(Math.round(t).toString(16)),$t(Math.round(n).toString(16))];return r&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function gM(e,t,n,r,l){var d=[$t(Math.round(e).toString(16)),$t(Math.round(t).toString(16)),$t(Math.round(n).toString(16)),$t(Vv(r))];return l&&d[0].charAt(0)==d[0].charAt(1)&&d[1].charAt(0)==d[1].charAt(1)&&d[2].charAt(0)==d[2].charAt(1)&&d[3].charAt(0)==d[3].charAt(1)?d[0].charAt(0)+d[1].charAt(0)+d[2].charAt(0)+d[3].charAt(0):d.join("")}function $d(e,t,n,r){var l=[$t(Vv(r)),$t(Math.round(e).toString(16)),$t(Math.round(t).toString(16)),$t(Math.round(n).toString(16))];return l.join("")}ue.equals=function(e,t){return!e||!t?!1:ue(e).toRgbString()==ue(t).toRgbString()};ue.random=function(){return ue.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function pM(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s-=t/100,n.s=Ho(n.s),ue(n)}function vM(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.s+=t/100,n.s=Ho(n.s),ue(n)}function mM(e){return ue(e).desaturate(100)}function CM(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l+=t/100,n.l=Ho(n.l),ue(n)}function yM(e,t){t=t===0?0:t||10;var n=ue(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),ue(n)}function wM(e,t){t=t===0?0:t||10;var n=ue(e).toHsl();return n.l-=t/100,n.l=Ho(n.l),ue(n)}function EM(e,t){var n=ue(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ue(n)}function BM(e){var t=ue(e).toHsl();return t.h=(t.h+180)%360,ue(t)}function Ud(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ue(e).toHsl(),r=[ue(e)],l=360/t,d=1;d<t;d++)r.push(ue({h:(n.h+d*l)%360,s:n.s,l:n.l}));return r}function IM(e){var t=ue(e).toHsl(),n=t.h;return[ue(e),ue({h:(n+72)%360,s:t.s,l:t.l}),ue({h:(n+216)%360,s:t.s,l:t.l})]}function xM(e,t,n){t=t||6,n=n||30;var r=ue(e).toHsl(),l=360/n,d=[ue(e)];for(r.h=(r.h-(l*t>>1)+720)%360;--t;)r.h=(r.h+l)%360,d.push(ue(r));return d}function bM(e,t){t=t||6;for(var n=ue(e).toHsv(),r=n.h,l=n.s,d=n.v,m=[],c=1/t;t--;)m.push(ue({h:r,s:l,v:d})),d=(d+c)%1;return m}ue.mix=function(e,t,n){n=n===0?0:n||50;var r=ue(e).toRgb(),l=ue(t).toRgb(),d=n/100,m={r:(l.r-r.r)*d+r.r,g:(l.g-r.g)*d+r.g,b:(l.b-r.b)*d+r.b,a:(l.a-r.a)*d+r.a};return ue(m)};ue.readability=function(e,t){var n=ue(e),r=ue(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};ue.isReadable=function(e,t,n){var r=ue.readability(e,t),l,d;switch(d=!1,l=DM(n),l.level+l.size){case"AAsmall":case"AAAlarge":d=r>=4.5;break;case"AAlarge":d=r>=3;break;case"AAAsmall":d=r>=7;break}return d};ue.mostReadable=function(e,t,n){var r=null,l=0,d,m,c,i;n=n||{},m=n.includeFallbackColors,c=n.level,i=n.size;for(var h=0;h<t.length;h++)d=ue.readability(e,t[h]),d>l&&(l=d,r=ue(t[h]));return ue.isReadable(e,r,{level:c,size:i})||!m?r:(n.includeFallbackColors=!1,ue.mostReadable(e,["#fff","#000"],n))};var eu=ue.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},SM=ue.hexNames=_M(eu);function _M(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Xv(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Fe(e,t){QM(e)&&(e="100%");var n=kM(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ho(e){return Math.min(1,Math.max(0,e))}function mt(e){return parseInt(e,16)}function QM(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function kM(e){return typeof e=="string"&&e.indexOf("%")!=-1}function $t(e){return e.length==1?"0"+e:""+e}function Vi(e){return e<=1&&(e=e*100+"%"),e}function Vv(e){return Math.round(parseFloat(e)*255).toString(16)}function Hd(e){return mt(e)/255}var Lt=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",l="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function cn(e){return!!Lt.CSS_UNIT.exec(e)}function TM(e){e=e.replace(cM,"").replace(uM,"").toLowerCase();var t=!1;if(eu[e])e=eu[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Lt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Lt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Lt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Lt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Lt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Lt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Lt.hex8.exec(e))?{r:mt(n[1]),g:mt(n[2]),b:mt(n[3]),a:Hd(n[4]),format:t?"name":"hex8"}:(n=Lt.hex6.exec(e))?{r:mt(n[1]),g:mt(n[2]),b:mt(n[3]),format:t?"name":"hex"}:(n=Lt.hex4.exec(e))?{r:mt(n[1]+""+n[1]),g:mt(n[2]+""+n[2]),b:mt(n[3]+""+n[3]),a:Hd(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=Lt.hex3.exec(e))?{r:mt(n[1]+""+n[1]),g:mt(n[2]+""+n[2]),b:mt(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function DM(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}var Yd=function(t){var n=["r","g","b","a","h","s","l","v"],r=0,l=0;return lM(n,function(d){if(t[d]&&(r+=1,isNaN(t[d])||(l+=1),d==="s"||d==="l")){var m=/^\d+%$/;m.test(t[d])&&(l+=1)}}),r===l?t:!1},Ji=function(t,n){var r=t.hex?ue(t.hex):ue(t),l=r.toHsl(),d=r.toHsv(),m=r.toRgb(),c=r.toHex();l.s===0&&(l.h=n||0,d.h=n||0);var i=c==="000000"&&m.a===0;return{hsl:l,hex:i?"transparent":"#"+c,rgb:m,hsv:d,oldHue:t.h||n||l.h,source:t.source}},Wn=function(t){if(t==="transparent")return!0;var n=String(t).charAt(0)==="#"?1:0;return t.length!==4+n&&t.length<7+n&&ue(t).isValid()},Ph=function(t){if(!t)return"#fff";var n=Ji(t);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},Pl=function(t,n){var r=t.replace("°","");return ue(n+" ("+r+")")._ok},Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function FM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vt=function(t){var n=function(r){PM(l,r);function l(d){FM(this,l);var m=MM(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return m.handleChange=function(c,i){var h=Yd(c);if(h){var A=Ji(c,c.h||m.state.oldHue);m.setState(A),m.props.onChangeComplete&&m.debounce(m.props.onChangeComplete,A,i),m.props.onChange&&m.props.onChange(A,i)}},m.handleSwatchHover=function(c,i){var h=Yd(c);if(h){var A=Ji(c,c.h||m.state.oldHue);m.props.onSwatchHover&&m.props.onSwatchHover(A,i)}},m.state=Ui({},Ji(d.color,0)),m.debounce=zv(function(c,i,h){c(i,h)},100),m}return OM(l,[{key:"render",value:function(){var m={};return this.props.onSwatchHover&&(m.onSwatchHover=this.handleSwatchHover),k.createElement(t,Ui({},this.props,this.state,{onChange:this.handleChange},m))}}],[{key:"getDerivedStateFromProps",value:function(m,c){return Ui({},Ji(m.color,c.oldHue))}}]),l}(te.exports.PureComponent||te.exports.Component);return n.propTypes=Ui({},t.propTypes),n.defaultProps=Ui({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},LM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function NM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function GM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var jM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){GM(l,r);function l(){var d,m,c,i;NM(this,l);for(var h=arguments.length,A=Array(h),a=0;a<h;a++)A[a]=arguments[a];return i=(m=(c=zd(this,(d=l.__proto__||Object.getPrototypeOf(l)).call.apply(d,[this].concat(A))),c),c.state={focus:!1},c.handleFocus=function(){return c.setState({focus:!0})},c.handleBlur=function(){return c.setState({focus:!1})},m),zd(c,i)}return RM(l,[{key:"render",value:function(){return k.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},k.createElement(t,LM({},this.props,this.state)))}}]),l}(k.Component)},Wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$M=13,UM=function(t){var n=t.color,r=t.style,l=t.onClick,d=l===void 0?function(){}:l,m=t.onHover,c=t.title,i=c===void 0?n:c,h=t.children,A=t.focus,a=t.focusStyle,o=a===void 0?{}:a,s=n==="transparent",u=Ae({default:{swatch:Wd({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,A?o:{})}}),g=function(y){return d(n,y)},f=function(y){return y.keyCode===$M&&d(n,y)},p=function(y){return m(n,y)},v={};return m&&(v.onMouseOver=p),k.createElement("div",Wd({style:u.swatch,onClick:g,title:i,tabIndex:0,onKeyDown:f},v),h,s&&k.createElement(_i,{borderRadius:u.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Cr=jM(UM);var HM=function(t){var n=t.direction,r=Ae({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return k.createElement("div",{style:r.picker})},YM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv=function(t){var n=t.rgb,r=t.hsl,l=t.width,d=t.height,m=t.onChange,c=t.direction,i=t.style,h=t.renderers,A=t.pointer,a=t.className,o=a===void 0?"":a,s=Ae({default:{picker:{position:"relative",width:l,height:d},alpha:{radius:"2px",style:i}}});return k.createElement("div",{style:s.picker,className:"alpha-picker "+o},k.createElement(_h,YM({},s.alpha,{rgb:n,hsl:r,pointer:A,renderers:h,onChange:m,direction:c})))};Jv.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:HM};vt(Jv);function Kv(e,t){for(var n=-1,r=e==null?0:e.length,l=Array(r);++n<r;)l[n]=t(e[n],n,e);return l}var zM="__lodash_hash_undefined__";function WM(e){return this.__data__.set(e,zM),this}function XM(e){return this.__data__.has(e)}function co(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Bn;++t<n;)this.add(e[t])}co.prototype.add=co.prototype.push=WM;co.prototype.has=XM;function VM(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function JM(e,t){return e.has(t)}var KM=1,qM=2;function qv(e,t,n,r,l,d){var m=n&KM,c=e.length,i=t.length;if(c!=i&&!(m&&i>c))return!1;var h=d.get(e),A=d.get(t);if(h&&A)return h==t&&A==e;var a=-1,o=!0,s=n&qM?new co:void 0;for(d.set(e,t),d.set(t,e);++a<c;){var u=e[a],g=t[a];if(r)var f=m?r(g,u,a,t,e,d):r(u,g,a,e,t,d);if(f!==void 0){if(f)continue;o=!1;break}if(s){if(!VM(t,function(p,v){if(!JM(s,v)&&(u===p||l(u,p,n,r,d)))return s.push(v)})){o=!1;break}}else if(!(u===g||l(u,g,n,r,d))){o=!1;break}}return d.delete(e),d.delete(t),o}function ZM(e){var t=-1,n=Array(e.size);return e.forEach(function(r,l){n[++t]=[l,r]}),n}function e8(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var t8=1,n8=2,r8="[object Boolean]",i8="[object Date]",a8="[object Error]",s8="[object Map]",o8="[object Number]",l8="[object RegExp]",c8="[object Set]",u8="[object String]",h8="[object Symbol]",f8="[object ArrayBuffer]",A8="[object DataView]",Xd=$n?$n.prototype:void 0,Ll=Xd?Xd.valueOf:void 0;function d8(e,t,n,r,l,d,m){switch(n){case A8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case f8:return!(e.byteLength!=t.byteLength||!d(new ao(e),new ao(t)));case r8:case i8:case o8:return Ha(+e,+t);case a8:return e.name==t.name&&e.message==t.message;case l8:case u8:return e==t+"";case s8:var c=ZM;case c8:var i=r&t8;if(c||(c=e8),e.size!=t.size&&!i)return!1;var h=m.get(e);if(h)return h==t;r|=n8,m.set(e,t);var A=qv(c(e),c(t),r,l,d,m);return m.delete(e),A;case h8:if(Ll)return Ll.call(e)==Ll.call(t)}return!1}function g8(e,t){for(var n=-1,r=t.length,l=e.length;++n<r;)e[l+n]=t[n];return e}function p8(e,t,n){var r=t(e);return It(e)?r:g8(r,n(e))}function v8(e,t){for(var n=-1,r=e==null?0:e.length,l=0,d=[];++n<r;){var m=e[n];t(m,n,e)&&(d[l++]=m)}return d}function m8(){return[]}var C8=Object.prototype,y8=C8.propertyIsEnumerable,Vd=Object.getOwnPropertySymbols,w8=Vd?function(e){return e==null?[]:(e=Object(e),v8(Vd(e),function(t){return y8.call(e,t)}))}:m8;const E8=w8;function Jd(e){return p8(e,Mh,E8)}var B8=1,I8=Object.prototype,x8=I8.hasOwnProperty;function b8(e,t,n,r,l,d){var m=n&B8,c=Jd(e),i=c.length,h=Jd(t),A=h.length;if(i!=A&&!m)return!1;for(var a=i;a--;){var o=c[a];if(!(m?o in t:x8.call(t,o)))return!1}var s=d.get(e),u=d.get(t);if(s&&u)return s==t&&u==e;var g=!0;d.set(e,t),d.set(t,e);for(var f=m;++a<i;){o=c[a];var p=e[o],v=t[o];if(r)var C=m?r(v,p,o,t,e,d):r(p,v,o,e,t,d);if(!(C===void 0?p===v||l(p,v,n,r,d):C)){g=!1;break}f||(f=o=="constructor")}if(g&&!f){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof w=="function"&&w instanceof w)&&(g=!1)}return d.delete(e),d.delete(t),g}var S8=mr(Xt,"DataView");const tu=S8;var _8=mr(Xt,"Promise");const nu=_8;var Q8=mr(Xt,"Set");const ru=Q8;var k8=mr(Xt,"WeakMap");const iu=k8;var Kd="[object Map]",T8="[object Object]",qd="[object Promise]",Zd="[object Set]",eg="[object WeakMap]",tg="[object DataView]",D8=vr(tu),O8=vr(Qa),F8=vr(nu),M8=vr(ru),P8=vr(iu),Zn=pr;(tu&&Zn(new tu(new ArrayBuffer(1)))!=tg||Qa&&Zn(new Qa)!=Kd||nu&&Zn(nu.resolve())!=qd||ru&&Zn(new ru)!=Zd||iu&&Zn(new iu)!=eg)&&(Zn=function(e){var t=pr(e),n=t==T8?e.constructor:void 0,r=n?vr(n):"";if(r)switch(r){case D8:return tg;case O8:return Kd;case F8:return qd;case M8:return Zd;case P8:return eg}return t});const ng=Zn;var L8=1,rg="[object Arguments]",ig="[object Array]",As="[object Object]",R8=Object.prototype,ag=R8.hasOwnProperty;function N8(e,t,n,r,l,d){var m=It(e),c=It(t),i=m?ig:ng(e),h=c?ig:ng(t);i=i==rg?As:i,h=h==rg?As:h;var A=i==As,a=h==As,o=i==h;if(o&&oo(e)){if(!oo(t))return!1;m=!0,A=!1}if(o&&!A)return d||(d=new sn),m||Oh(e)?qv(e,t,n,r,l,d):d8(e,t,i,n,r,l,d);if(!(n&L8)){var s=A&&ag.call(e,"__wrapped__"),u=a&&ag.call(t,"__wrapped__");if(s||u){var g=s?e.value():e,f=u?t.value():t;return d||(d=new sn),l(g,f,n,r,d)}}return o?(d||(d=new sn),b8(e,t,n,r,l,d)):!1}function Lh(e,t,n,r,l){return e===t?!0:e==null||t==null||!Un(e)&&!Un(t)?e!==e&&t!==t:N8(e,t,n,r,Lh,l)}var G8=1,j8=2;function $8(e,t,n,r){var l=n.length,d=l,m=!r;if(e==null)return!d;for(e=Object(e);l--;){var c=n[l];if(m&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<d;){c=n[l];var i=c[0],h=e[i],A=c[1];if(m&&c[2]){if(h===void 0&&!(i in e))return!1}else{var a=new sn;if(r)var o=r(h,A,i,e,t,a);if(!(o===void 0?Lh(A,h,G8|j8,r,a):o))return!1}}return!0}function Zv(e){return e===e&&!Mt(e)}function U8(e){for(var t=Mh(e),n=t.length;n--;){var r=t[n],l=e[r];t[n]=[r,l,Zv(l)]}return t}function em(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function H8(e){var t=U8(e);return t.length==1&&t[0][2]?em(t[0][0],t[0][1]):function(n){return n===e||$8(n,e,t)}}var Y8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z8=/^\w*$/;function Rh(e,t){if(It(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$o(e)?!0:z8.test(e)||!Y8.test(e)||t!=null&&e in Object(t)}var W8="Expected a function";function Nh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(W8);var n=function(){var r=arguments,l=t?t.apply(this,r):r[0],d=n.cache;if(d.has(l))return d.get(l);var m=e.apply(this,r);return n.cache=d.set(l,m)||d,m};return n.cache=new(Nh.Cache||Bn),n}Nh.Cache=Bn;var X8=500;function V8(e){var t=Nh(e,function(r){return n.size===X8&&n.clear(),r}),n=t.cache;return t}var J8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K8=/\\(\\)?/g,q8=V8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(J8,function(n,r,l,d){t.push(l?d.replace(K8,"$1"):r||n)}),t});const Z8=q8;var eP=1/0,sg=$n?$n.prototype:void 0,og=sg?sg.toString:void 0;function tm(e){if(typeof e=="string")return e;if(It(e))return Kv(e,tm)+"";if($o(e))return og?og.call(e):"";var t=e+"";return t=="0"&&1/e==-eP?"-0":t}function tP(e){return e==null?"":tm(e)}function nm(e,t){return It(e)?e:Rh(e,t)?[e]:Z8(tP(e))}var nP=1/0;function Yo(e){if(typeof e=="string"||$o(e))return e;var t=e+"";return t=="0"&&1/e==-nP?"-0":t}function rm(e,t){t=nm(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Yo(t[n++])];return n&&n==r?e:void 0}function rP(e,t,n){var r=e==null?void 0:rm(e,t);return r===void 0?n:r}function iP(e,t){return e!=null&&t in Object(e)}function aP(e,t,n){t=nm(t,e);for(var r=-1,l=t.length,d=!1;++r<l;){var m=Yo(t[r]);if(!(d=e!=null&&n(e,m)))break;e=e[m]}return d||++r!=l?d:(l=e==null?0:e.length,!!l&&Dh(l)&&Fh(m,l)&&(It(e)||so(e)))}function sP(e,t){return e!=null&&aP(e,t,iP)}var oP=1,lP=2;function cP(e,t){return Rh(e)&&Zv(t)?em(Yo(e),t):function(n){var r=rP(n,e);return r===void 0&&r===t?sP(n,e):Lh(t,r,oP|lP)}}function uP(e){return function(t){return t==null?void 0:t[e]}}function hP(e){return function(t){return rm(t,e)}}function fP(e){return Rh(e)?uP(Yo(e)):hP(e)}function AP(e){return typeof e=="function"?e:e==null?jo:typeof e=="object"?It(e)?cP(e[0],e[1]):H8(e):fP(e)}function dP(e,t){var n=-1,r=ki(e)?Array(e.length):[];return Wv(e,function(l,d,m){r[++n]=t(l,d,m)}),r}function yr(e,t){var n=It(e)?Kv:dP;return n(e,AP(t))}var gP=function(t){var n=t.colors,r=t.onClick,l=t.onSwatchHover,d=Ae({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return k.createElement("div",{style:d.swatches},yr(n,function(m){return k.createElement(Cr,{key:m,color:m,style:d.swatch,onClick:r,onHover:l,focusStyle:{boxShadow:"0 0 4px "+m}})}),k.createElement("div",{style:d.clear}))},Gh=function(t){var n=t.onChange,r=t.onSwatchHover,l=t.hex,d=t.colors,m=t.width,c=t.triangle,i=t.styles,h=i===void 0?{}:i,A=t.className,a=A===void 0?"":A,o=l==="transparent",s=function(f,p){Wn(f)&&n({hex:f,source:"hex"},p)},u=Ae(pt({default:{card:{width:m,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:l,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Ph(l),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+l+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},h),{"hide-triangle":c==="hide"});return k.createElement("div",{style:u.card,className:"block-picker "+a},k.createElement("div",{style:u.triangle}),k.createElement("div",{style:u.head},o&&k.createElement(_i,{borderRadius:"6px 6px 0 0"}),k.createElement("div",{style:u.label},l)),k.createElement("div",{style:u.body},k.createElement(gP,{colors:d,onClick:s,onSwatchHover:r}),k.createElement(ye,{style:{input:u.input},value:l,onChange:s})))};Gh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),colors:ae.exports.arrayOf(ae.exports.string),triangle:ae.exports.oneOf(["top","hide"]),styles:ae.exports.object};Gh.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};vt(Gh);var Ir={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},xr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},br={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Sr={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},_r={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Qr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},kr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Tr={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Dr={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ki={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Or={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Fr={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Mr={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Pr={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Lr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Rr={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Nr={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Gr={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},im=function(t){var n=t.color,r=t.onClick,l=t.onSwatchHover,d=t.hover,m=t.active,c=t.circleSize,i=t.circleSpacing,h=Ae({default:{swatch:{width:c,height:c,marginRight:i,marginBottom:i,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(c/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:d,active:m});return k.createElement("div",{style:h.swatch},k.createElement(Cr,{style:h.Swatch,color:n,onClick:r,onHover:l,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+n}}))};im.defaultProps={circleSize:28,circleSpacing:14};const pP=Sh(im);var jh=function(t){var n=t.width,r=t.onChange,l=t.onSwatchHover,d=t.colors,m=t.hex,c=t.circleSize,i=t.styles,h=i===void 0?{}:i,A=t.circleSpacing,a=t.className,o=a===void 0?"":a,s=Ae(pt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-A,marginBottom:-A}}},h)),u=function(f,p){return r({hex:f,source:"hex"},p)};return k.createElement("div",{style:s.card,className:"circle-picker "+o},yr(d,function(g){return k.createElement(pP,{key:g,color:g,onClick:u,onSwatchHover:l,active:m===g.toLowerCase(),circleSize:c,circleSpacing:A})}))};jh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),circleSize:ae.exports.number,circleSpacing:ae.exports.number,styles:ae.exports.object};jh.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ir[500],xr[500],br[500],Sr[500],_r[500],Qr[500],kr[500],Tr[500],Dr[500],Ki[500],Or[500],Fr[500],Mr[500],Pr[500],Lr[500],Rr[500],Nr[500],Gr[500]],styles:{}};vt(jh);function lg(e){return e===void 0}var am={};Object.defineProperty(am,"__esModule",{value:!0});var cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vP=te.exports,ug=mP(vP);function mP(e){return e&&e.__esModule?e:{default:e}}function CP(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var ds=24,yP=am.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,l=r===void 0?ds:r,d=e.height,m=d===void 0?ds:d,c=e.style,i=c===void 0?{}:c,h=CP(e,["fill","width","height","style"]);return ug.default.createElement("svg",cg({viewBox:"0 0 "+ds+" "+ds,style:cg({fill:n,width:l,height:m},i)},h),ug.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},wP=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function EP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function IP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sm=function(e){IP(t,e);function t(n){EP(this,t);var r=BP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(l,d){l.hex?Wn(l.hex)&&r.props.onChange({hex:l.hex,source:"hex"},d):l.r||l.g||l.b?r.props.onChange({r:l.r||r.props.rgb.r,g:l.g||r.props.rgb.g,b:l.b||r.props.rgb.b,source:"rgb"},d):l.a?(l.a<0?l.a=0:l.a>1&&(l.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(l.a*100)/100,source:"rgb"},d)):(l.h||l.s||l.l)&&(typeof l.s=="string"&&l.s.includes("%")&&(l.s=l.s.replace("%","")),typeof l.l=="string"&&l.l.includes("%")&&(l.l=l.l.replace("%","")),l.s==1?l.s=.01:l.l==1&&(l.l=.01),r.props.onChange({h:l.h||r.props.hsl.h,s:Number(lg(l.s)?r.props.hsl.s:l.s),l:Number(lg(l.l)?r.props.hsl.l:l.l),source:"hsl"},d))},r.showHighlight=function(l){l.currentTarget.style.background="#eee"},r.hideHighlight=function(l){l.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return wP(t,[{key:"render",value:function(){var r=this,l=Ae({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),d=void 0;return this.state.view==="hex"?d=k.createElement("div",{style:l.fields,className:"flexbox-fix"},k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?d=k.createElement("div",{style:l.fields,className:"flexbox-fix"},k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),k.createElement("div",{style:l.alpha},k.createElement(ye,{style:{input:l.input,label:l.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(d=k.createElement("div",{style:l.fields,className:"flexbox-fix"},k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),k.createElement("div",{style:l.field},k.createElement(ye,{style:{input:l.input,label:l.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),k.createElement("div",{style:l.alpha},k.createElement(ye,{style:{input:l.input,label:l.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),k.createElement("div",{style:l.wrap,className:"flexbox-fix"},d,k.createElement("div",{style:l.toggle},k.createElement("div",{style:l.icon,onClick:this.toggleViews,ref:function(c){return r.icon=c}},k.createElement(yP,{style:l.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,l){return r.hsl.a!==1&&l.view==="hex"?{view:"rgb"}:null}}]),t}(k.Component);sm.defaultProps={view:"hex"};var hg=function(){var t=Ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.createElement("div",{style:t.picker})},xP=function(){var t=Ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return k.createElement("div",{style:t.picker})},$h=function(t){var n=t.width,r=t.onChange,l=t.disableAlpha,d=t.rgb,m=t.hsl,c=t.hsv,i=t.hex,h=t.renderers,A=t.styles,a=A===void 0?{}:A,o=t.className,s=o===void 0?"":o,u=t.defaultView,g=Ae(pt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+d.r+", "+d.g+", "+d.b+", "+d.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},a),{disableAlpha:l});return k.createElement("div",{style:g.picker,className:"chrome-picker "+s},k.createElement("div",{style:g.saturation},k.createElement(Uo,{style:g.Saturation,hsl:m,hsv:c,pointer:xP,onChange:r})),k.createElement("div",{style:g.body},k.createElement("div",{style:g.controls,className:"flexbox-fix"},k.createElement("div",{style:g.color},k.createElement("div",{style:g.swatch},k.createElement("div",{style:g.active}),k.createElement(_i,{renderers:h}))),k.createElement("div",{style:g.toggles},k.createElement("div",{style:g.hue},k.createElement(Qi,{style:g.Hue,hsl:m,pointer:hg,onChange:r})),k.createElement("div",{style:g.alpha},k.createElement(_h,{style:g.Alpha,rgb:d,hsl:m,pointer:hg,renderers:h,onChange:r})))),k.createElement(sm,{rgb:d,hsl:m,hex:i,view:u,onChange:r,disableAlpha:l})))};$h.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),disableAlpha:ae.exports.bool,styles:ae.exports.object,defaultView:ae.exports.oneOf(["hex","rgb","hsl"])};$h.defaultProps={width:225,disableAlpha:!1,styles:{}};vt($h);var bP=function(t){var n=t.color,r=t.onClick,l=r===void 0?function(){}:r,d=t.onSwatchHover,m=t.active,c=Ae({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Ph(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:m,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return k.createElement(Cr,{style:c.color,color:n,onClick:l,onHover:d,focusStyle:{boxShadow:"0 0 4px "+n}},k.createElement("div",{style:c.dot}))},SP=function(t){var n=t.hex,r=t.rgb,l=t.onChange,d=Ae({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),m=function(i,h){i.r||i.g||i.b?l({r:i.r||r.r,g:i.g||r.g,b:i.b||r.b,source:"rgb"},h):l({hex:i.hex,source:"hex"},h)};return k.createElement("div",{style:d.fields,className:"flexbox-fix"},k.createElement("div",{style:d.active}),k.createElement(ye,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:n,onChange:m}),k.createElement(ye,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:r.r,onChange:m}),k.createElement(ye,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:r.g,onChange:m}),k.createElement(ye,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:r.b,onChange:m}))},Uh=function(t){var n=t.onChange,r=t.onSwatchHover,l=t.colors,d=t.hex,m=t.rgb,c=t.styles,i=c===void 0?{}:c,h=t.className,A=h===void 0?"":h,a=Ae(pt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},i)),o=function(u,g){u.hex?Wn(u.hex)&&n({hex:u.hex,source:"hex"},g):n(u,g)};return k.createElement(Ya,{style:a.Compact,styles:i},k.createElement("div",{style:a.compact,className:"compact-picker "+A},k.createElement("div",null,yr(l,function(s){return k.createElement(bP,{key:s,color:s,active:s.toLowerCase()===d,onClick:o,onSwatchHover:r})}),k.createElement("div",{style:a.clear})),k.createElement(SP,{hex:d,rgb:m,onChange:o})))};Uh.propTypes={colors:ae.exports.arrayOf(ae.exports.string),styles:ae.exports.object};Uh.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};vt(Uh);var _P=function(t){var n=t.hover,r=t.color,l=t.onClick,d=t.onSwatchHover,m={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=Ae({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:m}},{hover:n});return k.createElement("div",{style:c.swatch},k.createElement(Cr,{color:r,onClick:l,onHover:d,focusStyle:m}))};const QP=Sh(_P);var Hh=function(t){var n=t.width,r=t.colors,l=t.onChange,d=t.onSwatchHover,m=t.triangle,c=t.styles,i=c===void 0?{}:c,h=t.className,A=h===void 0?"":h,a=Ae(pt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},i),{"hide-triangle":m==="hide","top-left-triangle":m==="top-left","top-right-triangle":m==="top-right","bottom-left-triangle":m==="bottom-left","bottom-right-triangle":m==="bottom-right"}),o=function(u,g){return l({hex:u,source:"hex"},g)};return k.createElement("div",{style:a.card,className:"github-picker "+A},k.createElement("div",{style:a.triangleShadow}),k.createElement("div",{style:a.triangle}),yr(r,function(s){return k.createElement(QP,{color:s,key:s,onClick:o,onSwatchHover:d})}))};Hh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),colors:ae.exports.arrayOf(ae.exports.string),triangle:ae.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ae.exports.object};Hh.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};vt(Hh);var kP=function(t){var n=t.direction,r=Ae({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return k.createElement("div",{style:r.picker})},TP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh=function(t){var n=t.width,r=t.height,l=t.onChange,d=t.hsl,m=t.direction,c=t.pointer,i=t.styles,h=i===void 0?{}:i,A=t.className,a=A===void 0?"":A,o=Ae(pt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},h)),s=function(g){return l({a:1,h:g.h,l:.5,s:1})};return k.createElement("div",{style:o.picker,className:"hue-picker "+a},k.createElement(Qi,TP({},o.hue,{hsl:d,pointer:c,onChange:s,direction:m})))};Yh.propTypes={styles:ae.exports.object};Yh.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:kP,styles:{}};vt(Yh);var DP=function(t){var n=t.onChange,r=t.hex,l=t.rgb,d=t.styles,m=d===void 0?{}:d,c=t.className,i=c===void 0?"":c,h=Ae(pt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},m)),A=function(o,s){o.hex?Wn(o.hex)&&n({hex:o.hex,source:"hex"},s):(o.r||o.g||o.b)&&n({r:o.r||l.r,g:o.g||l.g,b:o.b||l.b,source:"rgb"},s)};return k.createElement(Ya,{styles:m},k.createElement("div",{style:h.material,className:"material-picker "+i},k.createElement(ye,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"hex",value:r,onChange:A}),k.createElement("div",{style:h.split,className:"flexbox-fix"},k.createElement("div",{style:h.third},k.createElement(ye,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:l.r,onChange:A})),k.createElement("div",{style:h.third},k.createElement(ye,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:l.g,onChange:A})),k.createElement("div",{style:h.third},k.createElement(ye,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:l.b,onChange:A})))))};vt(DP);var OP=function(t){var n=t.onChange,r=t.rgb,l=t.hsv,d=t.hex,m=Ae({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(h,A){h["#"]?Wn(h["#"])&&n({hex:h["#"],source:"hex"},A):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,source:"rgb"},A):(h.h||h.s||h.v)&&n({h:h.h||l.h,s:h.s||l.s,v:h.v||l.v,source:"hsv"},A)};return k.createElement("div",{style:m.fields},k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"h",value:Math.round(l.h),onChange:c}),k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"s",value:Math.round(l.s*100),onChange:c}),k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"v",value:Math.round(l.v*100),onChange:c}),k.createElement("div",{style:m.divider}),k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"r",value:r.r,onChange:c}),k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"g",value:r.g,onChange:c}),k.createElement(ye,{style:{wrap:m.RGBwrap,input:m.RGBinput,label:m.RGBlabel},label:"b",value:r.b,onChange:c}),k.createElement("div",{style:m.divider}),k.createElement(ye,{style:{wrap:m.HEXwrap,input:m.HEXinput,label:m.HEXlabel},label:"#",value:d.replace("#",""),onChange:c}),k.createElement("div",{style:m.fieldSymbols},k.createElement("div",{style:m.symbol},"°"),k.createElement("div",{style:m.symbol},"%"),k.createElement("div",{style:m.symbol},"%")))},FP=function(t){var n=t.hsl,r=Ae({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return k.createElement("div",{style:r.picker})},MP=function(){var t=Ae({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return k.createElement("div",{style:t.pointer},k.createElement("div",{style:t.left},k.createElement("div",{style:t.leftInside})),k.createElement("div",{style:t.right},k.createElement("div",{style:t.rightInside})))},fg=function(t){var n=t.onClick,r=t.label,l=t.children,d=t.active,m=Ae({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:d});return k.createElement("div",{style:m.button,onClick:n},r||l)},PP=function(t){var n=t.rgb,r=t.currentColor,l=Ae({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return k.createElement("div",null,k.createElement("div",{style:l.label},"new"),k.createElement("div",{style:l.swatches},k.createElement("div",{style:l.new}),k.createElement("div",{style:l.current})),k.createElement("div",{style:l.label},"current"))},LP=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function RP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function GP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zh=function(e){GP(t,e);function t(n){RP(this,t);var r=NP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:n.hex},r}return LP(t,[{key:"render",value:function(){var r=this.props,l=r.styles,d=l===void 0?{}:l,m=r.className,c=m===void 0?"":m,i=Ae(pt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},d));return k.createElement("div",{style:i.picker,className:"photoshop-picker "+c},k.createElement("div",{style:i.head},this.props.header),k.createElement("div",{style:i.body,className:"flexbox-fix"},k.createElement("div",{style:i.saturation},k.createElement(Uo,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:FP,onChange:this.props.onChange})),k.createElement("div",{style:i.hue},k.createElement(Qi,{direction:"vertical",hsl:this.props.hsl,pointer:MP,onChange:this.props.onChange})),k.createElement("div",{style:i.controls},k.createElement("div",{style:i.top,className:"flexbox-fix"},k.createElement("div",{style:i.previews},k.createElement(PP,{rgb:this.props.rgb,currentColor:this.state.currentColor})),k.createElement("div",{style:i.actions},k.createElement(fg,{label:"OK",onClick:this.props.onAccept,active:!0}),k.createElement(fg,{label:"Cancel",onClick:this.props.onCancel}),k.createElement(OP,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(k.Component);zh.propTypes={header:ae.exports.string,styles:ae.exports.object};zh.defaultProps={header:"Color Picker",styles:{}};vt(zh);var jP=function(t){var n=t.onChange,r=t.rgb,l=t.hsl,d=t.hex,m=t.disableAlpha,c=Ae({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:m}),i=function(A,a){A.hex?Wn(A.hex)&&n({hex:A.hex,source:"hex"},a):A.r||A.g||A.b?n({r:A.r||r.r,g:A.g||r.g,b:A.b||r.b,a:r.a,source:"rgb"},a):A.a&&(A.a<0?A.a=0:A.a>100&&(A.a=100),A.a/=100,n({h:l.h,s:l.s,l:l.l,a:A.a,source:"rgb"},a))};return k.createElement("div",{style:c.fields,className:"flexbox-fix"},k.createElement("div",{style:c.double},k.createElement(ye,{style:{input:c.input,label:c.label},label:"hex",value:d.replace("#",""),onChange:i})),k.createElement("div",{style:c.single},k.createElement(ye,{style:{input:c.input,label:c.label},label:"r",value:r.r,onChange:i,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:c.single},k.createElement(ye,{style:{input:c.input,label:c.label},label:"g",value:r.g,onChange:i,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:c.single},k.createElement(ye,{style:{input:c.input,label:c.label},label:"b",value:r.b,onChange:i,dragLabel:"true",dragMax:"255"})),k.createElement("div",{style:c.alpha},k.createElement(ye,{style:{input:c.input,label:c.label},label:"a",value:Math.round(r.a*100),onChange:i,dragLabel:"true",dragMax:"100"})))},$P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om=function(t){var n=t.colors,r=t.onClick,l=r===void 0?function(){}:r,d=t.onSwatchHover,m=Ae({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),c=function(h,A){l({hex:h,source:"hex"},A)};return k.createElement("div",{style:m.colors,className:"flexbox-fix"},n.map(function(i){var h=typeof i=="string"?{color:i}:i,A=""+h.color+(h.title||"");return k.createElement("div",{key:A,style:m.swatchWrap},k.createElement(Cr,$P({},h,{style:m.swatch,onClick:c,onHover:d,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+h.color}})))}))};om.propTypes={colors:ae.exports.arrayOf(ae.exports.oneOfType([ae.exports.string,ae.exports.shape({color:ae.exports.string,title:ae.exports.string})])).isRequired};var UP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh=function(t){var n=t.width,r=t.rgb,l=t.hex,d=t.hsv,m=t.hsl,c=t.onChange,i=t.onSwatchHover,h=t.disableAlpha,A=t.presetColors,a=t.renderers,o=t.styles,s=o===void 0?{}:o,u=t.className,g=u===void 0?"":u,f=Ae(pt({default:UP({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},s),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},s),{disableAlpha:h});return k.createElement("div",{style:f.picker,className:"sketch-picker "+g},k.createElement("div",{style:f.saturation},k.createElement(Uo,{style:f.Saturation,hsl:m,hsv:d,onChange:c})),k.createElement("div",{style:f.controls,className:"flexbox-fix"},k.createElement("div",{style:f.sliders},k.createElement("div",{style:f.hue},k.createElement(Qi,{style:f.Hue,hsl:m,onChange:c})),k.createElement("div",{style:f.alpha},k.createElement(_h,{style:f.Alpha,rgb:r,hsl:m,renderers:a,onChange:c}))),k.createElement("div",{style:f.color},k.createElement(_i,null),k.createElement("div",{style:f.activeColor}))),k.createElement(jP,{rgb:r,hsl:m,hex:l,onChange:c,disableAlpha:h}),k.createElement(om,{colors:A,onClick:c,onSwatchHover:i}))};Wh.propTypes={disableAlpha:ae.exports.bool,width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),styles:ae.exports.object};Wh.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const HP=vt(Wh);var Hi=function(t){var n=t.hsl,r=t.offset,l=t.onClick,d=l===void 0?function(){}:l,m=t.active,c=t.first,i=t.last,h=Ae({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:m,first:c,last:i}),A=function(o){return d({h:n.h,s:.5,l:r,source:"hsl"},o)};return k.createElement("div",{style:h.swatch,onClick:A})},YP=function(t){var n=t.onClick,r=t.hsl,l=Ae({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),d=.1;return k.createElement("div",{style:l.swatches},k.createElement("div",{style:l.swatch},k.createElement(Hi,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<d&&Math.abs(r.s-.5)<d,onClick:n,first:!0})),k.createElement("div",{style:l.swatch},k.createElement(Hi,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<d&&Math.abs(r.s-.5)<d,onClick:n})),k.createElement("div",{style:l.swatch},k.createElement(Hi,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<d&&Math.abs(r.s-.5)<d,onClick:n})),k.createElement("div",{style:l.swatch},k.createElement(Hi,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<d&&Math.abs(r.s-.5)<d,onClick:n})),k.createElement("div",{style:l.swatch},k.createElement(Hi,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<d&&Math.abs(r.s-.5)<d,onClick:n,last:!0})),k.createElement("div",{style:l.clear}))},zP=function(){var t=Ae({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return k.createElement("div",{style:t.picker})},Xh=function(t){var n=t.hsl,r=t.onChange,l=t.pointer,d=t.styles,m=d===void 0?{}:d,c=t.className,i=c===void 0?"":c,h=Ae(pt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},m));return k.createElement("div",{style:h.wrap||{},className:"slider-picker "+i},k.createElement("div",{style:h.hue},k.createElement(Qi,{style:h.Hue,hsl:n,pointer:l,onChange:r})),k.createElement("div",{style:h.swatches},k.createElement(YP,{hsl:n,onClick:r})))};Xh.propTypes={styles:ae.exports.object};Xh.defaultProps={pointer:zP,styles:{}};vt(Xh);var lm={};Object.defineProperty(lm,"__esModule",{value:!0});var Ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP=te.exports,dg=XP(WP);function XP(e){return e&&e.__esModule?e:{default:e}}function VP(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var gs=24,JP=lm.default=function(e){var t=e.fill,n=t===void 0?"currentColor":t,r=e.width,l=r===void 0?gs:r,d=e.height,m=d===void 0?gs:d,c=e.style,i=c===void 0?{}:c,h=VP(e,["fill","width","height","style"]);return dg.default.createElement("svg",Ag({viewBox:"0 0 "+gs+" "+gs,style:Ag({fill:n,width:l,height:m},i)},h),dg.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},KP=function(t){var n=t.color,r=t.onClick,l=r===void 0?function(){}:r,d=t.onSwatchHover,m=t.first,c=t.last,i=t.active,h=Ae({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Ph(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:m,last:c,active:i,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return k.createElement(Cr,{color:n,style:h.color,onClick:l,onHover:d,focusStyle:{boxShadow:"0 0 4px "+n}},k.createElement("div",{style:h.check},k.createElement(JP,null)))},qP=function(t){var n=t.onClick,r=t.onSwatchHover,l=t.group,d=t.active,m=Ae({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return k.createElement("div",{style:m.group},yr(l,function(c,i){return k.createElement(KP,{key:c,color:c,active:c.toLowerCase()===d,first:i===0,last:i===l.length-1,onClick:n,onSwatchHover:r})}))},Vh=function(t){var n=t.width,r=t.height,l=t.onChange,d=t.onSwatchHover,m=t.colors,c=t.hex,i=t.styles,h=i===void 0?{}:i,A=t.className,a=A===void 0?"":A,o=Ae(pt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},h)),s=function(g,f){return l({hex:g,source:"hex"},f)};return k.createElement("div",{style:o.picker,className:"swatches-picker "+a},k.createElement(Ya,null,k.createElement("div",{style:o.overflow},k.createElement("div",{style:o.body},yr(m,function(u){return k.createElement(qP,{key:u.toString(),group:u,active:c,onClick:s,onSwatchHover:d})}),k.createElement("div",{style:o.clear})))))};Vh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),height:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),colors:ae.exports.arrayOf(ae.exports.arrayOf(ae.exports.string)),styles:ae.exports.object};Vh.defaultProps={width:320,height:240,colors:[[Ir[900],Ir[700],Ir[500],Ir[300],Ir[100]],[xr[900],xr[700],xr[500],xr[300],xr[100]],[br[900],br[700],br[500],br[300],br[100]],[Sr[900],Sr[700],Sr[500],Sr[300],Sr[100]],[_r[900],_r[700],_r[500],_r[300],_r[100]],[Qr[900],Qr[700],Qr[500],Qr[300],Qr[100]],[kr[900],kr[700],kr[500],kr[300],kr[100]],[Tr[900],Tr[700],Tr[500],Tr[300],Tr[100]],[Dr[900],Dr[700],Dr[500],Dr[300],Dr[100]],["#194D33",Ki[700],Ki[500],Ki[300],Ki[100]],[Or[900],Or[700],Or[500],Or[300],Or[100]],[Fr[900],Fr[700],Fr[500],Fr[300],Fr[100]],[Mr[900],Mr[700],Mr[500],Mr[300],Mr[100]],[Pr[900],Pr[700],Pr[500],Pr[300],Pr[100]],[Lr[900],Lr[700],Lr[500],Lr[300],Lr[100]],[Rr[900],Rr[700],Rr[500],Rr[300],Rr[100]],[Nr[900],Nr[700],Nr[500],Nr[300],Nr[100]],[Gr[900],Gr[700],Gr[500],Gr[300],Gr[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};vt(Vh);var Jh=function(t){var n=t.onChange,r=t.onSwatchHover,l=t.hex,d=t.colors,m=t.width,c=t.triangle,i=t.styles,h=i===void 0?{}:i,A=t.className,a=A===void 0?"":A,o=Ae(pt({default:{card:{width:m,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},h),{"hide-triangle":c==="hide","top-left-triangle":c==="top-left","top-right-triangle":c==="top-right"}),s=function(g,f){Wn(g)&&n({hex:g,source:"hex"},f)};return k.createElement("div",{style:o.card,className:"twitter-picker "+a},k.createElement("div",{style:o.triangleShadow}),k.createElement("div",{style:o.triangle}),k.createElement("div",{style:o.body},yr(d,function(u,g){return k.createElement(Cr,{key:g,color:u,hex:u,style:o.swatch,onClick:s,onHover:r,focusStyle:{boxShadow:"0 0 4px "+u}})}),k.createElement("div",{style:o.hash},"#"),k.createElement(ye,{label:null,style:{input:o.input},value:l.replace("#",""),onChange:s}),k.createElement("div",{style:o.clear})))};Jh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),triangle:ae.exports.oneOf(["hide","top-left","top-right"]),colors:ae.exports.arrayOf(ae.exports.string),styles:ae.exports.object};Jh.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};vt(Jh);var Kh=function(t){var n=Ae({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return k.createElement("div",{style:n.picker})};Kh.propTypes={hsl:ae.exports.shape({h:ae.exports.number,s:ae.exports.number,l:ae.exports.number,a:ae.exports.number})};Kh.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var qh=function(t){var n=Ae({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return k.createElement("div",{style:n.picker})};qh.propTypes={hsl:ae.exports.shape({h:ae.exports.number,s:ae.exports.number,l:ae.exports.number,a:ae.exports.number})};qh.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var ZP=function(t){var n=t.onChange,r=t.rgb,l=t.hsl,d=t.hex,m=t.hsv,c=function(s,u){if(s.hex)Wn(s.hex)&&n({hex:s.hex,source:"hex"},u);else if(s.rgb){var g=s.rgb.split(",");Pl(s.rgb,"rgb")&&n({r:g[0],g:g[1],b:g[2],a:1,source:"rgb"},u)}else if(s.hsv){var f=s.hsv.split(",");Pl(s.hsv,"hsv")&&(f[2]=f[2].replace("%",""),f[1]=f[1].replace("%",""),f[0]=f[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(f[0]),s:Number(f[1]),v:Number(f[2]),source:"hsv"},u))}else if(s.hsl){var p=s.hsl.split(",");Pl(s.hsl,"hsl")&&(p[2]=p[2].replace("%",""),p[1]=p[1].replace("%",""),p[0]=p[0].replace("°",""),a[1]==1?a[1]=.01:a[2]==1&&(a[2]=.01),n({h:Number(p[0]),s:Number(p[1]),v:Number(p[2]),source:"hsl"},u))}},i=Ae({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),h=r.r+", "+r.g+", "+r.b,A=Math.round(l.h)+"°, "+Math.round(l.s*100)+"%, "+Math.round(l.l*100)+"%",a=Math.round(m.h)+"°, "+Math.round(m.s*100)+"%, "+Math.round(m.v*100)+"%";return k.createElement("div",{style:i.wrap,className:"flexbox-fix"},k.createElement("div",{style:i.fields},k.createElement("div",{style:i.double},k.createElement(ye,{style:{input:i.input,label:i.label},label:"hex",value:d,onChange:c})),k.createElement("div",{style:i.column},k.createElement("div",{style:i.single},k.createElement(ye,{style:{input:i.input2,label:i.label2},label:"rgb",value:h,onChange:c})),k.createElement("div",{style:i.single},k.createElement(ye,{style:{input:i.input2,label:i.label2},label:"hsv",value:a,onChange:c})),k.createElement("div",{style:i.single},k.createElement(ye,{style:{input:i.input2,label:i.label2},label:"hsl",value:A,onChange:c})))))},Zh=function(t){var n=t.width,r=t.onChange,l=t.rgb,d=t.hsl,m=t.hsv,c=t.hex,i=t.header,h=t.styles,A=h===void 0?{}:h,a=t.className,o=a===void 0?"":a,s=Ae(pt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+l.r+", "+l.g+", "+l.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},A));return k.createElement("div",{style:s.picker,className:"google-picker "+o},k.createElement("div",{style:s.head},i),k.createElement("div",{style:s.swatch}),k.createElement("div",{style:s.saturation},k.createElement(Uo,{hsl:d,hsv:m,pointer:Kh,onChange:r})),k.createElement("div",{style:s.body},k.createElement("div",{style:s.controls,className:"flexbox-fix"},k.createElement("div",{style:s.hue},k.createElement(Qi,{style:s.Hue,hsl:d,radius:"4px",pointer:qh,onChange:r}))),k.createElement(ZP,{rgb:l,hsl:d,hex:c,hsv:m,onChange:r})))};Zh.propTypes={width:ae.exports.oneOfType([ae.exports.string,ae.exports.number]),styles:ae.exports.object,header:ae.exports.string};Zh.defaultProps={width:652,styles:{},header:"Color picker"};vt(Zh);function au({item:e}){const{name:t,value:n,handler:r}=e,[l,d]=te.exports.useState(n),[m,c]=te.exports.useState(!1),i=A=>{const{r:a,g:o,b:s,a:u}=A.rgb,g=`rgba(${a}, ${o}, ${s}, ${u})`;r(g)},h=A=>{if(!m){const a=()=>{c(!1),window.removeEventListener("click",a)};setTimeout(()=>{window.addEventListener("click",a)})}c(!m)};return te.exports.useEffect(()=>{d(n)},[n]),pe("div",{className:h2.color,children:[z("div",{className:"name",children:t}),z("div",{className:"color-bar-wrapper",onClick:h,children:z("div",{className:"color-bar",style:{backgroundColor:l}})}),z("div",{className:"picker-wrapper",onClick:A=>A.stopPropagation(),children:m&&z(HP,{onChange:i,color:l})})]})}const eL={"icon-bar":"_icon-bar_1vdkp_1"};function tL({item:e}){const{name:t,value:n,iconTypes:r,labels:l,handler:d}=e,m=c=>{d(c)};return pe("div",{className:eL["icon-bar"],children:[z("div",{className:"name",children:t}),z("div",{className:"icon-list",children:r.map((c,i)=>z("div",{className:on("icon-wrapper",n[i]&&"icon-active"),onClick:()=>m(c),children:z(Oc,{text:l[i],children:z(Dt,{type:c})})},c))})]})}const nL="_select_zpj30_1",rL={select:nL};function iL({item:e}){const{name:t,value:n,handler:r,options:l}=e,[d,m]=te.exports.useState(n),c=i=>{r&&r(i)};return te.exports.useEffect(()=>{m(n)},[n]),pe("div",{className:rL.select,children:[z("div",{className:"name",children:t}),z("div",{className:"com-select",children:z(l1,{options:l,onChange:c,value:d})})]})}function aL(){const[e,t]=te.exports.useState(null);return te.exports.useLayoutEffect(()=>{const n=()=>{if(!ce.current)return;const r=ce.current.getSelected();if(r.length>=2){t(null);return}const d=(r[0]||ce.current).getFormObject();t(d)};return n(),at.on("selection-change",n),at.on("update-config",n),()=>{at.off("selection-change",n),at.off("update-config",n)}},[]),pe("div",{className:t2.attr,children:[z("div",{className:"title",children:e?e.name:"组合"}),z("div",{className:"divider"}),e===null&&z("div",{className:"empty",children:"组合暂不支持编辑"}),e&&e.items.map(n=>n.type==="double-input"?z(z0,{item:n},n.id):n.type==="upload-image"?z(i2,{item:n},n.id):n.type==="range"?z(Yc,{item:n},n.id):n.type==="textarea"?z(c2,{item:n},n.id):n.type==="icon-bar"?z(tL,{item:n},n.id):n.type==="color"?z(au,{item:n},n.id):n.type==="button"?z(tn,{style:{width:263,margin:"16px 0 0 16px"},onClick:n.handler,children:n.name},n.id):n.type==="select"?z(iL,{item:n},n.id):null)]})}const sL="_material_23e1r_1",oL={material:sL};function lL(){const[e,t]=te.exports.useState(!1),n=l=>{const d=l.target.files&&l.target.files[0];if(d===null)return;l.target.value="";const m=new FileReader;m.readAsDataURL(d),m.onload=c=>{const i=c.target.result;r(i)}},r=async l=>{if(e)return;const d=ce.current;if(!d)return;t(!0);const m=await Pa.create({imageUrl:l});d.add(m),t(!1)};return pe("div",{className:oL.material,children:[pe(tn,{style:{width:"100%"},loading:e,children:["添加本地图片",z("input",{className:"hide-input",type:"file",accept:"image/*",onChange:n})]}),z("div",{className:"divider"}),z(b0,{type:"material"})]})}const cL="_text_auhaz_1",uL={text:cL};function hL(){const[e,t]=te.exports.useState(!1),n=async()=>{if(e)return;const r=ce.current;if(!r)return;t(!0);const l=await to.create();r.add(l),t(!1)};return pe("div",{className:uL.text,children:[z(tn,{style:{width:"100%"},onClick:n,loading:e,children:"添加文本"}),z("div",{className:"divider"}),z(b0,{type:"text",showDropdown:!1,showSearch:!1})]})}const fL="_shape_3s4s4_1",AL={shape:fL};function dL(){const[e,t]=te.exports.useState(!1),[n,r]=te.exports.useState("rgba(255,192,203,1)"),[l,d]=te.exports.useState(1),[m,c]=te.exports.useState(!1),[i,h]=te.exports.useState("rgba(56,209,236,1)"),[A,a]=te.exports.useState([10,10]),[o,s]=te.exports.useState(10),u=async()=>{const B=ce.current;if(!B)return;const b=await S0.create({});B.add(b)},g=B=>{const b=ce.current;b&&(B&&Zt.show("按住 Shift 键可画出直线哦~"),b.instance.isDrawingMode=B,b.instance.freeDrawingBrush.color=n,t(B))},f=B=>{const b=ce.current;b&&(b.instance.freeDrawingBrush.width=B,d(B))},p=B=>{const b=ce.current;b&&(b.instance.freeDrawingBrush.color=B,r(B))},v=B=>{const b=ce.current;b&&(b.instance.freeDrawingBrush.shadow.color=B,h(B))},C=B=>{const b=ce.current;b&&(c(B),B?b.instance.freeDrawingBrush.shadow=new Ne.fabric.Shadow({blur:o,offsetX:A[0],offsetY:A[1],affectStroke:!0,color:i}):b.instance.freeDrawingBrush.shadow=null)},E=[{id:"width",type:"range",name:"画笔宽度",value:l,max:40,handler:f},{id:"color",type:"color",name:"画笔颜色",value:n,handler:p},{id:"shadowColor",type:"color",name:"阴影颜色",value:i,handler:v},{id:"offset",type:"double-input",name:"阴影偏移",label:["X","Y"],value:A,handler:(B,b)=>{const D=ce.current;D&&(D.instance.freeDrawingBrush.shadow.offsetX=B,D.instance.freeDrawingBrush.shadow.offsetY=b,a([B,b]))}},{id:"blur",type:"range",name:"阴影模糊度",value:o,max:80,handler:B=>{const b=ce.current;b&&(b.instance.freeDrawingBrush.shadow.blur=B,s(B))}}];return te.exports.useEffect(()=>{const B=ce.current;if(!B)return;r(B.instance.freeDrawingBrush.color),d(B.instance.freeDrawingBrush.width);const b=Boolean(B.instance.freeDrawingBrush.shadow);return c(b),b&&(h(B.instance.freeDrawingBrush.shadow.color),a([B.instance.freeDrawingBrush.shadow.offsetX,B.instance.freeDrawingBrush.shadow.offsetY]),s(B.instance.freeDrawingBrush.shadow.blur)),()=>{B.instance.isDrawingMode=!1}},[]),pe("div",{className:AL.shape,children:[z(tn,{onClick:u,style:{width:263,margin:"16px 0 0 16px"},children:"添加矩形"}),z("div",{className:"divider",style:{margin:"16px"}}),pe("div",{className:"switch-wrapper",children:["自由绘画模式",z(vA,{checked:e,onChange:g})]}),e&&pe("div",{children:[z(Yc,{item:E[0]}),z(au,{item:E[1]}),pe("div",{className:"switch-wrapper",children:["阴影开关",z(vA,{checked:m,onChange:C})]}),m&&pe("div",{children:[z(au,{item:E[2]}),z(z0,{item:E[3]}),z(Yc,{item:E[4]})]})]})]})}const gg=[{id:"material",iconType:"icon-material",text:"素材"},{id:"shape",iconType:"icon-shape",text:"图形"},{id:"text",iconType:"icon-text",text:"文本"},{id:"attr",iconType:"icon-attr",text:"属性"}];function gL(){const[e,t]=te.exports.useState(gg[0].id),n=r=>{t(r.id)};return te.exports.useEffect(()=>{const r=()=>{!ce.current||ce.current.getSelected().length===0||t("attr")};return at.on("selection-change",r),()=>{at.off("selection-change",r)}},[]),pe("div",{className:bl.sidebar,children:[z("div",{className:bl.tabs,children:gg.map(r=>pe("div",{className:on("tab",e===r.id&&"tab-active"),onClick:()=>n(r),children:[z(Dt,{className:"tab-icon",type:r.iconType}),z("div",{className:"tab-text",children:r.text})]},r.id))}),pe("div",{className:bl.main,children:[e==="material"&&z(lL,{}),e==="text"&&z(hL,{}),e==="shape"&&z(dL,{}),e==="attr"&&z(aL,{})]})]})}const pL="_app_l55t9_1",vL="_mask_l55t9_9",Rl={app:pL,mask:vL},cm={id:"",name:`新建画布${Date.now()}`,internal:!1,type:"template",tag:"推荐位",image:"",data:null},ef=te.exports.createContext(cm);function mL(){const[e,t]=te.exports.useState(!0),[n,r]=te.exports.useState(cm);return te.exports.useEffect(()=>{Yy(500).then(()=>{t(!1)});const l=d=>{if(!(!d.clipboardData||!ce.current))for(let m=0;m<d.clipboardData.items.length;++m){const c=d.clipboardData.items[m];if(c.type.indexOf("image")>=0){const i=c.getAsFile();if(i===null)continue;const h=new FileReader;h.readAsDataURL(i),h.onload=async A=>{const a=A.target.result,o=await Pa.create({imageUrl:a});ce.current.add(o)};break}}};return document.addEventListener("paste",l),()=>{document.removeEventListener("paste",l)}},[]),e?z("div",{className:Rl.app,children:z("div",{className:Rl.mask,children:z(n1,{})})}):z(ef.Provider,{value:n,children:pe("div",{className:Rl.app,children:[z(JE,{}),z(gL,{}),z(_1,{})]})})}window._iconfont_svg_string_3899988='<svg><symbol id="icon-shape" viewBox="0 0 1024 1024"><path d="M373.333333 149.333333A224 224 0 0 0 341.333333 595.072v64.512A288.042667 288.042667 0 1 1 659.584 341.333333h-64.512A224.042667 224.042667 0 0 0 373.333333 149.333333z"  ></path><path d="M522.666667 384A138.666667 138.666667 0 0 0 384 522.666667v277.333333A138.666667 138.666667 0 0 0 522.666667 938.666667h277.333333A138.666667 138.666667 0 0 0 938.666667 800v-277.333333A138.666667 138.666667 0 0 0 800 384h-277.333333z m-74.666667 138.666667c0-41.216 33.450667-74.666667 74.666667-74.666667h277.333333c41.216 0 74.666667 33.450667 74.666667 74.666667v277.333333a74.666667 74.666667 0 0 1-74.666667 74.666667h-277.333333a74.666667 74.666667 0 0 1-74.666667-74.666667v-277.333333z"  ></path></symbol><symbol id="icon-edit" viewBox="0 0 1024 1024"><path d="M257.7 752c2 0 4-0.2 6-0.5L431.9 722c2-0.4 3.9-1.3 5.3-2.8l423.9-423.9c3.9-3.9 3.9-10.2 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2c-1.9 11.1 1.5 21.9 9.4 29.8 6.6 6.4 14.9 9.9 23.8 9.9z m67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"  ></path></symbol><symbol id="icon-more" viewBox="0 0 1024 1024"><path d="M511 792m0 56a56 56 0 1 0-1e-8-112 56 56 0 1 0 1e-8 112Z"  ></path><path d="M511 512m0 56.00000001a56 56 0 1 0 0-112.00000002 56 56 0 1 0 0 112.00000002Z"  ></path><path d="M511 232m-1e-8 56a56 56 0 1 0 1e-8-112 56 56 0 1 0-1e-8 112Z"  ></path></symbol><symbol id="icon-delete" viewBox="0 0 1024 1024"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72z"  ></path><path d="M864 256H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"  ></path></symbol><symbol id="icon-heart" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"  ></path></symbol><symbol id="icon-share" viewBox="0 0 1024 1024"><path d="M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8c1.7-9.3 2.6-19 2.6-28.8s-0.9-19.4-2.6-28.8l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120z m0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88z m440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"  ></path></symbol><symbol id="icon-check" viewBox="0 0 1024 1024"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474c-6.1-7.7-15.3-12.2-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1 0.4-12.8-6.3-12.8z"  ></path></symbol><symbol id="icon-heart-fill" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"  ></path></symbol><symbol id="icon-search" viewBox="0 0 1024 1024"><path d="M416 192C537.6 192 640 294.4 640 416S537.6 640 416 640 192 537.6 192 416 294.4 192 416 192M416 128C256 128 128 256 128 416S256 704 416 704 704 576 704 416 576 128 416 128L416 128z"  ></path><path d="M832 864c-6.4 0-19.2 0-25.6-6.4l-192-192c-12.8-12.8-12.8-32 0-44.8s32-12.8 44.8 0l192 192c12.8 12.8 12.8 32 0 44.8C851.2 864 838.4 864 832 864z"  ></path></symbol><symbol id="icon-template" viewBox="0 0 1024 1024"><path d="M243.2 290.816v562.322286h495.689143V926.47619H279.478857C219.37981 926.47619 170.666667 877.226667 170.666667 816.469333v-525.653333h72.533333zM780.190476 97.52381a73.142857 73.142857 0 0 1 73.142857 73.142857v560.761904a73.142857 73.142857 0 0 1-73.142857 73.142858H292.571429V170.666667a73.142857 73.142857 0 0 1 73.142857-73.142857h414.47619z m0 73.142857H365.714286v560.761904h414.47619V170.666667z m-125.927619 71.265523v73.362286H436.662857V241.93219h217.624381z"  ></path></symbol><symbol id="icon-arrow-left" viewBox="0 0 1024 1024"><path d="M309.33333299 512c0-8.533333 2.133333-17.066667 8.53333401-23.466667l341.333333-341.333333c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8l-317.866667 320 320 317.866667c12.8 12.8 12.8 32-1e-8 44.8-12.8 12.8-32 12.8-44.79999999 0L320 533.333333c-8.533333-4.266667-10.666667-12.8-10.66666701-21.333333z"  ></path></symbol><symbol id="icon-arrow-down" viewBox="0 0 1024 1024"><path d="M512 714.666667c-8.533333 0-17.066667-2.133333-23.466667-8.533334l-341.333333-341.333333c-12.8-12.8-12.8-32 0-44.8 12.8-12.8 32-12.8 44.8 0l320 317.866667 317.866667-320c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8L533.333333 704c-4.266667 8.533333-12.8 10.666667-21.333333 10.666667z"  ></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 1024 1024"><path d="M714.66666701 512c0 8.533333-2.133333 17.066667-8.53333401 23.466667l-341.333333 341.333333c-12.8 12.8-32 12.8-44.8 0-12.8-12.8-12.8-32 0-44.8l317.866667-320-320-317.866667c-12.8-12.8-12.8-32 1e-8-44.8 12.8-12.8 32-12.8 44.79999999 0L704 490.666667c8.533333 4.266667 10.666667 12.8 10.66666701 21.333333z"  ></path></symbol><symbol id="icon-close" viewBox="0 0 1024 1024"><path d="M557.312 513.248l265.28-263.904c12.544-12.48 12.608-32.704 0.128-45.248-12.512-12.576-32.704-12.608-45.248-0.128l-265.344 263.936-263.04-263.84C236.64 191.584 216.384 191.52 203.84 204 191.328 216.48 191.296 236.736 203.776 249.28l262.976 263.776L201.6 776.8c-12.544 12.48-12.608 32.704-0.128 45.248 6.24 6.272 14.464 9.44 22.688 9.44 8.16 0 16.32-3.104 22.56-9.312l265.216-263.808 265.44 266.24c6.24 6.272 14.432 9.408 22.656 9.408 8.192 0 16.352-3.136 22.592-9.344 12.512-12.48 12.544-32.704 0.064-45.248L557.312 513.248z"  ></path></symbol><symbol id="icon-bold" viewBox="0 0 1024 1024"><path d="M618.666667 160v1.173333c89.706667 9.92 160 81.557333 160 169.493334 0 55.04-27.52 103.68-70.101334 134.826666 67.264 36.672 112.768 105.685333 112.768 185.173334 0 111.338667-89.258667 202.154667-202.645333 212.373333L618.666667 864H234.666667v-64h64v-576h-64v-64h384z m-256 341.333333v298.666667h234.666666c86.976 0 157.141333-64.618667 159.914667-144.426667l0.085333-4.906666c0-82.048-71.253333-149.333333-160-149.333334H362.666667z m234.666666-277.333333H362.666667v213.333333h234.666666l4.864-0.085333c63.018667-2.346667 112.469333-49.685333 112.469334-106.581333 0-58.368-52.032-106.666667-117.333334-106.666667z"  ></path></symbol><symbol id="icon-italic" viewBox="0 0 1024 1024"><path d="M729.173333 149.333333v64h-111.829333l-165.781333 618.666667h128.298666v64H277.333333v-64h107.968l165.76-618.666667H426.666667V149.333333h302.506666z"  ></path></symbol><symbol id="icon-underline" viewBox="0 0 1024 1024"><path d="M812.714667 810.666667v64H213.333333v-64h599.381334zM379.370667 160v64H309.333333v279.616c0 103.829333 87.253333 188.949333 196.778667 191.914667l5.888 0.085333c112.256 0 202.666667-86.314667 202.666667-192V224H640v-64h208.704v64H778.666667v279.616c0 139.562667-116.117333 252.522667-260.010667 255.914667l-6.656 0.085333c-146.944 0-266.666667-114.282667-266.666667-256V224H170.666667v-64h208.704z"  ></path></symbol><symbol id="icon-linethrough" viewBox="0 0 1024 1024"><path d="M968 542.9V481c0-1.7-0.5-3-2.3-3H571.6l-0.5-0.1c-10.7-2.1-21.6-4.2-32.5-6.2-16.9-3.1-23.2-4.3-31.8-6-53.1-10.4-85.4-20.7-111.6-35.8-37.9-22.1-56.3-52.2-56.3-92 0-39.7 16.4-72.8 47.3-95.7 30.1-22.3 72.8-34 123.3-34 57.8 0 102.6 15.3 133.1 45.5 15.6 15.4 27.1 34.3 34 56.2 1.6 4.9 3.1 11.4 4.6 18.8 0.5 2.5 2.7 4.3 5.3 4.3h75c2.9 0 5.4-2.3 5.4-5.2v-0.8c-1-6.8-1.3-12.1-2-15.9-7.3-43.8-28-82-59.9-110.8-44.7-40.8-110.8-62.4-191-62.4-73.4 0-139.4 18.3-185.9 51.5-25.8 18.6-45.6 41.4-58.8 67.9-13.4 27.2-20.3 58.7-20.3 93.5 0 29.5 5.6 54.5 17.2 76.5 8.2 15.5 19.3 29.2 34 41.9l10.2 8.8H59.2c-1.8 0-4.2 1.4-4.2 3.1V543c0 1.8 2.4 3 4.2 3h446.7l0.5 0.2c1.3 0.3 2.6 0.6 3.8 0.8 0.8 0.2 1.5 0.3 2.3 0.5 33 6.6 51.7 10.9 69 15.8 24.3 6.9 42.8 14.1 58 22.6 38.7 21.8 57.5 53.2 57.5 96 0 37.9-16.6 71.8-46.8 95.4-32.2 25.2-79.7 38.6-137.5 38.6-45.6 0-84.6-8.9-116-26.4-30.9-17.3-52.4-42.3-63.8-74.3-0.9-2.4-1.8-5.8-2.9-9.9-0.6-2.3-2.8-4.3-5.2-4.3h-82.1c-3 0-5.7 3-5.7 6v0.8c0 2.2 0.5 4.1 0.7 5.4 6.5 48.9 30.4 89 70.9 119 47.6 35.2 115 53.8 194.6 53.8 85.6 0 157.4-20.1 207.3-58 25-18.9 44.3-42.2 57.3-69.3 13.1-27.4 19.8-58.4 19.8-92.1 0-32-5.8-58.6-17.8-81.5-5.7-11.1-13-21.4-21.7-30.7l-7.9-8.5h225.3c2 0.1 2.5-1.3 2.5-3z"  ></path></symbol><symbol id="icon-material" viewBox="0 0 1024 1024"><path d="M512.43945313 904.51953125c-6.06445313 0-12.12890625-1.58203125-17.57812501-4.74609375L136.70703125 689.71484375c-10.63476563-6.24023438-17.13867188-17.66601563-17.13867188-29.97070313s6.50390625-23.73046875 17.13867188-29.97070312l76.37695313-44.91210938L136.97070312 540.125c-10.63476563-6.24023438-17.13867188-17.66601563-17.13867187-29.97070313s6.50390625-23.73046875 17.13867188-29.97070312l73.38867187-43.15429688-73.125-42.890625C126.51171875 387.81054687 120.0078125 376.38476562 120.0078125 364.08007812c0-12.3046875 6.50390625-23.73046875 17.13867188-29.97070312L495.828125 122.99609375c10.8984375-6.41601563 24.34570313-6.41601563 35.24414063 0l358.15429687 210.05859375c10.63476563 6.24023438 17.13867188 17.66601563 17.13867188 29.97070313s-6.50390625 23.73046875-17.13867188 29.97070312l-73.38867188 43.15429688 73.12500001 42.890625c10.63476563 6.24023438 17.13867188 17.66601563 17.13867187 29.97070312s-6.50390625 23.73046875-17.13867187 29.97070313L812.5859375 583.89453125l76.11328125 44.6484375c10.63476563 6.24023438 17.13867188 17.66601563 17.13867188 29.97070313s-6.50390625 23.73046875-17.13867188 29.97070312l-358.59375 211.2890625c-5.44921875 3.1640625-11.6015625 4.74609375-17.66601563 4.74609375zM223.015625 659.65625l289.42382813 169.8046875 290.12695312-170.77148438-58.44726563-34.27734374L530.28125 750.18359375a34.67285156 34.67285156 0 0 1-35.24414063 0L281.7265625 625.02734375 223.015625 659.65625z m76.90429688-104.58984375l212.69531249 124.8046875 290.12695313-170.77148438-55.546875-32.60742187-216.65039063 127.6171875a34.67285156 34.67285156 0 0 1-35.24414062 0L279.00195312 477.28320312l-55.81054687 32.78320313 75.49804688 44.296875c0.43945313 0.26367188 0.79101563 0.52734375 1.23046874 0.703125z m-2.81250001-147.83203125l215.68359376 126.5625 216.12304687-127.17773438c0.3515625-0.26367188 0.703125-0.43945313 1.0546875-0.61523437l72.86132813-42.890625-289.33593751-169.8046875-290.12695312 170.68359375 72.59765625 42.62695313c0.43945313 0.17578125 0.79101563 0.43945313 1.14257813 0.61523437z"  ></path></symbol><symbol id="icon-my" viewBox="0 0 1024 1024"><path d="M800 384c0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 16 6.4 35.2 25.6 38.4h6.4c16 0 28.8-9.6 32-25.6 28.8-150.4 160-259.2 313.6-262.4h6.4c156.8 0 284.8-128 284.8-288zM288 384c0-124.8 99.2-224 224-224s224 99.2 224 224c0 121.6-99.2 220.8-220.8 224H505.6C384 604.8 288 505.6 288 384zM723.2 675.2c-16-9.6-35.2-6.4-44.8 9.6-9.6 16-6.4 35.2 9.6 44.8 73.6 51.2 124.8 121.6 140.8 204.8 3.2 16 16 25.6 32 25.6h6.4c16-3.2 28.8-19.2 25.6-38.4-19.2-99.2-80-185.6-169.6-246.4z"  ></path></symbol><symbol id="icon-text" viewBox="0 0 1024 1024"><path d="M725.333333 224V341.333333h-64v-53.333333h-181.333333V768H554.666667v64H341.333333v-64h74.666667V288h-192V341.333333h-64v-117.333333H725.333333zM853.333333 768v64H597.333333v-64h256z m0-128v64H597.333333v-64h256z m0-128v64H597.333333v-64h256z"  ></path></symbol><symbol id="icon-attr" viewBox="0 0 1024 1024"><path d="M684.471 610.953c-43.431 0-78.769 35.332-78.769 78.769s35.337 78.78 78.77 78.78 78.768-35.343 78.768-78.78-35.337-78.77-78.769-78.77z m0 102.945c-13.325 0-24.166-10.846-24.166-24.176 0-13.32 10.84-24.167 24.166-24.167s24.167 10.846 24.167 24.167c0 13.33-10.841 24.176-24.167 24.176z"  ></path><path d="M876.669 651.853c-2.12-11.074-8.847-18.193-17.016-18.036h-1.7c-28.141 0-51.048-22.644-51.048-50.445 0-9.164 4.398-19.216 4.451-19.295 4.284-9.882 1.024-21.416-7.801-27.59l-0.496-0.34-49.084-26.965-0.527-0.236a26.015 26.015 0 0 0-27.825 5.472c-5.97 6.127-24.87 21.99-40.131 21.99-15.394 0-34.424-16.18-40.418-22.409a25.923 25.923 0 0 0-27.803-5.708l-0.55 0.236-50.813 27.592-0.496 0.342c-8.834 6.167-12.106 17.703-7.828 27.592 0.053 0.103 4.453 10.156 4.453 19.32 0 27.827-22.908 50.445-51.049 50.445h-1.7c-8.22-0.157-14.92 6.936-17.043 18.036-0.184 0.864-4.11 21.675-4.11 38.037 0 16.387 3.926 37.173 4.11 38.038 2.093 10.942 8.664 18.037 16.728 18.037l0.314-0.026h1.701c28.141 0 51.049 22.668 51.049 50.47 0 9.163-4.4 19.214-4.424 19.292-4.29 9.881-1.055 21.412 7.746 27.618l0.445 0.343 48.168 26.622 0.524 0.236a25.424 25.424 0 0 0 27.907-5.786c5.655-6.1 25.312-23.404 41.047-23.404 15.837 0 35.21 17.2 41.308 23.822a25.346 25.346 0 0 0 18.56 7.829 23.07 23.07 0 0 0 9.268-1.834l0.549-0.209 49.923-27.278 0.523-0.368c8.82-6.165 12.08-17.689 7.801-27.565-0.055-0.104-4.453-10.13-4.453-19.32 0-27.827 22.907-50.469 51.049-50.469h1.7c8.169 0.181 14.895-6.913 17.016-18.011 0.184-0.864 4.111-21.65 4.111-38.038 0.002-16.361-3.925-37.173-4.136-38.037z m-50.74 44.42c-42.636 13.533-73.595 53.313-73.595 100.141 0 4.224 0.33 8.351 0.874 12.264L747.3 811.9c-15.016-11.816-37.785-25.168-63.849-25.168-25.5 0-48.118 13.096-63.135 24.667l-4.564-2.517c0.555-3.988 0.886-8.168 0.886-12.467 0-46.838-30.97-86.628-73.618-100.14-0.17-2.283-0.278-4.448-0.278-6.379 0-1.94 0.107-4.116 0.278-6.41 42.648-13.511 73.618-53.29 73.618-100.118 0-4.202-0.33-8.297-0.864-12.19l7.316-3.978c14.963 11.325 37.188 23.814 62.399 23.814 24.88 0 46.86-12.147 61.738-23.238l5.983 3.285c-0.587 4.212-0.907 8.36-0.907 12.307 0 46.838 30.97 86.607 73.628 100.119 0.17 2.282 0.278 4.468 0.278 6.41-0.003 1.93-0.11 4.106-0.28 6.377z m-516.643-228.94c-15.08 0-27.302 12.221-27.302 27.3s12.222 27.302 27.302 27.302h207.49c15.08 0 27.301-12.222 27.301-27.301s-12.222-27.301-27.301-27.301h-207.49z m368.568-125.587c0-15.08-12.222-27.301-27.301-27.301H309.286c-15.08 0-27.302 12.222-27.302 27.301s12.222 27.302 27.302 27.302h341.267c15.08 0 27.301-12.222 27.301-27.302z"  ></path><path d="M198.363 719.774V257.645c0-33.12 26.944-60.063 60.063-60.063h442.98c33.12 0 60.063 26.944 60.063 60.063V410.63h54.603V257.645c0-63.225-51.44-114.665-114.665-114.665H258.426c-63.225 0-114.666 51.44-114.666 114.665v462.13c0 63.23 51.441 114.665 114.666 114.665h153.608v-54.603H258.426c-33.12 0-60.063-26.95-60.063-60.063z"  ></path></symbol><symbol id="icon-redo" viewBox="0 0 1024 1024"><path d="M785.066667 452.266667C706.133333 383.573333 603.733333 341.333333 490.666667 341.333333c-198.4 0-366.08 129.28-424.96 308.053334L166.4 682.666667a341.418667 341.418667 0 0 1 324.266667-234.666667c83.2 0 159.146667 30.72 218.453333 80.213333L554.666667 682.666667h384V298.666667l-153.6 153.6z"  ></path></symbol><symbol id="icon-undo" viewBox="0 0 1024 1024"><path d="M533.333333 341.333333c-113.066667 0-215.466667 42.24-294.4 110.933334L85.333333 298.666667v384h384l-154.453333-154.453334c59.306667-49.493333 134.826667-80.213333 218.453333-80.213333 151.04 0 279.466667 98.56 324.266667 234.666667l101.12-33.28C899.413333 470.613333 731.733333 341.333333 533.333333 341.333333z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M960 447.008q-11.008-152.992-120-261.504t-260.992-120.512q-16-0.992-27.488 9.504t-11.488 26.496q0 14.016 9.504 24.512t23.488 11.488q55.008 4 107.008 26.016 60.992 26.016 108.992 73.504t74.016 109.504q22.016 51.008 26.016 106.016 0.992 14.016 11.488 23.488t24.512 9.504q15.008 0 26.016-11.008 11.008-12 8.992-27.008z"  ></path></symbol></svg>',function(e){var n=(n=document.getElementsByTagName("script"))[n.length-1],t=n.getAttribute("data-injectcss"),n=n.getAttribute("data-disable-injectsvg");if(!n){var r,l,d,m,c,i=function(a,o){o.parentNode.insertBefore(a,o)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch{}}r=function(){var a,o=document.createElement("div");o.innerHTML=e._iconfont_svg_string_3899988,(o=o.getElementsByTagName("svg")[0])&&(o.setAttribute("aria-hidden","true"),o.style.position="absolute",o.style.width=0,o.style.height=0,o.style.overflow="hidden",o=o,(a=document.body).firstChild?i(o,a.firstChild):a.appendChild(o))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(r,0):(l=function(){document.removeEventListener("DOMContentLoaded",l,!1),r()},document.addEventListener("DOMContentLoaded",l,!1)):document.attachEvent&&(d=r,m=e.document,c=!1,A(),m.onreadystatechange=function(){m.readyState=="complete"&&(m.onreadystatechange=null,h())})}function h(){c||(c=!0,d())}function A(){try{m.documentElement.doScroll("left")}catch{return void setTimeout(A,50)}h()}}(window);ks.createRoot(document.getElementById("root")).render(z(mL,{}))});export default CL();
